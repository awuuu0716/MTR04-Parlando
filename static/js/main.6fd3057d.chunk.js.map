{"version":3,"sources":["img/logo.svg","img/cart.svg","img/member.svg","redux/reducers/themeSlice.js","utils.js","WebAPI.js","redux/reducers/usersSlice.js","redux/reducers/ordersSlice.js","style/breakpoints.js","component/Header/Header.js","img/location.svg","img/mail.svg","img/fb.svg","img/ig.svg","img/github.svg","component/Footer/Footer.js","img/huiming.jpg","img/summer.jpg","img/awu.jpg","pages/About/About.js","component/MemberNav/MemberNav.js","pages/Info/Info.js","pages/CheckOrder/CheckOrder.js","redux/reducers/productsSlice.js","img/carousel_1.webp","img/carousel_2.webp","img/carousel_3.webp","img/carousel_4.webp","img/carousel_5.webp","component/BannerCarousel/BannerCarousel.js","img/promotion_new1.jpg","img/promotion_new2.jpg","img/arrow.svg","component/Promotion/Promotion.js","pages/Homepage/HomePage.js","img/noImage.svg","pages/Products/Products.js","img/preload.svg","pages/Product/Product.js","img/trash.svg","component/Table/Table.js","component/ShoppingCartTable/ShoppingCartTable.js","pages/ShoppingCartpage/ShoppingCartpage.js","component/Input/Input.js","component/Recipient/Recipient.js","pages/RecipientPage/RecipientPage.js","component/Transaction/Transaction.js","pages/TransactionPage/TransactionPage.js","component/Aside/Aside.js","component/Button/Button.js","redux/reducers/modelsSlice.js","pages/backstage/AddModelPage/AddModelPage.js","pages/backstage/AddPhotoPage/AddPhotoPage.js","component/Editor/Editor.js","pages/backstage/AddProductPage/AddProductPage.js","pages/backstage/AllProductsPage/AllProductsPage.js","pages/backstage/EditModelPage/EditModelPage.js","pages/backstage/EditProductPage/EditProductPage.js","pages/backstage/OrdersPage/OrdersPage.js","pages/backstage/ProductModelsPage/ProductModelsPage.js","pages/backstage/SingleOrderPage/SingleOrderPage.js","style/color.js","style/Themes.js","pages/OrderInfo/OrderInfo.js","pages/Login/Login.js","pages/AdminLogin/AdminLogin.js","pages/Signup/Signup.js","component/App/App.js","redux/store/store.js","index.js"],"names":["themeSlice","createSlice","name","initialState","isBackstageMode","reducers","setIsBackstageMode","state","action","payload","actions","selectIsBackstageMode","theme","QuillDeltaToHtmlConverter","require","TOKEN_NAME","TOKEN_CART","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","getCartToken","JSON","parse","setCartToken","stringify","isPhoneValid","phone","test","toString","isEmailValid","email","isColorChipValid","ColorChip","isStorageValid","store","isPriceValid","price","initRecipientFormErrorData","address","valid","message","handleDateFormat","date","breakPoint","indexOf","slice","BASE_URL","getProduct","id","authToken","fetch","method","headers","Authorization","then","res","json","getDistricts","usersSlice","userLevel","userInfo","errorMessage","setUserLevel","setErrorMessage","setUserInfo","signUp","username","password","realName","dispatch","body","signUpAPI","success","data","updateUserData","userData","updateUserDataAPI","adminLogin","adminLoginAPI","login","loginAPI","getMemberInfo","catch","err","console","log","getMemberInfoAPI","admin","user","selectErrorMessage","users","selectUserLevel","selectUserInfo","ordersSlice","orders","order","cart","setOrders","setOrder","setCart","getOrders","getOrdersAPI","getOrder","uuid","getOrderAPI","addOrder","products","addOrderAPI","newData","updateOrderStatue","updateOrderStatueAPI","updateCart","target","length","selectOrders","selectOrder","selectCart","size","device","Mobiles","Tablets","Laptop","Desktops","Anchor","styled","HashLink","HeaderContainer","div","props","background","LinkContainer","$width","$marginLeft","IconContainer","$isLogin","Nav","Link","Logo","logo","IconCartContainer","IconCart","IconMember","member","HoverContainer","$isShow","BackstageHeader","isLogin","handleLogOut","to","LogOut","onClick","CartTotal","FullHeaderContainer","MobileNavContainer","MenuModal","Hamburger","viewBox","width","height","style","fill","rx","y","Header","useState","isShowProducts","setIsShowProducts","useSelector","isShowModal","setIsShowModal","history","useHistory","useDispatch","location","useLocation","push","useEffect","pathname","includes","onMouseEnter","alert","onMouseLeave","FooterTop","FooterBottom","Container","footer","LeftContainer","Contacts","Location","Email","RightContainer","Icon","$icon","Footer","src","alt","mail","fb","ig","github","Root","Title","h2","Card","Pic","$url","Name","a","Info","About","pic_1","href","pic_2","pic_3","nav","H2","Option","MemberNav","H3","h3","Button","button","TitleContainer","label","UserData","InfoContainer","Top","Bottom","BottomContainer","Input","input","InputContainer","ErrorMessage","Editing","setIsEditing","setRealName","setEmail","setPhone","formErrorData","setFormErrorData","isSubmit","useRef","onSubmit","e","preventDefault","current","prop","required","value","placeholder","onChange","trim","type","onBlur","ShowInfo","isEditing","Ul","ul","Li","li","OrderNumber","OrderInfo","CheckOrder","map","UUID","modelName","modelId","totalPrice","createdAt","productsSlice","product","article","setProducts","setProduct","setArticle","getProducts","filter","sort","getProductsAPI","getProductAPI","deleteProduct","deleteProductAPI","updateProductStatus","isShow","updateProductStatusAPI","updateProduct","productName","updateProductAPI","addProduct","addProductAPI","selectProducts","selectProduct","selectArticle","interval","Img","img","BannerCarousel","Carousel","pause","Item","className","carousel_1","carousel_2","carousel_3","carousel_4","carousel_5","DescriptionContainerTop","DescriptionContainerBottom","H4","h4","H1","h1","Divider","DescriptionText","p","Arrow","arrow","BuyNow","Promotion","promotion_1","promotion_2","ProductsContainer","ImgContainer","ImgFilter","LearnMoreButton","HomePage","promotionProducts","setPromotionProducts","photos","url","OptionContainer","ProductsOption","ProductContainer","Product","$isNoImage","Price","FilterContainer","PriceFilter","$isAcitve","DateFilter","Products","useParams","sortFilter","setSortFilter","isLoading","window","scrollTo","noImage","BreadcrumbContainer","Breadcrumb","Thumbnail","$active","ProductImgContainer","$isLoading","PhotosContainer","PrePicContainer","NextPicContainer","$direction","ProductInfomationContainer","Label","Alternative","Storage","$color","Amount","AmountButton","AmountShow","AddToCart","Buy","ProductNav","Specification","SpecificationTopic","SpecificationContent","Support","SupportTitle","Modal","$isShowModal","CloseModalButton","CheckoutButton","Actions","Article","__html","ArticleContainer","picList","setPicList","nowPicIndex","setNowPicIndex","amount","setAmount","selectedModelId","setSelectedModelId","models","setModels","storage","setStorage","selectedModel","setSelectedModel","index","isActive","modelsData","defaultColor","colorChip","defaultModelId","defaultStorage","deltaOps","ops","convert","getArticle","handleAddCart","goPayment","item","NewCart","count","productId","picIndex","preload","model","dangerouslySetInnerHTML","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","SvgTrash","_ref","svgRef","title","titleId","enableBackground","xmlns","ref","ForwardRef","HeaderFat","$flex","OrderContent","Table","table","ProductColumn","ProductInfo","TableFootColumn","TableFoot","TableHeader","TableBody","DeleteBtn","Trash","ProductInfoContainer","ProductImg","NextBtn","ShoppingCartTable","cartInfoList","setCartInfoList","update","setUpdate","total","setTotal","cartInfo","getOrderInfo","Promise","all","reduce","b","$size","ShoppingCartpage","WrapperInput","InputStyle","InputTitle","span","errorText","InputSelect","inputTitle","types","inputType","FormHeader","FormTitle","ReceiverInfoForm","form","RadioInputContent","h5","Radio","attrs","Error","Required","SameReceiver","MemoRequired","memo","content","MemoTitle","CountryInputs","options","option","cityName","districtName","SameReceiverBtn","htmlFor","InputRadio","defaultChecked","StyledInput","Recipient","cities","setCities","districts","setDistricts","selectedCity","setSelectedCity","selectedDistrict","setSelectedDistrict","sameRecipient","setName","setAddress","isLoaded","setIsLoaded","checkPhoneValid","checkEmailValid","checkNameValid","handleInputChange","orderId","cityId","districtId","addRecipient","RecipientPage","SuccessInfoWrapper","OrderDesc","OrderTips","OrderLink","HomeBtn","OrderBtn","BtnWrapper","Transaction","TransactionPage","AsideWrapper","titleColor","textHover","AsideTitle","borderColor","AsideBtn","navbarHover","Aside","isShowAside","setIsShowAside","isShowAsideBtn","setIsShowAsideBtn","shadow","ButtonLight","textColor","modelsSlice","setModel","getModel","getModelAPI","deleteModel","deleteModelAPI","updateModelStatus","updateModelStatusAPI","updateModel","updateModelAPI","addModel","addModelAPI","selectModels","selectModel","Form","SubmitBtn","modelErrorMessageInit","AddModelPage","modelErrorMessage","setModelErrorMessage","setModelName","setColorChip","updateModelNameIsValid","updateColorChipIsValid","updateStorageIsValid","goBack","AddPhotoPage","setPhotos","multiple","resolve","reject","formData","FormData","files","append","file","addProductPhoto","result","error","photo","photosIdArray","linkProductPhotos","contentInit","insert","attributes","align","image","Editor","counterRef","React","modules","imageResize","displaySize","toolbar","header","imageUploader","upload","addArticlePhoto","useQuill","quill","quillRef","Quill","debug","register","ImageResize","ImageUploader","setContents","on","text","getContents","productErrorMessageInit","AddProductPage","productErrorMessage","setProductErrorMessage","setProductName","setPrice","setType","updateProductIsValid","updatePriceIsValid","updateTypeIsValid","isProductNameValid","updateArticleIsValid","TableWrapper","StyledTable","ButtonGroup","FilterSelector","Buttons","handleProductDelete","handleProductIsShow","AllProductsPage","EditModelPage","setIsShow","isModelNameValid","EditProductPage","typeHasChange","articleInit","TitleHeader","OrdersPage","isUpdated","setIsUpdated","userId","Product_models","Order_product","status","handleModelDelete","handleModelIsShow","ProductModelsPage","getModels","isDeleted","sell","SingleOrderPage","recipient","color","primary","secondary","danger","light","dark","white","wheat","Themes","customer","mediaIcon","backstage","H5","Back","InputSection","section","OptionsContainer","SignUpLink","LoginButton","Login","setUsername","setPassword","SignupButtin","Signup","comfirmpassword","setComfirmpassword","checkPasswordConsistent","replaceAll","Auth","Component","component","role","setIsLoading","App","exact","path","AdminLogin","ShoppingCartPage","configureStore","reducer","themeReducer","ReactDOM","render","document","getElementById"],"mappings":"2LAAe,MAA0B,iCCA1B,MAA0B,iCCA1B,MAA0B,mC,QCE5BA,EAAaC,YAAY,CACpCC,KAAM,QACNC,aAAc,CACZC,iBAAiB,GAEnBC,SAAU,CACRC,mBAAoB,SAACC,EAAOC,GAC1BD,EAAMH,gBAAkBI,EAAOC,YAKtBH,EAAuBN,EAAWU,QAAlCJ,mBAEFK,EAAwB,SAACJ,GAAD,OAAWA,EAAMK,MAAMR,iBAE7CJ,IAAf,Q,OClBMa,EAA4BC,EAAQ,IACvCD,0BACGE,EAAa,QACbC,EAAa,OAENC,EAAe,SAACC,GAC3BC,aAAaC,QAAQL,EAAYG,IAGtBG,EAAe,kBAAMF,aAAaG,QAAQP,IAC1CQ,EAAe,WAC1B,OAAIJ,aAAaG,QAAQN,GAChBQ,KAAKC,MAAMN,aAAaG,QAAQN,IAElC,IAEIU,EAAe,SAACR,GAC3BC,aAAaC,QAAQJ,EAAYQ,KAAKG,UAAUT,KAMrCU,EAAe,SAACC,GAE3B,MADa,cACDC,KAAKD,EAAME,aAGZC,EAAe,SAACC,GAE3B,MADa,kCACDH,KAAKG,IAQNC,EAAmB,SAACC,GAE/B,MADa,wBACDL,KAAKK,IAQNC,EAAiB,SAACC,GAE7B,MADa,iBACDP,KAAKO,IAGNC,EAAe,SAACC,GAE3B,OAAIA,EAAQ,MACH,IAFI,iBAIHT,KAAKS,IACN,GAqBEC,EAA6B,WACxC,MAAO,CACLC,QAAS,CAAEC,OAAO,EAAMC,QAAS,IACjCzC,KAAM,CAAEwC,OAAO,EAAMC,QAAS,IAC9BV,MAAO,CAAES,OAAO,EAAMC,QAAS,IAC/Bd,MAAO,CAAEa,OAAO,EAAMC,QAAS,MAItBC,EAAmB,SAACC,GAC/B,IAAMC,EAAaD,EAAKE,QAAQ,KAChC,OAAOF,EAAKG,MAAM,EAAGF,IC1FjBG,EAAW,wBA4EJC,EAAa,SAACC,GACzB,IAAMjC,EAAQG,IACR+B,EAAYlC,EAAK,iBAAaA,GAAU,GAE9C,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,qBAAyBE,GAAM,CACzCG,OAAQ,MACRC,QAAS,CAAEC,cAAeJ,KACzBK,MAAK,SAACC,GAAD,OAASA,EAAIC,WAuNVC,EAAe,SAACT,GAC3B,OAAOE,MAAM,GAAD,OAAIJ,EAAJ,6BAAiCE,GAAM,CACjDG,OAAQ,QACPG,MAAK,SAACC,GAAD,OAASA,EAAIC,WCpSVE,EAAa5D,YAAY,CACpCC,KAAM,QACNC,aAAc,CACZ2D,UAAW,QACXC,SAAU,GACVC,aAAc,IAEhB3D,SAAU,CACR4D,aAAc,SAAC1D,EAAOC,GACpBD,EAAMuD,UAAYtD,EAAOC,SAE3ByD,gBAAiB,SAAC3D,EAAOC,GACvBD,EAAMyD,aAAexD,EAAOC,SAE9B0D,YAAa,SAAC5D,EAAOC,GACnBD,EAAMwD,SAAN,eAAsBvD,EAAOC,a,EAS/BoD,EAAWnD,QAHbuD,E,EAAAA,aACAC,E,EAAAA,gBACAC,E,EAAAA,YAGWC,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAUC,EAAvB,EAAuBA,SAAUtC,EAAjC,EAAiCA,MAAOJ,EAAxC,EAAwCA,MAAxC,OAAoD,SACxE2C,GAGA,OADAA,EAASN,EAAgB,KDnCL,SAAC,GAAD,IAAGG,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAUC,EAAvB,EAAuBA,SAAUtC,EAAjC,EAAiCA,MAAOJ,EAAxC,EAAwCA,MAAxC,OACpBwB,MAAM,GAAD,OAAIJ,EAAJ,aAAyB,CAC5BK,OAAQ,OACRC,QAAS,CACP,eAAgB,kCAElBkB,KAAMjD,KAAKG,UAAU,CAAE0C,WAAUC,WAAUC,WAAUtC,QAAOJ,YAC3D4B,MAAK,SAACC,GAAD,OAASA,EAAIC,UC6Bde,CAAU,CAAEL,WAAUC,WAAUC,WAAUtC,QAAOJ,UAAS4B,MAC/D,SAACC,GACC,OAAKA,EAAIiB,SAGTH,EAASP,EAAa,WACtBhD,EAAayC,EAAIkB,KAAK1D,OACfwC,EAAIkB,KAAK1D,OAJPwC,OASFmB,EAAiB,SAACC,GAAD,OAAc,SAACN,GAE3C,OADAA,EAASN,EAAgB,KDEG,SAAC,GAAgC,IAA9BK,EAA6B,EAA7BA,SAAUtC,EAAmB,EAAnBA,MAAOJ,EAAY,EAAZA,MAC1CX,EAAQG,IACd,OAAOgC,MAAM,GAAD,OAAIJ,EAAJ,UAAsB,CAChCK,OAAQ,QACRC,QAAS,CACPC,cAAc,UAAD,OAAYtC,GACzB,eAAgB,kCAElBuD,KAAMjD,KAAKG,UAAU,CAAE4C,WAAUtC,QAAOJ,YACvC4B,MAAK,SAACC,GAAD,OAASA,EAAIC,UCVdoB,CAAkBD,GAAUrB,MAAK,SAACC,GACvC,GAAKA,EAAIiB,QAIT,OAAOjB,EAHLc,EAASN,EAAgBR,EAAIf,eAOtBqC,EAAa,SAAC,GAAD,IAAGX,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAb,OAA4B,SAACE,GAErD,OADAA,EAASN,EAAgB,KDrCD,SAAC,GAAD,IAAGG,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAb,OACxBjB,MAAM,GAAD,OAAIJ,EAAJ,UAAsB,CACzBK,OAAQ,OACRC,QAAS,CACP,eAAgB,kCAElBkB,KAAMjD,KAAKG,UAAU,CACnB0C,WACAC,eAEDb,MAAK,SAACC,GACP,OAAOA,EAAIC,UC2BNsB,CAAc,CAAEZ,WAAUC,aAAYb,MAAK,SAACC,GACjD,GAAKA,EAAIiB,QAMT,OAFA1D,EAAayC,EAAIkB,KAAK1D,OACtBsD,EAASP,EAAa,UACfP,EAAIkB,KAAK1D,MALdsD,EAASN,EAAgBR,EAAIf,eAStBuC,EAAQ,SAAC,GAAD,IAAGb,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAb,OAA4B,SAACE,GAEhD,OADAA,EAASN,EAAgB,KDhEN,SAAC,GAAD,IAAGG,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAb,OACnBjB,MAAM,GAAD,OAAIJ,EAAJ,UAAsB,CACzBK,OAAQ,OACRC,QAAS,CACP,eAAgB,kCAElBkB,KAAMjD,KAAKG,UAAU,CACnB0C,WACAC,eAEDb,MAAK,SAACC,GACP,OAAOA,EAAIC,UCsDNwB,CAAS,CAAEd,WAAUC,aAAYb,MAAK,SAACC,GAC5C,GAAKA,EAAIiB,QAMT,OAFA1D,EAAayC,EAAIkB,KAAK1D,OACtBsD,EAASP,EAAa,WACfP,EAAIkB,KAAK1D,MALdsD,EAASN,EAAgBR,EAAIf,eAStByC,EAAgB,kBAAM,SAACZ,GAClC,ODjD2B,WAC3B,IAAMtD,EAAQG,IACd,OAAOgC,MAAM,GAAD,OAAIJ,EAAJ,UAAsB,CAChCK,OAAQ,MACRC,QAAS,CACPC,cAAc,UAAD,OAAYtC,MAG1BuC,MAAK,SAACC,GACL,OAAOA,EAAIC,UAEZ0B,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MCsCvBG,GAAmBhC,MAAK,SAACC,GAC9B,OAAKA,EAAIiB,QAILjB,EAAIkB,KAAKc,OACXlB,EAASP,EAAa,UACfP,IAETc,EAASL,EAAYT,EAAIkB,KAAKe,OAC9BnB,EAASP,EAAa,WACfP,IATLzC,EAAa,IACNyC,MASR2B,OAAM,SAAAC,GAAG,OAAEC,QAAQC,IAAIF,QAIfM,EAAqB,SAACrF,GAAD,OAAWA,EAAMsF,MAAM7B,cAC5C8B,EAAkB,SAACvF,GAAD,OAAWA,EAAMsF,MAAM/B,WACzCiC,EAAiB,SAACxF,GAAD,OAAWA,EAAMsF,MAAM9B,UAEtCF,IAAf,QC1GamC,EAAc/F,YAAY,CACrCC,KAAM,SACNC,aAAc,CACZ8F,OAAQ,GACRC,MAAO,GACPC,KAAM,IAER9F,SAAU,CACR+F,UAAW,SAAC7F,EAAOC,GACjBD,EAAM0F,OAASzF,EAAOC,SAExB4F,SAAU,SAAC9F,EAAOC,GAChBD,EAAM2F,MAAQ1F,EAAOC,SAEvB6F,QAAS,SAAC/F,EAAOC,GACfD,EAAM4F,KAAO3F,EAAOC,YAKb8F,GAAY,kBAAM,SAAC/B,GAAD,OFuNN,WACvB,IAAMtD,EAAQG,IAEd,OAAOgC,MAAM,GAAD,OAAIJ,EAAJ,WAAuB,CACjCK,OAAQ,MACRC,QAAS,CAAEC,cAAc,UAAD,OAAYtC,MACnCuC,MAAK,SAACC,GAAD,OAASA,EAAIC,UE5NrB6C,GAAe/C,MAAK,SAACC,GACnB,OAAKA,EAAIiB,SAITH,EAAS4B,GAAU1C,EAAIkB,KAAKqB,SACrBvC,IAJLc,EAAS4B,GAAU,KACZ1C,QAMA+C,GAAW,SAACC,GAAD,OAAU,SAAClC,GAAD,OFsNV,SAACrB,GACvB,IAAMjC,EAAQG,IAEd,OAAOgC,MAAM,GAAD,OAAIJ,EAAJ,mBAAuBE,GAAM,CACvCG,OAAQ,MACRC,QAAS,CAAEC,cAAc,UAAD,OAAYtC,MACnCuC,MAAK,SAACC,GAAD,OAASA,EAAIC,UE3NrBgD,CAAYD,GAAMjD,MAAK,SAACC,GACtB,OAAKA,EAAIiB,SAGTH,EAAS6B,GAAS3C,EAAIkB,KAAKsB,QACpBxC,GAHEA,EAAIf,aAMJiE,GAAW,SAAChC,GAAD,OAAU,SAACJ,GAAD,OF8NV,SAACqC,GACvBtB,QAAQC,IAAI,WAAWqB,GACvB,IAAM3F,EAAQG,IACR+B,EAAYlC,EAAK,iBAAaA,GAAU,GAC9C,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,WAAuB,CACjCK,OAAQ,OACRC,QAAS,CACPC,cAAeJ,EACf,eAAgB,kCAElBqB,KAAMjD,KAAKG,UAAU,CAAEkF,SAASA,MAC/BpD,MAAK,SAACC,GAAD,OAASA,EAAIC,UExOrBmD,CAAYlC,GAAMnB,MAAK,SAACsD,GACtB,OAAKA,EAAQpC,SACXH,EAAS6B,GAAS,KAGbU,OAGEC,GAAoB,SAACN,GAAD,OAAU,SAAClC,GAAD,OF4MV,SAACrB,GAChC,IAAMjC,EAAQG,IAEd,OAAOgC,MAAM,GAAD,OAAIJ,EAAJ,mBAAuBE,GAAM,CACvCG,OAAQ,QACRC,QAAS,CAAEC,cAAc,UAAD,OAAYtC,MACnCuC,MAAK,SAACC,GAAD,OAASA,EAAIC,UEjNrBsD,CAAqBP,GAAMjD,MAAK,SAACC,GAC/B,OAAKA,EAAIiB,SACPH,EAAS6B,GAAS,KAGb3C,OAGEwD,GAAa,SAACR,GAAD,OAAU,SAAClC,GACnC,IAAM2C,EAAS5F,IACfiD,EAAS8B,GAAQa,EAAOC,W,GAGsBpB,EAAYtF,QAA7C0F,G,GAAAA,UAAWC,G,GAAAA,SAAUC,G,GAAAA,QAEvBe,GAAe,SAAC9G,GAAD,OAAWA,EAAM0F,OAAOA,QACvCqB,GAAc,SAAC/G,GAAD,OAAWA,EAAM0F,OAAOC,OACtCqB,GAAa,SAAChH,GAAD,OAAWA,EAAM0F,OAAOE,MAEnCH,KAAf,Q,QCxEMwB,GAED,QAFCA,GAGD,SAHCA,GAID,SAECC,GAAS,CACbC,QAAQ,cAAD,OANJ,QAMI,KACPC,QAAQ,eAAD,OAAiBH,GAAjB,KACPI,OAAO,eAAD,OAAiBJ,GAAjB,KACNK,SAAS,eAAD,OAAiBL,GAAjB,M,y4GCIV,IAAMM,GAASC,YAAOC,YAAPD,CAAH,MASNE,GAAkBF,IAAOG,IAAV,MAOL,SAACC,GAAD,OAAWA,EAAMvH,MAAMwH,aAE5BX,GAAOC,QAGPD,GAAOE,QAGPF,GAAOI,UAGZQ,GAAgBN,IAAOG,IAAV,MACR,SAACC,GAAD,OAAWA,EAAMG,UAGX,SAACH,GAAD,OAAYA,EAAMI,YAAcJ,EAAMI,YAAc,KAG/DC,GAAgBT,IAAOG,IAAV,MACR,SAACC,GAAD,OAAYA,EAAMM,SAAW,MAAQ,SAK1CC,GAAMX,YAAOY,OAAPZ,CAAH,MAUHa,GAAOb,YAAOY,OAAPZ,CAAH,KAIUc,GAIdC,GAAoBf,IAAOG,IAAV,MAIjBa,GAAWhB,IAAOG,IAAV,KAKA/B,GASR6C,GAAajB,YAAOY,OAAPZ,CAAH,KAIFkB,GAQRC,GAAiBnB,IAAOG,IAAV,MACP,qBAAGiB,QAAyB,OAAS,UAa5CC,GAAkB,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,aAClC,OACE,eAACrB,GAAD,WACE,cAACW,GAAD,CAAMW,GAAG,MACRF,EAAU,cAACG,GAAD,CAAQC,QAASH,EAAjB,0BAA6C,cAACZ,GAAD,CAAKa,GAAG,wBAAR,8BAKxDC,GAASzB,IAAOG,IAAV,MAUNwB,GAAY3B,IAAOG,IAAV,MAcTyB,GAAsB5B,IAAOG,IAAV,KAKdT,GAAOC,QAGPD,GAAOE,QAEPF,GAAOG,QAKZgC,GAAqB7B,IAAOG,IAAV,KAIbT,GAAOC,QAGPD,GAAOG,QAKZiC,GAAY9B,IAAOG,IAAV,MAEF,SAACC,GAAD,OAAYA,EAAMgB,QAAU,OAAS,UAY5CW,GAAY,kBAChB,sBAAKC,QAAQ,aAAaC,MAAM,KAAKC,OAAO,KAAKC,MAAO,CAAEC,KAAM,SAAhE,UACE,sBAAMH,MAAM,MAAMC,OAAO,KAAKG,GAAG,MACjC,sBAAMC,EAAE,KAAKL,MAAM,MAAMC,OAAO,KAAKG,GAAG,MACxC,sBAAMC,EAAE,KAAKL,MAAM,MAAMC,OAAO,KAAKG,GAAG,UAI7B,SAASE,KAAU,IAAD,EACaC,oBAAS,GADtB,mBACxBC,EADwB,KACRC,EADQ,KAEzBtE,EAAOuE,aAAYnD,IAFM,EAGOgD,oBAAS,GAHhB,mBAGxBI,EAHwB,KAGXC,EAHW,KAIzBxK,EAAkBsK,aAAY/J,GAC9BmD,EAAY4G,aAAY5E,GACxB+E,EAAUC,cACVtG,EAAWuG,eACXC,EAAWC,cAmBX3B,EAAe,WACnB9E,EAASP,EAAa,UACtBO,EAASL,EAAY,KACrBlD,EAAa,IACbS,EAAa,IACbmJ,EAAQK,KAAK,MAsBf,OAnBAC,qBAAU,WACJH,EAASI,SAASC,SAAS,cAC7B7G,EAASlE,GAAmB,IAE5BkE,EAASlE,GAAmB,MAE7B,CAAC0K,EAASI,SAAU5G,IAEvB2G,qBAAU,WACJ9J,KACFmD,EAASY,KAAiB3B,MAAK,SAACC,GACzBA,EAAIiB,SAASkG,EAAQK,KAAK,UAElC,CAAC1G,EAAUqG,IAEdM,qBAAU,WACR3G,EAAS0C,SAIT,qCACG9G,GACC,cAAC,GAAD,CACEkJ,aAAcA,EACdD,QAAuB,UAAdvF,KAGX1D,GACA,qCACE,eAAC6H,GAAD,WACE,eAAC0B,GAAD,WACE,cAACf,GAAD,CAAMW,GAAG,MACT,eAAClB,GAAD,CAAeC,OAAQ,IAAvB,UACE,cAACI,GAAD,CAAKa,GAAG,SAAR,sCACA,cAACzB,GAAD,CAAQyB,GAAG,SAAX,sCACA,cAACb,GAAD,CAAKa,GAAG,gBAAgB+B,aA5Db,WACnBd,GACJC,GAAkB,IA0DN,yCAIF,eAACjC,GAAD,CAAeC,SAAwB,WAAd3E,EAAzB,UACE,eAACgF,GAAD,WACE,cAACC,GAAD,CAAUU,QA5DG,WAC3B,MAAkB,WAAd3F,GACFyH,MAAM,8CACCV,EAAQK,KAAK,WAEjB/E,EAIE0E,EAAQK,KAAK,mBAHlBK,MAAM,oGACCV,EAAQK,KAAK,qBAsDP/E,EAAO,cAACuD,GAAD,UAAYvD,IAAoB,MAE1C,cAAC6C,GAAD,CAAYO,GAAG,qBACA,WAAdzF,GACC,cAAC0F,GAAD,CAAQC,QAASH,EAAjB,gCAKN,eAACM,GAAD,WACE,cAAChB,GAAD,CAAMW,GAAG,MACT,qBAAKE,QAAS,kBAAMmB,GAAgBD,IAApC,SACE,cAAC,GAAD,SAIJ,eAACd,GAAD,CAAWV,QAASwB,EAApB,UACE,cAACjC,GAAD,CAAKa,GAAG,SAASE,QAAS,kBAAMmB,GAAgBD,IAAhD,sCAGA,cAACjC,GAAD,CAAKa,GAAG,QAAQE,QAAS,kBAAMmB,GAAgBD,IAA/C,sCAGA,cAACjC,GAAD,CAAKa,GAAG,gBAAgBE,QAAS,kBAAMmB,GAAgBD,IAAvD,sCAGA,cAACjC,GAAD,CAAKa,GAAG,iBAAiBE,QAAS,kBAAMmB,GAAgBD,IAAxD,gCAGA,cAACjC,GAAD,CAAKa,GAAG,mBAAmBE,QAAS,kBAAMmB,GAAgBD,IAA1D,sCAGe,WAAd7G,GACC,cAAC0F,GAAD,CACEC,QAAS,WACPH,IACAsB,GAAgBD,IAHpB,gCAWN,cAACzB,GAAD,CACEC,QAASqB,EACTgB,aA5Ge,kBAAMf,GAAkB,IA0GzC,SAIE,eAACpC,GAAD,CAAeC,OAAQ,IAAKC,YAAa,IAAzC,UACE,cAACG,GAAD,CAAKa,GAAG,cAAR,4CACA,cAACb,GAAD,CAAKa,GAAG,cAAR,4CACA,cAACb,GAAD,CAAKa,GAAG,cAAR,0BACA,cAACb,GAAD,CAAKa,GAAG,cAAR,iDCvUC,WAA0B,qCCA1B,OAA0B,iCCA1B,OAA0B,+BCA1B,OAA0B,+BCA1B,OAA0B,mC,onECUzC,IAAMkC,GAAY1D,IAAOG,IAAV,KAKJT,GAAOC,QAGPD,GAAOE,QAIPF,GAAOG,OAIPH,GAAOI,UAIZe,GAAOb,YAAOY,OAAPZ,CAAH,KAIUc,GAId6C,GAAe3D,IAAOG,IAAV,MAKZyD,GAAY5D,IAAO6D,OAAV,MAGC,SAACzD,GAAD,OAAWA,EAAMvH,MAAMwH,aAI5BX,GAAOC,QAEPD,GAAOE,QAIPF,GAAOG,OAEPH,GAAOI,UAMZgE,GAAgB9D,IAAOG,IAAV,KAMRT,GAAOC,QAIPD,GAAOE,QAEPF,GAAOG,OAGPH,GAAOI,UAIZiE,GAAW/D,IAAOG,IAAV,MAIR6D,GAAWhE,IAAOG,IAAV,MASR8D,GAAQjE,IAAOG,IAAV,MAUL+D,GAAiBlE,IAAOG,IAAV,MAOdgE,GAAOnE,YAAOY,OAAPZ,CAAH,MAGI,SAACI,GAAD,OAAWA,EAAMgE,SAQhB,SAASC,KACtB,OACE,eAACT,GAAD,WACE,eAACF,GAAD,WACE,eAACI,GAAD,WACE,cAAC,GAAD,CAAMtC,GAAG,MACT,eAACuC,GAAD,WACE,eAACC,GAAD,WACE,qBAAKM,IAAKrB,GAAUsB,IAAI,YACxB,sIAEF,eAACN,GAAD,WACE,qBAAKK,IAAKE,GAAMD,IAAI,UACpB,6DAKN,eAACL,GAAD,WACE,cAACC,GAAD,CAAMC,MAAOK,GAAIjD,GAAG,MACpB,cAAC2C,GAAD,CAAMC,MAAOM,GAAIlD,GAAG,MACpB,cAAC2C,GAAD,CAAMC,MAAOO,GAAQnD,GAAG,YAG5B,cAACmC,GAAD,6C,UCpJS,OAA0B,oCCA1B,OAA0B,mCCA1B,OAA0B,gC,2pCCMzC,IAAMiB,GAAO5E,IAAOG,IAAV,MAIJ0E,GAAQ7E,IAAO8E,GAAV,MAMLlB,GAAY5D,IAAOG,IAAV,MAQT4E,GAAO/E,IAAOG,IAAV,MAQJ6E,GAAMhF,IAAOG,IAAV,MAKW,SAACC,GAAD,OAAWA,EAAM6E,QAG/BC,GAAOlF,IAAOmF,EAAV,MAYJC,GAAOpF,IAAOG,IAAV,MAKK,SAASkF,KACtB,OACE,eAACT,GAAD,WACE,cAACC,GAAD,uCACA,eAAC,GAAD,WACE,eAACE,GAAD,WACE,cAACC,GAAD,CAAKC,KAAMK,KACX,cAACJ,GAAD,CAAMK,KAAK,kCAAX,qBACA,cAACH,GAAD,qDAEF,eAACL,GAAD,WACE,cAACC,GAAD,CAAKC,KAAMO,KACX,cAACN,GAAD,CAAMK,KAAK,kCAAX,sCACA,cAACH,GAAD,oQAKF,eAACL,GAAD,WACE,cAACC,GAAD,CAAKC,KAAMQ,KACX,cAACP,GAAD,CAAMK,KAAK,+BAAX,iBACA,cAACH,GAAD,8B,+fC3EV,IAAMzE,GAAMX,IAAO0F,IAAV,MAIHC,GAAK3F,IAAO8E,GAAV,MAMFc,GAAS5F,YAAOY,OAAPZ,CAAH,MAcG,SAAS6F,KACtB,OACE,eAAC,GAAD,WACE,cAACF,GAAD,uCACA,cAACC,GAAD,CAAQpE,GAAG,mBAAX,sCACA,cAACoE,GAAD,CAAQpE,GAAG,oBAAX,yC,+nECnBN,IAAMoC,GAAY5D,IAAOG,IAAV,MAKT2F,GAAK9F,IAAO+F,GAAV,MAOFC,GAAShG,IAAOiG,OAAV,MAoBNC,GAAiBlG,IAAOG,IAAV,MAMd0E,GAAQ7E,IAAOmG,MAAV,MAULC,GAAWpG,IAAOG,IAAV,MAaRkG,GAAgBrG,IAAOG,IAAV,MAEbmG,GAAMtG,IAAOG,IAAV,MAIHoG,GAASvG,IAAOG,IAAV,MAKNqG,GAAkBxG,IAAOG,IAAV,MAMfsG,GAAQzG,IAAO0G,MAAV,MAULC,GAAiB3G,IAAOG,IAAV,MAIdyG,GAAe5G,IAAOG,IAAV,MAQZ0G,GAAU,SAAC,GAAgC,IAA9B7K,EAA6B,EAA7BA,SAAU8K,EAAmB,EAAnBA,aAAmB,GACzBnE,aAAY9E,GACD2E,mBAASxG,EAASQ,WAFJ,mBAEvCA,EAFuC,KAE7BuK,EAF6B,OAGpBvE,mBAASxG,EAAS9B,OAHE,mBAGvCA,EAHuC,KAGhC8M,EAHgC,OAIpBxE,mBAASxG,EAASlC,OAJE,mBAIvCA,EAJuC,KAIhCmN,EAJgC,OAKJzE,mBAAS,CACjDtI,MAAO,CAAES,OAAO,EAAMC,QAAS,IAC/Bd,MAAO,CAAEa,OAAO,EAAMC,QAAS,IAC/B4B,SAAU,CAAE7B,OAAO,EAAMC,QAAS,MARU,mBAKvCsM,EALuC,KAKxBC,EALwB,KAUxC1K,EAAWuG,eACXoE,EAAWC,kBAAO,GA2CxB,OACE,cAAChB,GAAD,UACE,uBAAMiB,SA3CW,SAACC,GAEpB,GADAA,EAAEC,kBACEJ,EAASK,QAAb,CAEA,IAAK,IAAIC,KADTN,EAASK,SAAU,EACFP,EACf,IAAKA,EAAcQ,GAAM/M,MAEvB,YADAyM,EAASK,SAAU,GAIvBhL,EAASK,EAAe,CAAEN,WAAUtC,QAAOJ,WAAU4B,MAAK,SAACC,GACpDA,IACLc,EAASL,EAAY,2BAAKJ,GAAN,IAAeQ,WAAUtC,QAAOJ,YACpDgN,GAAa,SA8Bb,UACE,cAACR,GAAD,UACE,cAACR,GAAD,yCAEF,eAACS,GAAD,WACE,eAACL,GAAD,WACE,cAAC,GAAD,iCACA,cAAC,GAAD,6CACA,cAAC,GAAD,oCAEF,eAACA,GAAD,WACE,eAACS,GAAD,WACE,cAACF,GAAD,CACEkB,UAAQ,EACRC,MAAOpL,EACPqL,YAAY,sDACZC,SAAU,SAACP,GAAD,OACRR,EAAYQ,EAAEnI,OAAOwI,MAAMG,OAAO9M,MAAM,EAAG,QAG/C,cAAC2L,GAAD,UAAeM,EAAc1K,SAAS5B,aAExC,eAAC+L,GAAD,WACE,cAACF,GAAD,CACEkB,UAAQ,EACRK,KAAK,QACLH,YAAY,yDACZD,MAAO1N,EACP4N,SAAU,SAACP,GAAD,OAAOP,EAASO,EAAEnI,OAAOwI,MAAMG,SACzCE,OA3CU,WACtB,IAAKhO,EAAaC,GAChB,OAAOiN,EAAiB,2BACnBD,GADkB,IAErBhN,MAAO,CAAES,OAAO,EAAOC,QAAS,2CAEpCuM,EAAiB,2BACZD,GADW,IAEdhN,MAAO,CAAES,OAAO,EAAMC,QAAS,UAqCvB,cAACgM,GAAD,UAAeM,EAAchN,MAAMU,aAErC,eAAC+L,GAAD,WACE,cAACF,GAAD,CACEkB,UAAQ,EACRC,MAAO9N,EACP+N,YAAY,yDACZI,OAhEU,WACtB,IAAKpO,EAAaC,GAChB,OAAOqN,EAAiB,2BACnBD,GADkB,IAErBpN,MAAO,CAAEa,OAAO,EAAOC,QAAS,2CAEpCuM,EAAiB,2BACZD,GADW,IAEdpN,MAAO,CAAEa,OAAO,EAAMC,QAAS,QAyDrBkN,SAAU,SAACP,GAAD,OAAON,EAASM,EAAEnI,OAAOwI,MAAMG,WAE3C,cAACnB,GAAD,UAAeM,EAAcpN,MAAMc,mBAIzC,eAAC4L,GAAD,WACE,cAACR,GAAD,CAAQgC,KAAK,SAAb,0BACA,cAAChC,GAAD,CAAQtE,QAAS,kBAAMoF,GAAa,IAApC,mCAOJoB,GAAW,SAAC,GAAgC,IAA9BpB,EAA6B,EAA7BA,aAAc9K,EAAe,EAAfA,SAChC,OACE,eAACqK,GAAD,WACE,eAACC,GAAD,WACE,cAACR,GAAD,uCACA,cAACE,GAAD,CAAQtE,QAAS,kBAAMoF,GAAa,IAApC,6BAEF,eAACP,GAAD,WACE,eAACL,GAAD,WACE,cAAC,GAAD,mDACA,cAAC,GAAD,iCACA,cAAC,GAAD,6CACA,cAAC,GAAD,oCAEF,eAACA,GAAD,WACE,cAACE,GAAD,UAAWpK,EAASM,WACpB,cAAC8J,GAAD,UAAWpK,EAASQ,WACpB,cAAC4J,GAAD,UAAWpK,EAAS9B,QACpB,cAACkM,GAAD,UAAWpK,EAASlC,kBAOf,SAASsL,KACtB,IAAMpJ,EAAW2G,aAAY3E,GADA,EAEKwE,oBAAS,GAFd,mBAEtB2F,EAFsB,KAEXrB,EAFW,KAGvBrK,EAAWuG,eAMjB,OAJAI,qBAAU,WACR3G,EAASY,OACR,CAACZ,IAGF,eAAC,GAAD,WACE,cAACoJ,GAAD,IACCsC,EACC,cAAC,GAAD,CAASrB,aAAcA,EAAc9K,SAAUA,IAE/C,cAAC,GAAD,CAAU8K,aAAcA,EAAc9K,SAAUA,O,yuCC/PxD,IAAM4H,GAAY5D,IAAOG,IAAV,MAMT2F,GAAK9F,IAAO+F,GAAV,MAKFqC,GAAKpI,IAAOqI,GAAV,MAKFC,GAAKtI,IAAOuI,GAAV,MASFrI,GAAkBF,IAAOuI,GAAV,MAYfhG,GAASvC,IAAOG,IAAV,MAKNqI,GAAcxI,YAAOY,OAAPZ,CAAH,MASXyI,GAAYzI,IAAOG,IAAV,MAOA,SAASuI,KACtB,IAAMjM,EAAWuG,eACX9E,EAASyE,aAAYrD,IAM3B,OAJA8D,qBAAU,WACR3G,EAAS+B,QACR,CAAC/B,IAGF,eAAC,GAAD,WACE,cAACoJ,GAAD,IAEA,oCACE,cAAC,GAAD,uCAEA,eAACuC,GAAD,WACE,eAAC,GAAD,WACE,cAAC,GAAD,iBACA,cAAC,GAAD,0BACA,cAAC,GAAD,0BACA,cAAC,GAAD,sBAEDlK,EAAOyK,KAAI,SAACxK,GAAD,OACV,eAACmK,GAAD,WACE,cAACE,GAAD,CAAahH,GAAE,4BAAuBrD,EAAMyK,MAA5C,SACGzK,EAAMyK,KAAK3N,MAAM,EAAG,KAEvB,cAACwN,GAAD,UACGtK,EAAMW,SAAS6J,KAAI,SAAC9L,GAAD,OAClB,8BAAyBA,EAAKgM,WAApBhM,EAAKiM,cAGnB,cAACL,GAAD,UAAYtK,EAAM4K,aAClB,cAACN,GAAD,UAAY5N,EAAiBsD,EAAM6K,eAV5B7K,EAAMyK,KAAK3N,MAAM,EAAG,gBC9ElC,IAAMgO,GAAgB/Q,YAAY,CACvCC,KAAM,WACNC,aAAc,CACZ0G,SAAU,GACVoK,QAAS,GACTjN,aAAc,GACdkN,QAAQ,IAEV7Q,SAAU,CACR8Q,YAAa,SAAC5Q,EAAOC,GACnBD,EAAMsG,SAAWrG,EAAOC,SAE1B2Q,WAAY,SAAC7Q,EAAOC,GAClBD,EAAM0Q,QAAUzQ,EAAOC,SAEzByD,gBAAiB,SAAC3D,EAAOC,GACvBD,EAAMyD,aAAexD,EAAOC,SAE9B4Q,WAAY,SAAC9Q,EAAOC,GAClBD,EAAM2Q,QAAU1Q,EAAOC,YAKhB6Q,GAAc,SAACC,GAAD,OAAY,SAAC/M,GAAD,OlBiCZ,SAAC,GAA2B,IAAzBuL,EAAwB,EAAxBA,KAAMyB,EAAkB,EAAlBA,KAAMtL,EAAY,EAAZA,MAClChF,EAAQG,IACR+B,EAAYlC,EAAK,iBAAaA,GAAU,GAC9C,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,0BAA8BuO,EAA9B,kBAA4CtL,EAA5C,YAA8D,QAAT6J,EAAiB,GAAjB,eAA8BA,IAAU,CACvGzM,OAAQ,MACRC,QAAS,CAAEC,cAAeJ,KACzBK,MAAK,SAACC,GAAD,OAASA,EAAIC,UkBtCrB8N,CAAeF,GAAQ9N,MAAK,SAACC,GAC3B,OAAKA,EAAIiB,SAITH,EAAS2M,GAAYzN,EAAIkB,KAAKiC,WACvBnD,EAAIkB,KAAKiC,WAJdrC,EAAS2M,GAAY,KACdzN,QAMAR,GAAa,SAACC,GAAD,OAAQ,SAACqB,GAAD,OAChCkN,EAAcvO,GAAIM,MAAK,SAACC,GACtB,OAAKA,EAAIiB,SAITH,EAAS4M,GAAW1N,EAAIkB,KAAKqM,UAC7BzM,EAAS6M,GAAW7P,KAAKC,MAAMiC,EAAIkB,KAAKqM,QAAQC,WACzCxN,EAAIkB,KAAKqM,UALdzM,EAAS4M,GAAW,KACb1N,QAOAiO,GAAgB,SAACxO,GAAD,OAAQ,SAACqB,GAAD,OlB6CR,SAACrB,GAC5B,IAAMjC,EAAQG,IACR+B,EAAYlC,EAAK,iBAAaA,GAAU,GAC9C,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,qBAAyBE,GAAM,CACzCG,OAAQ,SACRC,QAAS,CACPC,cAAeJ,KAEhBK,MAAK,SAACC,GAAD,OAASA,EAAIC,UkBpDrBiO,CAAiBzO,GAAIM,MAAK,SAACC,GACzB,OAAKA,EAAIiB,SACPH,EAASN,GAAgBR,EAAIf,UAGxBe,OAGEmO,GAAsB,SAACjN,GAAD,OAAU,SAACJ,GAAD,OlBsBV,SAAC,GAAoB,IAAlBrB,EAAiB,EAAjBA,GAAI2O,EAAa,EAAbA,OAClC5Q,EAAQG,IACR+B,EAAS,iBAAalC,GAE5B,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,qBAAyBE,GAAM,CACzCG,OAAQ,QACRC,QAAS,CACPC,cAAeJ,EACf,eAAgB,kCAElBqB,KAAMjD,KAAKG,UAAU,CAAEmQ,OAAmB,IAAXA,EAAe,EAAI,MACjDrO,MAAK,SAACC,GAAD,OAASA,EAAIC,UkBhCrBoO,CAAuBnN,GAAMnB,MAAK,SAACsD,GACjC,OAAKA,EAAQpC,SACXH,EAASN,GAAgB6C,EAAQpE,UAG5BoE,OAGEiL,GAAgB,SAACpN,GAAD,OAAU,SAACJ,GAAD,OlBsCV,SAAC,GAAuD,IAArDrB,EAAoD,EAApDA,GAAI8O,EAAgD,EAAhDA,YAAa1P,EAAmC,EAAnCA,MAAO2O,EAA4B,EAA5BA,QAASY,EAAmB,EAAnBA,OAAQ/B,EAAW,EAAXA,KACjE7O,EAAQG,IACR+B,EAAS,iBAAalC,GAC5B,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,qBAAyBE,GAAM,CACzCG,OAAQ,QACRC,QAAS,CACPC,cAAeJ,EACf,eAAgB,kCAElBqB,KAAMjD,KAAKG,UAAU,CAAEsQ,cAAa1P,QAAO2O,UAASY,SAAQ/B,WAC3DtM,MAAK,SAACC,GAAD,OAASA,EAAIC,UkB/CrBuO,CAAiBtN,GAAMnB,MAAK,SAACsD,GAC3B,OAAKA,EAAQpC,SACXH,EAASN,GAAgB6C,EAAQpE,UAG5BoE,OAGEoL,GAAa,SAACvN,GAAD,OAAU,SAACJ,GAAD,OlB0CV,SAAC,GAA2C,IAAzCyN,EAAwC,EAAxCA,YAAa1P,EAA2B,EAA3BA,MAAO2O,EAAoB,EAApBA,QAASnB,EAAW,EAAXA,KAClD7O,EAAQG,IACR+B,EAAS,iBAAalC,GAE5B,OADAqE,QAAQC,IAAIyM,EAAa1P,EAAO2O,EAASnB,GAClC1M,MAAM,GAAD,OAAIJ,EAAJ,cAA0B,CACpCK,OAAQ,OACRC,QAAS,CACPC,cAAeJ,EACf,eAAgB,kCAElBqB,KAAMjD,KAAKG,UAAU,CAAEsQ,cAAa1P,QAAO2O,UAASnB,WACnDtM,MAAK,SAACC,GAAD,OAASA,EAAIC,UkBpDrByO,CAAcxN,GAAMnB,MAAK,SAACsD,GACxB,OAAKA,EAAQpC,SAIbH,EAAS4M,GAAWrK,EAAQnC,KAAKqM,UAC1BlK,IAJLvC,EAASN,GAAgB6C,EAAQpE,UAC1BoE,Q,GAOyDiK,GAActQ,QAArEyQ,G,GAAAA,YAAaC,G,GAAAA,WAAYlN,G,GAAAA,gBAAgBmN,G,GAAAA,WAE3CgB,GAAiB,SAAC9R,GAAD,OAAWA,EAAMsG,SAASA,UAC3CyL,GAAgB,SAAC/R,GAAD,OAAWA,EAAMsG,SAASoK,SAE1CsB,GAAe,SAAChS,GAAD,OAAWA,EAAMsG,SAASqK,SAGvCF,MAAf,Q,SCtGe,OAA0B,wCCA1B,OAA0B,wCCA1B,OAA0B,wCCA1B,OAA0B,wCCA1B,OAA0B,wC,iHCSzC,IAAMwB,GAAW,IAEXC,GAAM1K,IAAO2K,IAAV,MAKM,SAASC,KACtB,OACE,eAACC,GAAA,EAAD,CAAUC,OAAO,EAAjB,UACE,cAACD,GAAA,EAASE,KAAV,CAAeN,SAAUA,GAAzB,SACE,cAACC,GAAD,CAAKM,UAAU,gBAAgB1G,IAAK2G,GAAY1G,IAAI,cAEtD,cAACsG,GAAA,EAASE,KAAV,CAAeN,SAAUA,GAAzB,SACE,cAACC,GAAD,CAAKM,UAAU,gBAAgB1G,IAAK4G,GAAY3G,IAAI,cAEtD,cAACsG,GAAA,EAASE,KAAV,CAAeN,SAAUA,GAAzB,SACE,cAACC,GAAD,CAAKM,UAAU,gBAAgB1G,IAAK6G,GAAY5G,IAAI,cAEtD,cAACsG,GAAA,EAASE,KAAV,CAAeN,SAAUA,GAAzB,SACE,cAACC,GAAD,CAAKM,UAAU,gBAAgB1G,IAAK8G,GAAY7G,IAAI,cAEtD,cAACsG,GAAA,EAASE,KAAV,CAAeN,SAAUA,GAAzB,SACE,cAACC,GAAD,CAAKM,UAAU,gBAAgB1G,IAAK+G,GAAY9G,IAAI,iBChC7C,WAA0B,2CCA1B,OAA0B,2CCA1B,OAA0B,kC,63ECOzC,IAAMK,GAAO5E,IAAOG,IAAV,MAEJyD,GAAY5D,IAAOG,IAAV,MAKK,SAACC,GAAD,OAAWA,EAAM6E,OAE1BvF,GAAOC,QAIPD,GAAOE,QAEPF,GAAOG,OAEPH,GAAOI,UAMZwL,GAA0BtL,IAAOG,IAAV,KAGlBT,GAAOC,QAIPD,GAAOE,QAIPF,GAAOG,OAIPH,GAAOI,UAKZyL,GAA6BvL,IAAOG,IAAV,KAGrBT,GAAOC,QAOPD,GAAOE,QAIPF,GAAOG,OAQPH,GAAOI,UAMZ0L,GAAKxL,IAAOyL,GAAV,KAEG/L,GAAOC,QAGPD,GAAOG,QAKZ6L,GAAK1L,IAAO2L,GAAV,KAGGjM,GAAOC,QAGPD,GAAOG,QAKZ+L,GAAU5L,IAAOG,IAAV,MAMP0L,GAAkB7L,IAAO8L,EAAV,KAIVpM,GAAOC,QAGPD,GAAOG,QAKZkM,GAAQ/L,IAAOG,IAAV,KAIG6L,IAKRC,GAASjM,YAAOY,OAAPZ,CAAH,KAWN+L,GAKKrM,GAAOC,QAGPD,GAAOG,QAKH,SAASqM,KACtB,OACE,eAAC,GAAD,WACE,cAAC,GAAD,CAAWjH,KAAMkH,GAAjB,SACE,eAACb,GAAD,WACE,cAACE,GAAD,0BACA,cAACE,GAAD,6CACA,cAACE,GAAD,IACA,cAACC,GAAD,qEACA,eAACI,GAAD,CAAQzK,GAAG,gBAAX,sCACO,cAACuK,GAAD,YAKX,cAAC,GAAD,CAAW9G,KAAMmH,GAAjB,SACE,eAACb,GAAD,WACE,cAACC,GAAD,2BACA,cAACE,GAAD,6CACA,cAACE,GAAD,IACA,cAACC,GAAD,mJAGA,eAACI,GAAD,CAAQzK,GAAG,gBAAX,sCACO,cAACuK,GAAD,e,66CCrKjB,IAAMM,GAAoBrM,IAAOG,IAAV,KAQZT,GAAOC,QAGPD,GAAOG,QAMZyM,GAAetM,YAAOY,OAAPZ,CAAH,MAIE,SAACI,GAAD,OAAWA,EAAM6E,QAG/BsH,GAAYvM,IAAOG,IAAV,MAkBTqM,GAAkBxM,YAAOY,OAAPZ,CAAH,KAsBVN,GAAOC,QAGPD,GAAOG,QAKH,SAAS4M,KACtB,IAAMhQ,EAAWuG,eADgB,EAEiBR,mBAAS,IAF1B,mBAE1BkK,EAF0B,KAEPC,EAFO,KAYjC,OARAvJ,qBAAU,WACR3G,EAAS8M,GAAY,CAAEvB,KAAM,MAAO7J,MAAO,MAAOsL,KAAM,WAAY/N,MAClE,SAACC,GACCgR,EAAqBhR,EAAIV,MAAM,EAAG,SAGrC,CAACwB,IAGF,qCACE,cAACmO,GAAD,IACA,cAACsB,GAAD,IACA,cAACG,GAAD,CAAmBjR,GAAG,OAAtB,SACGsR,EAAkB/D,KAAI,SAACO,GAAD,OACrB,cAACoD,GAAD,CACErH,KAAMiE,EAAQ0D,OAAO,GAAGC,IACxBrL,GAAE,mBAAc0H,EAAQ9N,IAF1B,SAKE,cAACmR,GAAD,UAAYrD,EAAQgB,eAFfhB,EAAQ9N,SAMnB,cAACoR,GAAD,CAAiBhL,GAAG,gBAApB,2BC5GS,WAA0B,oC,ghFCUzC,IAAMoC,GAAY5D,IAAOG,IAAV,MAKT0E,GAAQ7E,IAAO+F,GAAV,MAOL6F,GAAU5L,IAAOG,IAAV,MAMP2M,GAAkB9M,IAAOG,IAAV,MAIf4M,GAAiB/M,YAAOY,OAAPZ,CAAH,MAedgN,GAAmBhN,IAAOG,IAAV,MAQhB8M,GAAUjN,YAAOY,OAAPZ,CAAH,MAkBP0K,GAAM1K,IAAO2K,IAAV,MAGO,SAACvK,GAAD,OAAYA,EAAM8M,WAAa,UAAY,WAGrDhI,GAAOlF,IAAOyL,GAAV,MAUJ0B,IALcnN,IAAO8L,EAAV,MAKH9L,IAAO8L,EAAV,OAKLsB,GAAkBpN,IAAOG,IAAV,MAIfkN,GAAcrN,IAAOiG,OAAV,MAGD,SAAC7F,GAAD,OAAYA,EAAMkN,UAAY,UAAY,UAC/C,SAAClN,GAAD,OAAYA,EAAMkN,UAAY,QAAU,UAa7CC,GAAavN,IAAOiG,OAAV,MAGA,SAAC7F,GAAD,OAAYA,EAAMkN,UAAY,UAAY,UAC/C,SAAClN,GAAD,OAAYA,EAAMkN,UAAY,QAAU,UAapC,SAASE,KAAY,IAC1BxF,EAASyF,cAATzF,KACFvL,EAAWuG,eACXlE,EAAW6D,aAAY2H,IAHI,EAIG9H,mBAAS,SAJZ,mBAI1BkL,EAJ0B,KAIdC,EAJc,OAKPnL,mBAAS,OALF,mBAK1BrE,EAL0B,KAKnBG,EALmB,KAM3BsP,EAAYvG,kBAAO,GASzB,OAPAjE,qBAAU,WACRyK,OAAOC,SAAS,EAAG,GACnBrR,EAAS8M,GAAY,CAAEvB,OAAM7J,QAAOsL,KAAMiE,KAAehS,MAAK,WAC5DkS,EAAUnG,SAAU,OAErB,CAAChL,EAAUuL,EAAM0F,EAAYvP,IAG9B,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,cAAC,GAAD,IACA,eAAC2O,GAAD,WACE,cAACC,GAAD,CAAgBvL,GAAG,gBAAnB,sCACA,cAACuL,GAAD,CAAgBvL,GAAG,cAAnB,4CACA,cAACuL,GAAD,CAAgBvL,GAAG,cAAnB,4CACA,cAACuL,GAAD,CAAgBvL,GAAG,cAAnB,0BACA,cAACuL,GAAD,CAAgBvL,GAAG,cAAnB,yCAEF,eAAC4L,GAAD,WACE,cAACC,GAAD,CACEC,UAA0B,UAAfI,EACXhM,QAAS,kBAAMiM,EAAc,UAF/B,4CAMA,cAACN,GAAD,CACEC,UAA0B,cAAfI,EACXhM,QAAS,kBAAMiM,EAAc,cAF/B,+CAOF,eAACP,GAAD,WACE,cAACG,GAAD,CAAYD,UAAqB,QAAVnP,EAAiBuD,QAAS,kBAAMpD,EAAS,QAAhE,0BAGA,cAACiP,GAAD,CACED,UAAqB,SAAVnP,EACXuD,QAAS,kBAAMpD,EAAS,SAF1B,6BAOF,cAAC,GAAD,IAEA,cAAC0O,GAAD,UACGlO,EAAS6J,KAAI,SAAC9L,GACb,OACE,eAACoQ,GAAD,CAASzL,GAAE,mBAAc3E,EAAKzB,IAA9B,UACE,cAAC,GAAD,CACEkJ,IAA4B,IAAvBzH,EAAK+P,OAAOvN,OAAe0O,GAAUlR,EAAK+P,OAAO,GAAGC,IACzDtI,IAAK1H,EAAKmL,KACVkF,WAAmC,IAAvBrQ,EAAK+P,OAAOvN,SAE1B,cAAC,GAAD,UAAOxC,EAAKqN,cACZ,eAACiD,GAAD,iBAAWtQ,EAAKrC,WAPuBqC,EAAKzB,YC5L3C,WAA0B,oC,mrSCWzC,IAAMwI,GAAY5D,IAAOG,IAAV,KAMJT,GAAOC,SAOZqO,GAAsBhO,IAAOG,IAAV,KAOdT,GAAOC,QAGPD,GAAOE,QAGPF,GAAOI,UAKZmO,GAAajO,YAAOY,OAAPZ,CAAH,MAIVgN,GAAmBhN,IAAOG,IAAV,KAKXT,GAAOC,QAKPD,GAAOE,QAKPF,GAAOG,OAMPH,GAAOI,UAOZoO,GAAYlO,IAAO2K,IAAV,MAOH,SAACvK,GAAD,OAAYA,EAAM+N,QAAU,gBAAkB,qBAGpDC,GAAsBpO,IAAOG,IAAV,MAGT,SAACC,GAAD,OACZA,EAAMiO,WAAN,cACWjO,EAAM6E,KADjB,4CAEW7E,EAAM6E,KAFjB,8BAIOvF,GAAOC,QAKPD,GAAOE,QAIPF,GAAOI,UAMZwO,GAAkBtO,IAAOG,IAAV,KAIVT,GAAOC,QAGPD,GAAOI,UAKZyO,GAAkBvO,IAAOG,IAAV,MAgBfqO,GAAmBxO,IAAOG,IAAV,MAgBhB4L,GAAQ/L,IAAOG,IAAV,MAKW,SAACC,GAAD,MAAiC,SAArBA,EAAMqO,YAAyB,GAAK,OAM5D,SAACrO,GAAD,MAAiC,SAArBA,EAAMqO,YAAyB,GAAK,OAQpDC,GAA6B1O,IAAOG,IAAV,KAGrBT,GAAOC,QAMPD,GAAOE,QAKPF,GAAOG,OAKPH,GAAOI,UAKZoF,GAAOlF,IAAO2L,GAAV,KAKCjM,GAAOC,QAGPD,GAAOE,QAEPF,GAAOI,UAIZ6O,GAAQ3O,IAAOmG,MAAV,KAKAzG,GAAOC,QAGPD,GAAOE,QAEPF,GAAOI,UAIZqN,GAAQnN,IAAO8E,GAAV,MAKL8J,GAAc5O,IAAOG,IAAV,KAMNT,GAAOC,QAGPD,GAAOE,QAEPF,GAAOI,UAIZ+O,GAAU7O,IAAOG,IAAV,MAKPyF,GAAS5F,IAAOiG,OAAV,MAED,SAAC7F,GAAD,OAAYA,EAAM+N,QAAU,GAAK,MAChC,SAAC/N,GAAD,OAAYA,EAAM+N,QAAU,GAAK,MAG5B,SAAC/N,GAAD,OAAWA,EAAM0O,UACtB,SAAC1O,GAAD,OAAYA,EAAM+N,QAAU,kBAAoB,UAUtDY,GAAS/O,IAAOG,IAAV,KAGDT,GAAOC,QAGPD,GAAOE,QAEPF,GAAOI,UAIZkP,GAAehP,IAAOiG,OAAV,KAkBPvG,GAAOC,QAIPD,GAAOE,QAEPF,GAAOI,UAIZmP,GAAajP,IAAOG,IAAV,KASLT,GAAOC,QAIPD,GAAOE,QAEPF,GAAOI,UAIZoP,GAAYlP,IAAOiG,OAAV,KAgBJvG,GAAOC,QAIPD,GAAOE,QAEPF,GAAOI,UAIZqP,GAAMnP,IAAOiG,OAAV,KAiBEvG,GAAOC,QAIPD,GAAOE,QAEPF,GAAOI,UAIZsP,GAAapP,IAAO0F,IAAV,MAQV3F,GAASC,YAAOC,YAAPD,CAAH,MAqBNkG,GAAiBlG,IAAOG,IAAV,MAUd0E,GAAQ7E,IAAO+F,GAAV,MAMLsJ,GAAgBrP,IAAOG,IAAV,MAObmP,GAAqBtP,IAAO8E,GAAV,MAKlByK,GAAuBvP,IAAO8L,EAAV,MAMpB0D,GAAUxP,IAAOG,IAAV,MAIPsP,GAAezP,IAAOG,IAAV,MAMZuP,GAAQ1P,IAAOG,IAAV,MAIE,SAACC,GAAD,OAAYA,EAAMuP,aAAe,OAAS,UAkBjDC,GAAmB5P,IAAOiG,OAAV,MAWhB4J,GAAiB7P,YAAOY,OAAPZ,CAAH,MAkBd8P,GAAU9P,IAAOG,IAAV,MAIP4P,GAAU,SAAC5G,GAAD,MAAc,CAAE6G,OAAQ7G,IAElC8G,GAAmBjQ,IAAOG,IAAV,MAIP,SAAS8M,KAAW,IACzB7R,EAAOqS,cAAPrS,GACF0H,EAAUC,cACVtG,EAAWuG,eACXkG,EAAUvG,aAAY4H,IAJI,EAKF/H,mBAAS,IALP,mBAKzB0N,EALyB,KAKhBC,EALgB,OAMM3N,mBAAS,GANf,mBAMzB4N,EANyB,KAMZC,EANY,OAOJ7N,mBAAS,GAPL,mBAOzB8N,EAPyB,KAOjBC,EAPiB,OAQM/N,oBAAS,GARf,mBAQzBI,EARyB,KAQZC,EARY,OAScL,mBAAS,IATvB,mBASzBgO,EATyB,KASRC,EATQ,OAUJjO,mBAAS,IAVL,mBAUzBkO,EAVyB,KAUjBC,EAViB,OAWFnO,mBAAS,IAXP,mBAWzBoO,EAXyB,KAWhBC,EAXgB,OAYFrO,mBAAS,IAZP,mBAYzB2G,EAZyB,KAYhBG,EAZgB,OAaU9G,mBAAS,IAbnB,mBAazBsO,EAbyB,KAaVC,EAbU,KAcxB1N,EAAaH,cAAbG,SACJjF,EAAO5E,IACLoU,EAAYvG,kBAAO,GAiEzBjE,qBAAU,WAuBR,OAtBAyK,OAAOC,SAAS,EAAG,GACnBF,EAAUnG,SAAU,EACpBhL,EAAStB,GAAWC,IAAKM,MAAK,SAACC,GAC7BiS,EAAUnG,SAAU,EACpB0I,EACExU,EAAIiR,OAAOjE,KAAI,SAACkE,EAAKmE,GACnB,OAAc,IAAVA,EACK,CAAE1M,IAAKuI,EAAKoE,UAAU,EAAM7V,GAAG,SAAD,OAAW4V,IAC3C,CAAE1M,IAAKuI,EAAKoE,UAAU,EAAO7V,GAAG,SAAD,OAAW4V,QAGrD,IAAME,EAAavV,EAAI+U,OACjBS,EAAexV,EAAI+U,OAAOrR,OAAS,EAAI1D,EAAI+U,OAAO,GAAGU,UAAY,GACjEC,EAAiB1V,EAAI+U,OAAOrR,OAAS,EAAI1D,EAAI+U,OAAO,GAAGtV,GAAK,GAC5DkW,EAAiB3V,EAAI+U,OAAOrR,OAAS,EAAI6R,EAAW,GAAGN,QAAU,GAEvEH,EAAmBY,GACnB/H,ElC/foB,SAACzM,GACzB,IACM0U,EAAW9X,KAAKC,MAAMmD,GAAM2U,IAElC,OADkB,IAAI1Y,EAA0ByY,EAFpC,IAGKE,UkC2fFC,CAAW/V,EAAIwN,UAC1BwH,EAAUO,GACVH,EAAiBI,GACjBN,EAAWS,MAEN,WACLX,EAAU,IACVI,EAAiB,IACjBN,EAAmB,IACnBI,EAAW,OAEZ,CAACpU,EAAUrB,IAEd,IAAMuW,EAAgB,SAACC,GAIrB,GAA6B,IAHPxT,EAAKoL,QACzB,SAACqI,GAAD,OAAUA,EAAK/I,UAAY0H,KAEXnR,OAAc,CAC9B,IAAMyS,EAAU1T,EAAKuK,KAAI,SAAC9L,EAAMmU,GAC9B,OAAInU,EAAKiM,UAAY0H,EACZ,2BACF3T,GADL,IAEEkV,MAAOlV,EAAKkV,MAAQzB,IAGpBzT,EAAKiM,UAAY0H,GAAmBQ,IAAU5S,EAAKiB,OAAS,EACvD,CAAE2S,UAAW5W,EAAI0N,QAAS0H,EAAiBuB,MAAOzB,GAEpDzT,KAETlD,EAAamY,GACbjP,GAAe,GACfrF,QAAQC,IAAImF,QAEZxE,EAAK+E,KAAK,CAAE6O,UAAW5W,EAAI0N,QAAS0H,EAAiBuB,MAAOzB,IAC5D3W,EAAayE,GACb3B,EAAS0C,MACT0D,GAAe,GAEb+O,GACF9O,EAAQK,KAAK,mBAGjB,OACE,qCACE,eAAC,GAAD,WACE,eAAC6K,GAAD,WACE,cAACC,GAAD,CAAYzM,GAAG,gBAAf,sBACA,uCACA,cAACyM,GAAD,CAAYzM,GAAI6B,EAAhB,SAA2B6F,EAAQgB,iBAGrC,eAAC,GAAD,WACE,cAACoE,GAAD,UACG4B,EAAQvH,KAAI,SAAC9L,EAAMmU,GAAP,OACX,cAAC9C,GAAD,CACEC,QAAStR,EAAKoU,SACd3M,IAAKzH,EAAKyH,IACV5C,QAAS,kBA/HrB2O,EADuB4B,EAgIoBjB,QA9H3Cb,EACED,EAAQvH,KAAI,SAAC9L,EAAMmU,GACjB,OAAIA,IAAUiB,EAAiB,2BAAKpV,GAAZ,IAAkBoU,UAAU,IAC7C,2BAAKpU,GAAZ,IAAkBoU,UAAU,QALV,IAACgB,IAiINpV,EAAKzB,SAKhB,eAACgT,GAAD,CACEnJ,KAAMiL,EAAQ7Q,OAAS,EAAI6Q,EAAQE,GAAa9L,IAAM4N,GACtD7D,WAAYT,EAAUnG,QAFxB,UAIE,cAAC8G,GAAD,CAAiB7M,QA3GZ,WACTkM,EAAUnG,UACV2I,EAAc,EAAI,GACpBD,EACED,EAAQvH,KAAI,SAAC9L,EAAMmU,GACjB,OAAIA,IAAUd,EAAQ7Q,OAAS,EAAU,2BAAKxC,GAAZ,IAAkBoU,UAAU,IACvD,2BAAKpU,GAAZ,IAAkBoU,UAAU,QAGhCZ,EAAeH,EAAQ7Q,OAAS,KAEhC8Q,EACED,EAAQvH,KAAI,SAAC9L,EAAMmU,GACjB,OAAIA,IAAUZ,EAAc,EAAU,2BAAKvT,GAAZ,IAAkBoU,UAAU,IACpD,2BAAKpU,GAAZ,IAAkBoU,UAAU,QAGhCZ,EAAeD,EAAc,MA0FvB,SACE,cAAC,GAAD,CAAO3B,WAAW,WAEpB,cAACD,GAAD,CAAkB9M,QAnIZ,WACVkM,EAAUnG,UACV2I,EAAc,GAAKF,EAAQ7Q,QAC7B8Q,EACED,EAAQvH,KAAI,SAAC9L,EAAMmU,GACjB,OAAc,IAAVA,EAAoB,2BAAKnU,GAAZ,IAAkBoU,UAAU,IACtC,2BAAKpU,GAAZ,IAAkBoU,UAAU,QAGhCZ,EAAe,KAEfF,EACED,EAAQvH,KAAI,SAAC9L,EAAMmU,GACjB,OAAIA,IAAUZ,EAAc,EAAU,2BAAKvT,GAAZ,IAAkBoU,UAAU,IACpD,2BAAKpU,GAAZ,IAAkBoU,UAAU,QAGhCZ,EAAeD,EAAc,MAkHvB,SACE,cAAC,GAAD,CAAO3B,WAAW,eAItB,eAACC,GAAD,WACE,cAAC,GAAD,UAAOxF,EAAQgB,cACf,cAACyE,GAAD,oBACA,eAAC,GAAD,iBAAWzF,EAAQ1O,SACnB,cAACmU,GAAD,oBACA,cAACC,GAAD,UACG8B,EAAOrR,OAAS,EACbqR,EAAO/H,KAAI,SAACwJ,GAAD,OACT,cAAC,GAAD,CACErD,OAAQqD,EAAMf,UACdjD,QAAS2C,IAAkBqB,EAAMf,UACjC1P,QAAS,WACPqP,EAAiBoB,EAAMf,WACvBX,EAAmB0B,EAAM/W,IACzByV,EAAWsB,EAAMvB,WANrB,gBAQgBuB,EAAMf,eAGxB,KAEN,eAACvC,GAAD,wCAAgB+B,KAChB,eAAC7B,GAAD,WACE,cAACC,GAAD,CAActN,QA3KN,kBAAM6O,EAAUD,EAAS,GAAK,EAAI,EAAIA,EAAS,IA2KvD,eACA,cAACrB,GAAD,UAAaqB,IACb,cAACtB,GAAD,CAActN,QAlLR,WACD,IAAX4O,GACJC,EAAUD,EAAS,IAgLT,kBAEF,gCACE,cAACpB,GAAD,CAAWxN,QAAS,kBAAMiQ,GAAc,IAAxC,yBAGA,cAACxC,GAAD,CAAK3N,GAAG,IAAIE,QAAS,kBAAMiQ,GAAc,IAAzC,6BAQR,eAACvC,GAAD,WACE,cAAC,GAAD,CAAQ5N,GAAE,UAAK6B,EAAL,YAAV,0BACA,cAAC,GAAD,CAAQ7B,GAAE,UAAK6B,EAAL,SAAV,0BACA,cAAC,GAAD,CAAQ7B,GAAE,UAAK6B,EAAL,YAAV,6BAGF,cAAC,GAAD,UACE,gCACE,cAAC4M,GAAD,CAAkBmC,wBAAyBrC,GAAQ5G,KACnD,cAAC,GAAD,CAAgB/N,GAAG,OAAnB,SACE,cAAC,GAAD,6BAGF,eAACiU,GAAD,WACE,cAACC,GAAD,0CACA,cAACC,GAAD,gKAKA,cAACD,GAAD,mDACA,cAACC,GAAD,mHAKF,cAAC,GAAD,CAAgBnU,GAAG,UAAnB,SACE,cAAC,GAAD,6BAGF,eAACoU,GAAD,WACE,cAACC,GAAD,uDACA,cAACA,GAAD,+CAKN,eAACC,GAAD,CAAOC,aAAc/M,EAArB,UACE,gEACA,eAACkN,GAAD,WACE,cAACF,GAAD,CAAkBlO,QAAS,WA3OjCmB,GA2OuD,IAAjD,0BAGA,cAACgN,GAAD,CAAgBrO,GAAG,iBAAnB,mC,aC/vBV,SAAS6Q,KAA2Q,OAA9PA,GAAWC,OAAOC,QAAU,SAAUnT,GAAU,IAAK,IAAIoT,EAAI,EAAGA,EAAIC,UAAUpT,OAAQmT,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcJ,OAAOM,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQvT,EAAOuT,GAAOD,EAAOC,IAAY,OAAOvT,IAA2B2T,MAAMC,KAAMP,WAEhT,SAASQ,GAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnEpT,EAEzF,SAAuCsT,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DpT,EAAS,GAAQ+T,EAAab,OAAOc,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAW9T,OAAQmT,IAAOG,EAAMQ,EAAWX,GAAQU,EAASlY,QAAQ2X,IAAQ,IAAavT,EAAOuT,GAAOD,EAAOC,IAAQ,OAAOvT,EAFxMiU,CAA8BX,EAAQQ,GAAuB,GAAIZ,OAAOgB,sBAAuB,CAAE,IAAIC,EAAmBjB,OAAOgB,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiBlU,OAAQmT,IAAOG,EAAMY,EAAiBf,GAAQU,EAASlY,QAAQ2X,IAAQ,GAAkBL,OAAOM,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBvT,EAAOuT,GAAOD,EAAOC,IAAU,OAAOvT,EAMne,IAAI,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC/FqU,EAAG,ykBACY,gBAAoB,OAAQ,CAC3CA,EAAG,4GACY,gBAAoB,OAAQ,CAC3CA,EAAG,4GACY,gBAAoB,OAAQ,CAC3CA,EAAG,6GAGL,SAASC,GAASC,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf1T,EAAQ6S,GAAyBU,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOtB,GAAS,CACtDjX,GAAI,UACJ2Y,iBAAkB,kBAClB7R,OAAQ,IACRF,QAAS,cACTC,MAAO,IACP+R,MAAO,6BACPC,IAAKL,EACL,kBAAmBE,GAClB1T,GAAQyT,EAAqB,gBAAoB,QAAS,CAC3DzY,GAAI0Y,GACHD,GAAS,KAAM,IAGpB,IAAIK,GAA0B,aAAiBR,IAChC,I,wsCCpCR,IAAMtL,GAAKpI,IAAOqI,GAAV,KAIJ3I,GAAOE,SACL,SAACQ,GAAD,OAAWA,EAAMG,UAKjB+H,GAAKtI,IAAOuI,GAAV,KAYJ7I,GAAOE,SAKL2C,GAASvC,IAAOG,IAAV,KAQRT,GAAOE,SAKLuU,GAAYnU,IAAOG,IAAV,KAQXT,GAAOE,SAKLwF,GAAOpF,IAAOG,IAAV,MAEP,SAACC,GAAD,OAAWA,EAAMgU,SAGdC,GAAerU,IAAO8L,EAAV,M,u6FClDzB,IAAMlI,GAAY5D,IAAOG,IAAV,MAMT2F,GAAK9F,IAAO+F,GAAV,MAyCFuO,IApCctU,IAAOuU,MAAV,MAoCHvU,YAAOoI,GAAPpI,CAAH,KACAN,GAAOE,UAIZ4U,GAAgBxU,IAAOG,IAAV,MAObsU,GAAczU,IAAOG,IAAV,MACXuU,GAAkB1U,IAAOG,IAAV,MAOfwU,GAAY3U,YAAOsI,GAAPtI,CAAH,MAIT4U,GAAc5U,YAAOsI,GAAPtI,CAAH,MAIX6U,GAAY7U,YAAOsI,GAAPtI,CAAH,MAIT8U,GAAY9U,YAAO+U,GAAP/U,CAAH,MAUTgV,GAAuBhV,YAAOY,OAAPZ,CAAH,MAUpBiV,GAAajV,IAAOG,IAAV,MACqB,SAACC,GAAD,OAAWA,EAAM6E,QAKhDiQ,GAAUlV,IAAOiG,OAAV,MAqBE,SAASkP,KACtB,IAAM/W,EAAO5E,IACPsJ,EAAUC,cACVtG,EAAWuG,eAHyB,EAIFR,mBAAS,IAJP,mBAInC4S,EAJmC,KAIrBC,EAJqB,OAKd7S,oBAAS,GALK,mBAKnC8S,EALmC,KAK3BC,EAL2B,OAMhB/S,mBAAS,GANO,mBAMnCgT,EANmC,KAM5BC,EAN4B,KAQ1CrS,qBAAU,WACR,GAAoB,IAAhBhF,EAAKiB,OAEP,OADAmE,MAAM,oGACCV,EAAQK,KAAK,iBAEtB,IAAIuS,EAAW,GAETC,EADavX,EAAKuK,KAAI,SAACkJ,GAAD,OAAUA,EAAKG,aACXrJ,KAAI,SAACvN,GACnC,OAAOqB,EAAStB,GAAWC,IACxBM,MAAK,SAACC,GACL,OAAOA,KAER2B,OAAM,SAACC,GACNC,QAAQC,IAAI,QAASF,SAG3BqY,QAAQC,IAAIF,GAAcja,MAAK,SAACmB,GAC9B6Y,EAAWtX,EAAKuK,KAAI,SAACvK,EAAM4S,GAAP,OAClBsB,OAAOC,OAAO,GAAInU,EAAMvB,EAAKmU,OAE/BqE,EAAgBK,GAEhBlY,QAAQC,IAAI,aAAciY,GAE1B,IACMpF,EADYoF,EAAS/M,KAAI,SAACvK,GAAD,OAAUA,EAAK5D,MAAQ4D,EAAK2T,SAClC+D,QAAO,SAAC3Q,EAAG4Q,GAAJ,OAAU5Q,EAAI4Q,KAC9CN,EAASnF,QAEV,CAACgF,IA0BJ,OACE,mCACE,eAAC,GAAD,WACE,cAAC,GAAD,6CACA,eAAChB,GAAD,WACE,eAACM,GAAD,WACE,cAACJ,GAAD,uCACA,cAACC,GAAD,2BACA,cAACA,GAAD,uCACA,cAACA,GAAD,2BACA,cAACA,GAAD,8BAEDW,EACGA,EAAazM,KAAI,SAACxK,GAAD,OACf,eAAC0W,GAAD,WACE,eAACG,GAAD,CAAsBxT,GAAE,mBAAcrD,EAAM6T,WAA5C,UACE,cAACiD,GAAD,CAAYhQ,KAAM9G,EAAMyO,OAAO,KAC9BzO,EAAM+L,YAAc/L,EAAM2K,WAE7B,eAAC2L,GAAD,iBAAiBtW,EAAM3D,SACvB,cAACia,GAAD,UAActW,EAAM4T,QACpB,eAAC0C,GAAD,iBAAiBtW,EAAM3D,MAAQ2D,EAAM4T,SACrC,cAAC0C,GAAD,UACE,cAACK,GAAD,CACEpT,QAAS,kBAhDFoH,EAgD0B3K,EAAM2K,QA/CzDnP,EAAayE,EAAKoL,QAAO,SAACrL,GAAD,OAAWA,EAAM2K,UAAYA,MACtDuM,EAAgBD,EAAa5L,QAAO,SAACrL,GAAD,OAAWA,EAAM2K,UAAYA,MACjErM,EAAS0C,WACToW,GAAWD,GAJa,IAACxM,SAsCG3K,EAAM2K,YAexB,GACJ,eAAC6L,GAAD,WACE,cAACD,GAAD,2BACA,eAACA,GAAD,kBAAsBc,WAG1B,cAACN,GAAD,CAASc,MAAO,IAAKtU,QApDJ,WACrB,GAAI8T,GAAS,IACX,OAAOhS,MAAM,yGAEf,IAAM1E,EAAWV,EAAKuK,KAAI,cAAGqJ,UAAH,wCAE1BxU,QAAQC,IAAI,SAAUW,GACtBZ,QAAQC,IAAI,aAAcqB,GAE1BrC,EAASoC,GAASC,IAAWpD,MAAK,SAACC,GACjC,IAAKA,EAAIiB,QACP,OAAO4G,MAAM,sEAEfV,EAAQK,KAAR,qBAA2BxH,EAAIkB,KAAK+L,WAuClC,2CCrOO,SAASqN,KACtB,OAAO,cAACd,GAAD,I,+lCCDT,IAAMe,GAAelW,IAAOmG,MAAV,MAKL,SAAC/F,GAAD,OAAWA,EAAMX,QAOxB0W,GAAanW,IAAO0G,MAAV,MAIL,SAACtG,GAAD,OAAWA,EAAMX,QAGfS,GAAkBF,IAAOG,IAAV,MAMfiW,GAAapW,IAAO+F,GAAV,MAKVa,GAAe5G,IAAOqW,KAAV,MACd,SAACjW,GAAD,OAAWA,EAAMvH,MAAMyd,aAIrB3P,GAAiB3G,IAAOG,IAAV,KAIhBT,GAAOE,SAKL2W,GAAc,SAAC,GAA6E,IAA3EC,EAA0E,EAA1EA,WAAYC,EAA8D,EAA9DA,MAAO7O,EAAuD,EAAvDA,MAAOnI,EAAgD,EAAhDA,KAAMtH,EAA0C,EAA1CA,KAAM8D,EAAoC,EAApCA,aAActB,EAAsB,EAAtBA,MAAOmN,EAAe,EAAfA,SACvF,OACE,eAACoO,GAAD,WACE,eAAC,GAAD,WACE,cAACE,GAAD,UAAaI,KACX7b,GAAS,cAAC,GAAD,UAAesB,OAE5B,wBAAQ9D,KAAMA,EAAMsH,KAAMA,EAAMqI,SAAUA,EAAUF,MAAOA,EAA3D,SACG6O,EAAM9N,KAAI,SAACX,EAAMgJ,GAAP,OACT,wBAAoBpJ,MAAOI,EAAKJ,MAAhC,SACGI,EAAK7P,MADK6Y,YAQR,SAASvK,GAAT,GAA0G,IAAzF+P,EAAwF,EAAxFA,WAAYE,EAA4E,EAA5EA,UAAWjX,EAAiE,EAAjEA,KAAMtH,EAA2D,EAA3DA,KAAMyP,EAAqD,EAArDA,MAAOE,EAA8C,EAA9CA,SAAUnN,EAAoC,EAApCA,MAAOsB,EAA6B,EAA7BA,aAAc4L,EAAe,EAAfA,YACvG,OACE,eAACqO,GAAD,WACE,eAAC,GAAD,WACE,cAACE,GAAD,UAAaI,KACX7b,GAAS,cAAC,GAAD,UAAesB,OAE5B,cAACka,GAAD,CAAYhe,KAAMA,EAAM6P,KAAM0O,EAAWjX,KAAMA,EAAMmI,MAAOA,EAAOE,SAAUA,EAAUD,YAAaA,O,yoFC9D1G,IAAMjD,GAAO5E,IAAOG,IAAV,MAGJyD,GAAY5D,IAAOG,IAAV,MAMT2F,GAAK9F,IAAO+F,GAAV,MAKF4Q,GAAa3W,IAAOG,IAAV,MACVyW,GAAY5W,IAAOyL,GAAV,MAMToL,GAAmB7W,IAAO8W,KAAV,MAOhBZ,GAAelW,IAAOmG,MAAV,MAYZ4Q,GAAoB/W,IAAOqW,KAAV,MAGjBD,GAAapW,IAAOgX,GAAV,MAKVb,GAAanW,IAAO0G,MAAV,MAIL,SAACtG,GAAD,OAAWA,EAAMX,QAGtBwX,GAAQjX,YAAOmW,IAAYe,MAAM,CACrClP,KAAM,SADMhI,CAAH,MAQLuC,GAASvC,YAAOE,GAAPF,CAAH,MAGNmX,GAAQnX,YAAO4G,GAAP5G,CAAH,MAGLoX,GAAWpX,IAAOqW,KAAV,MAKRgB,GAAerX,IAAOG,IAAV,MAIZmX,GAAeC,gBAAK,gBAAGC,EAAH,EAAGA,QAAH,OAAiB,cAACJ,GAAD,UAAWI,OAChDC,GAAYF,gBAAK,gBAAGf,EAAH,EAAGA,WAAY7O,EAAf,EAAeA,SAAf,OACrB,eAAC,GAAD,WACG6O,EACA7O,EAAW,cAAC2P,GAAD,CAAcE,QAAS,MAAU,SAG3CtC,GAAUlV,IAAOiG,OAAV,MAoBPyR,GAAgB1X,IAAOG,IAAV,MAIboW,GAAc,SAAC,GAAmF,IAAjFC,EAAgF,EAAhFA,WAAYre,EAAoE,EAApEA,KAAMwP,EAA8D,EAA9DA,SAAUgQ,EAAoD,EAApDA,QAAShd,EAA2C,EAA3CA,MAAOiN,EAAoC,EAApCA,MAAO3L,EAA6B,EAA7BA,aAAc6L,EAAe,EAAfA,SACtF,OACE,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC2P,GAAD,CAAWjB,WAAYA,EAAY7O,SAAUA,KAC3ChN,GAAS,cAAC,GAAD,UAAesB,OAE5B,wBAAQ9D,KAAMA,EAAMyP,MAAOA,EAAOE,SAAUA,EAA5C,SACG6P,EAAQhP,KAAI,SAACiP,GAAD,OACX,wBAAwBhQ,MAAOgQ,EAAOxc,GAAtC,SACGwc,EAAOC,SAAWD,EAAOC,SAAWD,EAAOE,cADjCF,EAAOxc,aAQxB2c,GAAkB,SAAC,GAAyB,IAAvBjQ,EAAsB,EAAtBA,SAAUF,EAAY,EAAZA,MACnC,OACE,cAACyP,GAAD,UACE,eAAC,GAAD,CAAcW,QAAQ,eAAtB,UACGpQ,EACC,cAACqP,GAAD,CAAO9e,KAAK,gBAAgB6P,KAAK,QAAQ5M,GAAG,eAAe0M,SAAUA,EAAUF,MAAOA,IAEtF,cAACqP,GAAD,CAAO9e,KAAK,gBAAgB6P,KAAK,QAAQ5M,GAAG,eAAe0M,SAAUA,IAEvE,cAACiP,GAAD,6FAKFkB,GAAa,SAAC,GAAuC,IAArCzB,EAAoC,EAApCA,WAAYgB,EAAwB,EAAxBA,QAAS7P,EAAe,EAAfA,SACzC,OACE,8BACE,eAAC,GAAD,CAAcqQ,QAASxB,EAAvB,UACE,cAACiB,GAAD,CAAWjB,WAAYA,EAAY7O,SAAUA,IAC7C,cAACsP,GAAD,CAAOjP,KAAK,QAAQ5M,GAAIob,EAAY5O,MAAO4P,EAASU,eAAgB1B,IACpE,cAACO,GAAD,UAAoBS,UAKtBW,GAAc,SAAC,GAAwG,IAAtG3B,EAAqG,EAArGA,WAAYre,EAAyF,EAAzFA,KAAMue,EAAmF,EAAnFA,UAAW/O,EAAwE,EAAxEA,SAAUlI,EAA8D,EAA9DA,KAAMqI,EAAwD,EAAxDA,SAAUnN,EAA8C,EAA9CA,MAAOsB,EAAuC,EAAvCA,aAAc4L,EAAyB,EAAzBA,YAAaD,EAAY,EAAZA,MAC9G,OACE,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC6P,GAAD,CAAWjB,WAAYA,EAAY7O,SAAUA,KAC3ChN,GAAS,cAACwc,GAAD,UAAQlb,OAErB,cAAC,GAAD,CAAY9D,KAAMA,EAAM6P,KAAM0O,EAAWjX,KAAMA,EAAMmI,MAAOA,EAAOD,SAAS,WAAWG,SAAUA,EAAUD,YAAaA,QAI/G,SAASuQ,KACtB,IAAMhR,EAAWC,kBAAO,GAChBjM,EAAOqS,cAAPrS,GACFqB,EAAWuG,eAHiB,EAINR,mBAAS,IAJH,mBAI3B6V,EAJ2B,KAInBC,EAJmB,OAKA9V,mBAAS,IALT,mBAK3B+V,EAL2B,KAKhBC,EALgB,OAMMhW,mBAAS,IANf,mBAM3BiW,EAN2B,KAMbC,EANa,OAOclW,mBAAS,IAPvB,mBAO3BmW,EAP2B,KAOTC,EAPS,OAQQpW,oBAAS,GARjB,mBAQ3BqW,EAR2B,aASVrW,mBAAS,KATC,mBAS3BrK,EAT2B,KASrB2gB,EATqB,OAURtW,mBAAS,IAVD,mBAU3B1I,EAV2B,KAUpBmN,EAVoB,OAWRzE,mBAAS,IAXD,mBAW3BtI,EAX2B,KAWpB8M,EAXoB,OAYJxE,mBAAS,IAZL,mBAY3B9H,EAZ2B,KAYlBqe,EAZkB,OAaFvW,oBAAS,GAbP,mBAa3BwW,GAb2B,KAajBC,GAbiB,QAcMzW,mBAAS/H,GAdf,qBAc3BwB,GAd2B,MAcbE,GAda,MAe5BH,GAAW2G,aAAY3E,GAE7BoF,qBAAU,WACR3G,EAASY,KACT1D,EAAa,IACb8C,EAAS0C,MvCsGJ7D,MAAM,GAAD,OAAIJ,EAAJ,WAAuB,CACjCK,OAAQ,QACPG,MAAK,SAACC,GAAD,OAASA,EAAIC,UuCtGhBF,MAAK,SAACC,GAGL,OAFA2c,EAAU3c,EAAIkB,KAAKwb,QACnBK,EAAgB/c,EAAIkB,KAAKwb,OAAO,GAAGjd,IAC5BS,EAAaF,EAAIkB,KAAKwb,OAAO,GAAGjd,OAExCM,MAAK,SAACC,GAGL,OAFAid,EAAoBjd,EAAIkB,KAAK0b,UAAU,GAAGnd,IAC1Cod,EAAa7c,EAAIkB,KAAK0b,WACfU,IAAY,QAEtB,IAEH7V,qBAAU,WACHqV,GACL5c,EAAa4c,GAAc/c,MAAK,SAACC,GAC/B6c,EAAa7c,EAAIkB,KAAK0b,WACtBK,EAAoBjd,EAAIkB,KAAK0b,UAAU,GAAGnd,SAG3C,CAACqd,IAEJ,IAAMS,GAAkB,SAACtR,GACvB,IAAK/N,EAAa+N,GAChB,OAAOzL,GAAgB,2BAClBF,IADiB,IAEpBnC,MAAO,CAAEa,OAAO,EAAOC,QAAS,2CAGpCuB,GAAgB,2BACXF,IADU,IAEbnC,MAAO,CAAEa,OAAO,EAAMC,QAAS,QAG7Bue,GAAkB,SAACvR,GACvB,IAAK3N,EAAa2N,GAChB,OAAOzL,GAAgB,2BAClBF,IADiB,IAEpB/B,MAAO,CAAES,OAAO,EAAOC,QAAS,2CAGpCuB,GAAgB,2BACXF,IADU,IAEb/B,MAAO,CAAES,OAAO,EAAMC,QAAS,QAG7Bwe,GAAiB,SAACxR,GACtB,OAAKA,EAMDA,EAAMvI,OAAS,GACVlD,GAAgB,2BAClBF,IADiB,IAEpB9D,KAAM,CAAEwC,OAAO,EAAOC,QAAS,4CAGnCuB,GAAgB,2BACXF,IADU,IAEb9D,KAAM,CAAEwC,OAAO,EAAMC,QAAS,OAbvBuB,GAAgB,2BAClBF,IADiB,IAEpB9D,KAAM,CAAEwC,OAAO,EAAOC,QAAS,sCAc/Bye,GAAoB,SAAC9R,GAAO,IAAD,EACPA,EAAEnI,OAAlBwI,EADuB,EACvBA,MAAOzP,EADgB,EAChBA,KACf,GAAa,SAATA,EAEF,OADAihB,GAAexR,GACRkR,EAAQlR,GAEjB,GAAa,UAATzP,EAEF,OADA+gB,GAAgBtR,GACTX,EAASW,GAElB,GAAa,UAATzP,EAEF,OADAghB,GAAgBvR,GACTZ,EAASY,GAElB,GAAa,YAATzP,EACF,OAAO4gB,EAAWnR,GAEpB,GAAa,SAATzP,EACF,OAAOugB,EAAgB9Q,GAEzB,GAAa,aAATzP,EACF,OAAOygB,EAAoBhR,GAE7B,GAAa,kBAATzP,EAA0B,CAE5B,GADAqF,QAAQC,IAAImK,GACE,OAAVA,EAAgB,OACpBkR,EAAQ9c,GAASQ,UACjByK,EAASjL,GAASlC,OAClBkN,EAAShL,GAAS9B,SA4BtB,OACE,cAAC,GAAD,UACE,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,eAAC2c,GAAD,WACE,eAACF,GAAD,WACE,cAACC,GAAD,6CACA,cAAC,GAAD,CAAiB9O,SAAUuR,GAAmBzR,MAAOiR,OAEvD,cAAC,GAAD,CACErC,WAAW,eACXre,KAAK,OACLue,UAAU,OACV/O,UAAU,EACVlI,KAAK,MACLmI,MAAOzP,EACP2P,SAAUuR,GACV1e,MAAOsB,GAAY,KAAStB,MAC5BsB,aAAcA,GAAY,KAASrB,QACnCiN,YAAY,+CAEd,cAAC,GAAD,CACE2O,WAAW,2BACXre,KAAK,QACLue,UAAU,QACV/O,UAAU,EACVlI,KAAK,MACLmI,MAAO1N,EACP4N,SAAUuR,GACV1e,MAAOsB,GAAY,MAAUtB,MAC7BsB,aAAcA,GAAY,MAAUrB,QACpCiN,YAAY,+CAGd,cAAC,GAAD,CACE2O,WAAW,eACXre,KAAK,QACLue,UAAU,QACV/O,UAAU,EACVlI,KAAK,MACLmI,MAAO9N,EACPgO,SAAUuR,GACV1e,MAAOsB,GAAY,MAAUtB,MAC7BsB,aAAcA,GAAY,MAAUrB,QACpCiN,YAAY,+CAGbmR,GACC,eAACtB,GAAD,WACE,cAAC,GAAD,CAAalB,WAAW,eAAKre,KAAK,OAAOwP,UAAU,EAAMgQ,QAASU,EAAQvQ,SAAUuR,GAAmBzR,MAAO6Q,IAC9G,cAAC,GAAD,CACEjC,WAAW,sBACXre,KAAK,WACLwP,UAAU,EACVgQ,QAASY,EACTzQ,SAAUuR,GACVzR,MAAO+Q,OAIX,GAEF,cAAC,GAAD,CACEnC,WAAW,eACXre,KAAK,UACLue,UAAU,OACV/O,UAAU,EACVlI,KAAK,MACLmI,MAAOlN,EACPoN,SAAUuR,GACV1e,MAAOsB,GAAY,QAAYtB,MAC/BsB,aAAcA,GAAY,QAAYrB,QACtCiN,YAAY,gIAEd,cAAC,GAAD,CAAY2O,WAAW,2BAAOre,KAAK,GAAGwP,UAAU,EAAM6P,QAAQ,6BAC9D,cAAC,GAAD,CAAYhB,WAAW,2BAAOre,KAAK,GAAGwP,UAAU,EAAM6P,QAAQ,kDAEhE,cAAC,GAAD,CAAS9V,QAjGY,SAAC6F,GAG1B,IAAK,IAAIG,KAPTyR,GAAgBjf,GAChBgf,GAAgBpf,GAChBsf,GAAejhB,GAIfiP,EAASK,SAAU,EACFxL,GACf,IAAKA,GAAayL,GAAM/M,MACtB,OAAQyM,EAASK,SAAU,EAG/BjK,QAAQC,IAAI2J,EAASK,SACjBL,EAASK,SvCvBW,SAAC,GAAkE,IAAhE6R,EAA+D,EAA/DA,QAASnhB,EAAsD,EAAtDA,KAAM2B,EAAgD,EAAhDA,MAAOI,EAAyC,EAAzCA,MAAOQ,EAAkC,EAAlCA,QAAS6e,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,WACrErgB,EAAQG,IACR+B,EAAYlC,EAAK,iBAAaA,GAAU,GAC9C,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,uBAA2Boe,GAAW,CAChD/d,OAAQ,OACRC,QAAS,CACPC,cAAeJ,EACf,eAAgB,kCAElBqB,KAAMjD,KAAKG,UAAU,CAAEzB,OAAM2B,QAAOI,QAAOQ,UAAS6e,SAAQC,iBAC3D9d,MAAK,SAACC,GAAD,OAASA,EAAIC,UuCcjB6d,CAAa,CAAEthB,OAAM2B,QAAOI,QAAOQ,UAAS4e,QAASle,EAAIme,OAAQd,EAAce,WAAYb,IAAoBjd,MAAK,SAACC,GAEnH,GADA6B,QAAQC,IAAI9B,GACPA,EAAIiB,QAIT,OAAOiR,OAAO5K,SAASsP,OAAhB,yCAAyDnX,IAH9DoI,MAAM7H,EAAIf,QAAQZ,gBAoFpB,qCClYO,SAAS0f,KACtB,OACE,mCACE,cAACtB,GAAD,M,y8DCFN,IAAMxU,GAAY5D,IAAOG,IAAV,MAMT2F,GAAK9F,IAAO+F,GAAV,MAKF4T,GAAqB3Z,IAAOG,IAAV,KAMbT,GAAOE,SAIZga,GAAY5Z,IAAO8L,EAAV,MAKT+N,GAAY7Z,IAAO8L,EAAV,MAKTgO,GAAY9Z,YAAOY,OAAPZ,CAAH,MAOT+Z,GAAU/Z,YAAOY,OAAPZ,CAAH,MAmBPga,GAAWha,YAAOY,OAAPZ,CAAH,MAkBRia,GAAaja,IAAOG,IAAV,MAMD,SAAS+Z,KAAe,IAC7B9e,EAAOqS,cAAPrS,GACR,OACE,mCACE,eAAC,GAAD,WACE,eAACue,GAAD,WACE,cAAC,GAAD,uCACA,eAACC,GAAD,wDAEE,eAACE,GAAD,CAAWtY,GAAE,4BAAuBpG,GAApC,cAA4CA,EAAGH,MAAM,EAAG,MACxD,cAAC4e,GAAD,iIAGJ,eAACI,GAAD,WACE,cAACF,GAAD,CAASvY,GAAG,IAAZ,sCACA,cAACwY,GAAD,CAAUxY,GAAG,oBAAb,8CCjGK,SAAS2Y,KACtB,OACE,mCACE,cAACD,GAAD,M,s9CCHN,IAAME,GAAepa,IAAOG,IAAV,KAIPT,GAAOI,UAIZ8D,GAAY5D,IAAOG,IAAV,MASO,SAACC,GAAD,OAAWA,EAAMvH,MAAMwH,cAEzC,SAACD,GAAD,OACAA,EAAM+N,SAAN,sBAIOzO,GAAOI,UAQZQ,GAAgBN,IAAOG,IAAV,MAObQ,GAAMX,YAAOY,OAAPZ,CAAH,MACE,SAACI,GAAD,OAAWA,EAAMvH,MAAMwhB,cAKrB,SAACja,GAAD,OAAWA,EAAMvH,MAAMyhB,aAK9BC,GAAava,IAAO+F,GAAV,MACL,SAAC3F,GAAD,OAAWA,EAAMvH,MAAMwhB,cACL,SAACja,GAAD,OAAWA,EAAMvH,MAAM2hB,eAK9CC,GAAWza,IAAOG,IAAV,MAIQ,SAACC,GAAD,OAAWA,EAAMvH,MAAMwH,cASrB,SAACD,GAAD,OAAWA,EAAMvH,MAAM6hB,eAClC,SAACta,GAAD,OAAWA,EAAMvH,MAAMyhB,aAGhC,SAACla,GAAD,OACCA,EAAM+N,SAAP,0BAKOzO,GAAOI,UAKH,SAAS6a,KAAS,IAAD,EACQnY,oBAAS,GADjB,mBACvBoY,EADuB,KACVC,EADU,OAEcrY,oBAAS,GAFvB,mBAEvBsY,EAFuB,KAEPC,EAFO,KAa9B,OACE,eAACX,GAAD,WACE,cAACK,GAAD,CAAU/Y,QAXW,WACnBkZ,IACJC,GAAe,GACfE,GAAkB,KAQqB5M,QAAS2M,EAA9C,kBAGA,eAAC,GAAD,CAAWrX,aATU,WACvBoX,GAAe,GACfE,GAAkB,IAO2B5M,QAASyM,EAApD,UACE,cAACL,GAAD,uCACA,eAAC,GAAD,WACE,cAAC,GAAD,CAAK/Y,GAAG,sBAAR,sCACA,cAAC,GAAD,CAAKA,GAAG,oBAAR,+C,wfC5GV,IAAMwE,GAAShG,IAAOiG,OAAV,MAGU,SAAC7F,GAAD,OAAWA,EAAMvH,MAAMwH,cAGjB,SAACD,GAAD,OAAWA,EAAMvH,MAAMmiB,UAI3B,SAAC5a,GAAD,OAAWA,EAAMvH,MAAMwH,cAE3C,SAACD,GAAD,MACgB,MAAhBA,EAAM4V,OAAN,sDAMEiF,GAAcjb,YAAOgG,GAAPhG,CAAH,MACN,SAACI,GAAD,OAAWA,EAAMvH,MAAMqiB,aAGV,SAAC9a,GAAD,OAAWA,EAAMvH,MAAM6hB,eAClC,SAACta,GAAD,OAAWA,EAAMvH,MAAMyhB,aCjBvBa,GAAcjjB,YAAY,CACrCC,KAAM,SACNC,aAAc,CACZsY,OAAQ,GACRyB,MAAO,GACPlW,aAAc,IAEhB3D,SAAU,CACRqY,UAAW,SAACnY,EAAOC,GACjBD,EAAMkY,OAASjY,EAAOC,SAExB0iB,SAAU,SAAC5iB,EAAOC,GAChBD,EAAM2Z,MAAQ1Z,EAAOC,SAEvByD,gBAAiB,SAAC3D,EAAOC,GACvBD,EAAMyD,aAAexD,EAAOC,YAcrB2iB,GAAW,SAACjgB,GAAD,OAAQ,SAACqB,GAAD,O7C6IR,SAACrB,GACvB,IAAMjC,EAAQG,IACR+B,EAAYlC,EAAK,iBAAaA,GAAU,GAE9C,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,mBAAuBE,GAAM,CACvCG,OAAQ,MACRC,QAAS,CAAEC,cAAeJ,KACzBK,MAAK,SAACC,GAAD,OAASA,EAAIC,U6CnJrB0f,CAAYlgB,GAAIM,MAAK,SAACC,GACpB,OAAKA,EAAIiB,SAITH,EAAS2e,GAASzf,EAAIkB,KAAKsV,QACpBxW,EAAIkB,KAAKsV,QAJd1V,EAAS2e,GAAS,KACXzf,QAMA4f,GAAc,SAACngB,GAAD,OAAQ,SAACqB,GAAD,O7C4IR,SAACrB,GAC1B,IAAMjC,EAAQG,IACR+B,EAAYlC,EAAK,iBAAaA,GAAU,GAC9C,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,mBAAuBE,GAAM,CACvCG,OAAQ,SACRC,QAAS,CACPC,cAAeJ,KAEhBK,MAAK,SAACC,GAAD,OAASA,EAAIC,U6CnJrB4f,CAAepgB,GAAIM,MAAK,SAACC,GACvB,OAAKA,EAAIiB,SACPH,EAASN,GAAgBR,EAAIf,UAGxBe,OAGE8f,GAAoB,SAAC5e,GAAD,OAAU,SAACJ,GAAD,O7C6IV,SAAC,GAAoB,IAAlBrB,EAAiB,EAAjBA,GAAI2O,EAAa,EAAbA,OAChC5Q,EAAQG,IACR+B,EAAS,iBAAalC,GAE5B,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,mBAAuBE,GAAM,CACvCG,OAAQ,QACRC,QAAS,CACPC,cAAeJ,EACf,eAAgB,kCAElBqB,KAAMjD,KAAKG,UAAU,CAAEmQ,OAAmB,IAAXA,EAAe,EAAI,MACjDrO,MAAK,SAACC,GAAD,OAASA,EAAIC,U6CvJrB8f,CAAqB7e,GAAMnB,MAAK,SAACsD,GAC/B,OAAKA,EAAQpC,SAIbH,EAAS2e,GAASpc,EAAQnC,KAAKsV,QACxBnT,IAJLvC,EAASN,GAAgB6C,EAAQpE,UAC1BoE,QAMA2c,GAAc,SAAC9e,GAAD,OAAU,SAACJ,GAAD,O7CgJV,SAAC,GAAmD,IAAjDrB,EAAgD,EAAhDA,GAAIyN,EAA4C,EAA5CA,UAAWkB,EAAiC,EAAjCA,OAAQ6G,EAAyB,EAAzBA,QAASQ,EAAgB,EAAhBA,UACtDjY,EAAQG,IACR+B,EAAS,iBAAalC,GAE5B,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,mBAAuBE,GAAM,CACvCG,OAAQ,QACRC,QAAS,CACPC,cAAeJ,EACf,eAAgB,kCAElBqB,KAAMjD,KAAKG,UAAU,CAAEiP,YAAWkB,SAAQ6G,UAASQ,gBAClD1V,MAAK,SAACC,GAAD,OAASA,EAAIC,U6C1JrBggB,CAAe/e,GAAMnB,MAAK,SAACsD,GACzB,OAAKA,EAAQpC,SACXH,EAASN,GAAgB6C,EAAQpE,UAG5BoE,OAGE6c,GAAW,SAAChf,GAAD,OAAU,SAACJ,GAAD,O7CoJV,SAAC,GAA2C,IAAzCrB,EAAwC,EAAxCA,GAAIyN,EAAoC,EAApCA,UAAW+H,EAAyB,EAAzBA,QAASQ,EAAgB,EAAhBA,UAC3CjY,EAAQG,IACR+B,EAAYlC,EAAK,iBAAaA,GAAU,GAC9C,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,WAAuB,CACjCK,OAAQ,OACRC,QAAS,CACPC,cAAeJ,EACf,eAAgB,kCAElBqB,KAAMjD,KAAKG,UAAU,CAAEoY,UAAW5W,EAAIyN,YAAW+H,UAASQ,gBACzD1V,MAAK,SAACC,GAAD,OAASA,EAAIC,U6C7JrBkgB,CAAYjf,GAAMnB,MAAK,SAACsD,GACtB,OAAKA,EAAQpC,QAINoC,EAAQnC,MAHbJ,EAASN,GAAgB6C,EAAQpE,UAC1BoE,Q,GAM2Cmc,GAAYxiB,QAArDgY,G,GAAAA,UAAWyK,G,GAAAA,SAAUjf,G,GAAAA,gBAEvB4f,GAAe,SAACvjB,GAAD,OAAWA,EAAMkY,OAAOA,QACvCsL,GAAc,SAACxjB,GAAD,OAAWA,EAAMkY,OAAOyB,OACtCtU,GAAqB,SAACrF,GAAD,OAAWA,EAAMkY,OAAOzU,cAE3Ckf,MAAf,Q,srCCjFA,IAAMvW,GAAO5E,IAAOG,IAAV,KAICT,GAAOI,UAIZyC,GAASvC,IAAOG,IAAV,MAGNyD,GAAY5D,IAAOG,IAAV,KASJT,GAAOE,SAIZiF,GAAQ7E,IAAO+F,GAAV,MAEA,SAAC3F,GAAD,OAAWA,EAAMvH,MAAMwhB,cAI5B4B,GAAOjc,IAAO8W,KAAV,MAMsB,SAAC1W,GAAD,OAAWA,EAAMvH,MAAMmiB,SAC5Ctb,GAAOE,SAIZsc,GAAYlc,YAAOib,GAAPjb,CAAH,KAKJN,GAAOE,SAMZuc,GAAwB,CAC5BtT,UAAW,CAAElO,OAAO,EAAMC,QAAS,IACnCwW,UAAW,CAAEzW,OAAO,EAAMC,QAAS,IACnCgW,QAAS,CAAEjW,OAAO,EAAMC,QAAS,KAEpB,SAASwhB,KAAgB,IAAD,EAChB3O,cAAfrS,EAD+B,EAC/BA,GAAI3C,EAD2B,EAC3BA,OACJqK,EAAUC,cAChBvF,QAAQC,IAAIqF,GACZ,IAAMsE,EAAWC,kBAAO,GAElB5K,GADUkG,aAAY4H,IACXvH,gBANoB,EAOaR,mBAAS2Z,IAPtB,mBAO9BE,EAP8B,KAOXC,EAPW,OAQH9Z,mBAAS,IARN,mBAQ9BqG,EAR8B,KAQnB0T,EARmB,OASH/Z,mBAAS,IATN,mBAS9B4O,EAT8B,KASnBoL,EATmB,OAUPha,mBAAS,IAVF,mBAU9BoO,EAV8B,KAUrBC,EAVqB,KAYrCrT,QAAQC,IAAIhF,GACZ+E,QAAQC,IAAI4e,GACZjZ,qBAAU,WACO,YAAX3K,GACFgE,EAAStB,GAAWC,MAErB,CAACqB,EAAUrB,IAEd,IAAMie,EAAoB,SAAC9R,GAAO,IAAD,EACPA,EAAEnI,OAAlBjH,EADuB,EACvBA,KAAMyP,EADiB,EACjBA,MAEd,OADApK,QAAQC,IAAImK,GACC,cAATzP,GACFskB,EAAuB7U,GAChB2U,EAAa3U,IAET,cAATzP,GACFukB,EAAuB9U,GAChB4U,EAAa5U,IAET,YAATzP,GACFwkB,EAAqB/U,GACdiJ,EAAWjJ,SAFpB,GAMI6U,EAAyB,SAAC7U,GAC9B,OAAKA,GAASA,EAAMvI,OAAS,EACpBid,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BxT,UAAW,CAAElO,OAAO,EAAOC,QAAS,+DAGjC0hB,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BxT,UAAW,CAAElO,OAAO,EAAMC,QAAS,UAGjC8hB,EAAyB,SAAC9U,GAC9B,OAAKzN,EAAiByN,GAMf0U,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BjL,UAAW,CAAEzW,OAAO,EAAMC,QAAS,SAP5B0hB,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BjL,UAAW,CAAEzW,OAAO,EAAOC,QAAS,sEAQpC+hB,EAAuB,SAAC/U,GAE5B,OADApK,QAAQC,IAAIpD,EAAeuN,IACtBvN,EAAeuN,GAMb0U,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BzL,QAAS,CAAEjW,OAAO,EAAMC,QAAS,SAP1B0hB,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BzL,QAAS,CAAEjW,OAAO,EAAOC,QAAS,gFA8BxC,OACE,eAAC,GAAD,WACE,cAAC+f,GAAD,IACA,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC,GAAD,mDACA,cAACM,GAAD,CAAajF,MAAO,IAAKtU,QAAS,kBAAMoB,EAAQ8Z,UAAhD,6BAIF,eAACX,GAAD,CAAM7gB,GAAG,eAAT,UACE,eAAC,GAAD,WACE,cAAC,GAAD,CACEob,WAAY,eACZE,UAAW,SACXjX,KAAM,MACNtH,KAAM,UACNyP,MAAOgJ,EACP9I,SAAUuR,EACVpd,aAAcogB,EAAiB,QAAYzhB,QAC3C+M,UAAQ,IAEV,cAAC,GAAD,CACE6O,WAAY,eACZE,UAAW,OACXjX,KAAM,MACNtH,KAAM,YACNyP,MAAOiB,EACPf,SAAUuR,EACV1e,MAAO0hB,EAAiB,UAAc1hB,MACtCsB,aAAcogB,EAAiB,UAAczhB,QAC7CiN,YAAY,GACZF,UAAQ,OAGZ,cAAC,GAAD,UACE,cAAC,GAAD,CACE6O,WAAY,eACZE,UAAW,OACXjX,KAAM,MACNtH,KAAM,YACNyP,MAAOwJ,EACPtJ,SAAUuR,EACV1e,MAAO0hB,EAAiB,UAAc1hB,MACtCsB,aAAcogB,EAAiB,UAAczhB,QAC7CiN,YAAY,0DACZF,UAAQ,MAGZ,cAACuU,GAAD,CAAWxa,QAtEI,SAAC6F,GAGtB,IAAK,IAAIG,KAFTH,EAAEC,iBACFJ,EAASK,SAAU,EACF4U,EACf,IAAKA,EAAkB3U,GAAM/M,MAC3B,OAAQyM,EAASK,SAAU,EAG3BL,IACF3K,EAASof,GAAS,CAAEzgB,KAAIyN,YAAWuI,YAAWR,aAAYlV,MAAK,SAACC,GAAD,OAAS6B,QAAQC,IAAI9B,MACrE,YAAXlD,EACFqK,EAAQK,KAAR,uCAA6C/H,IAE7C0H,EAAQ8Z,WAyD8B5U,KAAK,SAAS8O,KAAK,eAAvD,mC,yqCC/MV,IAAMlS,GAAO5E,IAAOG,IAAV,KAICT,GAAOI,UAIZ8D,GAAY5D,IAAOG,IAAV,KASJT,GAAOE,SAIZiF,GAAQ7E,IAAO+F,GAAV,MAEA,SAAC3F,GAAD,OAAWA,EAAMvH,MAAMwhB,cAI5B4B,GAAOjc,IAAO8W,KAAV,MAKsB,SAAC1W,GAAD,OAAWA,EAAMvH,MAAMmiB,SAC5Ctb,GAAOE,SAIZsc,GAAYlc,YAAOib,GAAPjb,CAAH,KAKJN,GAAOE,SAMZ0O,GAAkBtO,IAAOG,IAAV,MAIN,SAAS0c,KAAgB,IAChCzhB,EAAOqS,cAAPrS,GACA0H,EAAUC,cAFqB,EAGTP,mBAAS,IAHA,mBAG9BoK,EAH8B,KAGtBkQ,EAHsB,KAiCrC,OACE,eAAC,GAAD,WACE,cAACnC,GAAD,IACA,eAAC,GAAD,WACE,cAAC,GAAD,mDACA,eAAC,GAAD,CAAMvf,GAAG,gBAAT,UACE,uBAAO4M,KAAK,OAAO+U,UAAQ,EAACjV,SAnCV,SAACP,GACzB,OAAO,IAAIqO,SAAQ,SAACoH,EAASC,GAE3B,IADA,IAAMC,EAAW,IAAIC,SACZ3K,EAAI,EAAGA,EAAIjL,EAAEnI,OAAOge,MAAM/d,OAAQmT,GAAK,EAC9C0K,EAASG,OAAO,QAAS9V,EAAEnI,OAAOge,MAAM5K,K/CwEjB,SAAC8K,GAC9B,IAAMnkB,EAAQG,IACR+B,EAAS,iBAAalC,GAE5B,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,WAAuB,CACjCK,OAAQ,OACRC,QAAS,CACPC,cAAeJ,GAEjBqB,KAAM4gB,IACL5hB,MAAK,SAACC,GAAD,OAASA,EAAIC,W+ChFjB2hB,CAAgBL,GACbxhB,MAAK,SAAC8hB,GACLV,EAAU,GAAD,oBAAKlQ,GAAL,aAAgB4Q,EAAO3gB,KAAK+P,UACrCoQ,EAAQQ,EAAO5Q,WAEhBtP,OAAM,SAACmgB,GACNR,EAAO,iBACPzf,QAAQigB,MAAM,SAAUA,YAuBxB,cAAC,GAAD,UAAkB7Q,GAAUA,EAAOjE,KAAI,SAAC+U,GAAD,OAAW,qBAAoBpZ,IAAKoZ,EAAM7Q,IAAK5K,MAAM,MAAMC,OAAO,MAA7Cwb,EAAMtiB,SAClE,cAAC,GAAD,CAAWsG,QAnBY,SAAC6F,GAC9BA,EAAEC,iBACF,IAAMmW,EAAgB/Q,EAAOjE,KAAI,SAAC+U,GAAD,OAAWA,EAAMtiB,O/CkFrB,SAAC,GAAoB,IAAlBA,EAAiB,EAAjBA,GAAIwR,EAAa,EAAbA,OAChCzT,EAAQG,IACR+B,EAAS,iBAAalC,GAE5B,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,WAAuB,CACjCK,OAAQ,QACRC,QAAS,CACPC,cAAeJ,EACf,eAAgB,kCAElBqB,KAAMjD,KAAKG,UAAU,CAAEoY,UAAW5W,EAAIwR,aACrClR,MAAK,SAACC,GAAD,OAASA,EAAIC,W+C5FnBgiB,CAAkB,CAAExiB,KAAIwR,OAAQ+Q,IAAiBjiB,MAAK,SAACmB,GACjDA,EAAKD,UACP4G,MAAM,oDACNV,EAAQK,KAAK,4BAaiC6E,KAAK,SAAS8O,KAAK,gBAA/D,mC,0ZC5FV,IAAMlT,GAAY5D,IAAOG,IAAV,KAIJT,GAAOE,QAOLF,GAAOE,SASdie,GAAc,CAClB,CACEC,OAAQ,YACRC,WAAY,CACVC,MAAO,SACPve,KAAM,SAGV,CACEqe,OAAO,sEACPC,WAAY,CAAEC,MAAO,WAEvB,CAAEF,OAAQ,CAAEG,MAAO,gCACnB,CAAEH,OAAQ,IAAKC,WAAY,CAAEC,MAAO,WACpC,CAAEF,OAAQ,CAAEG,MAAO,4BACnB,CAAEH,OAAQ,CAAEG,MAAO,4BACnB,CAAEH,OAAQ,CAAEG,MAAO,4BACnB,CAAEH,OAAQ,CAAEG,MAAO,4BACnB,CAAEH,OAAQ,OAGG,SAASI,GAAT,GAAwC,IAAtBpW,EAAqB,EAArBA,SAAU0P,EAAW,EAAXA,QACnC2G,EAAaC,IAAM/W,SACnBgX,EAAU,CACdC,YAAa,CACXC,aAAa,GAEfC,QAAS,CAAC,CAAC,CAAEC,OAAQ,CAAC,EAAG,EAAG,EAAG,GAAG,KAAW,CAAC,CAAET,MAAO,KAAO,CAAC,OAAQ,SAAU,aAAc,CAAC,OAAQ,SAAU,CAAC,UACnHU,cAAe,CACbC,OAAQ,SAACvB,GACP,OAAO,IAAIxH,SAAQ,SAACoH,EAASC,GAC3B,IAAMC,EAAW,IAAIC,SACrBD,EAASG,OAAO,QAASD,GhD4FJ,SAACE,GAC9B,IAAMnkB,EAAQG,IACR+B,EAAS,iBAAalC,GAE5B,OAAOmC,MAAM,GAAD,OAAIJ,EAAJ,WAAuB,CACjCK,OAAQ,OACRC,QAAS,CACPC,cAAeJ,GAEjBqB,KAAM4gB,IACL5hB,MAAK,SAACC,GAAD,OAASA,EAAIC,UgDpGbgjB,CAAgB1B,GACbxhB,MAAK,SAAC8hB,GACLhgB,QAAQC,IAAI+f,GACZR,EAAQQ,EAAO3Q,QAEhBvP,OAAM,SAACmgB,GACNR,EAAO,iBACPzf,QAAQigB,MAAM,SAAUA,YApBgB,EA4BjBoB,aAAS,CAAER,YAAtCS,EA5B4C,EA4B5CA,MAAOC,EA5BqC,EA4BrCA,SAAUC,EA5B2B,EA4B3BA,MAezB,OAdIA,IAAUF,IACZE,EAAMC,MAAM,SACZD,EAAME,SAAS,CAAE,sBAAuBC,KAAa,wBAAyBC,QAEhFhc,qBAAU,WACJ0b,IACFA,EAAMO,YAAY7H,EAAU/d,KAAKC,MAAM8d,GAAUqG,IACjDiB,EAAMQ,GAAG,eAAe,WACtB,IAAMC,EAAOT,EAAMU,cACnBhiB,QAAQC,IAAI8hB,GACZzX,EAASyX,SAGZ,CAACT,IAEF,eAAC,GAAD,WACE,qBAAK7K,IAAK8K,IACV,qBAAK9K,IAAKkK,O,slCCnFhB,IAAMvZ,GAAO5E,IAAOG,IAAV,KAICT,GAAOI,UAIZ8D,GAAY5D,IAAOG,IAAV,KASJT,GAAOE,SAIZiF,GAAQ7E,IAAO+F,GAAV,MAEA,SAAC3F,GAAD,OAAWA,EAAMvH,MAAMwhB,cAI5B4B,GAAOjc,IAAO8W,KAAV,MAMsB,SAAC1W,GAAD,OAAWA,EAAMvH,MAAMmiB,SAC5Ctb,GAAOE,SAIZsc,GAAYlc,YAAOib,GAAPjb,CAAH,KAKJN,GAAOE,SAOZ6f,GAA0B,CAC9BjlB,MAAO,CAAEG,OAAO,EAAMC,QAAS,IAC/BsP,YAAa,CAAEvP,OAAO,EAAMC,QAAS,IACrCuO,QAAS,CAAExO,OAAO,EAAMC,QAAS,IACjCoN,KAAM,CAAErN,OAAO,EAAMC,QAAS,KAE1B6b,GAAQ,CACZ,CAAEte,KAAM,iCAASyP,MAAO,kCACxB,CAAEzP,KAAM,iCAASyP,MAAO,kCACxB,CAAEzP,KAAM,eAAMyP,MAAO,gBACrB,CAAEzP,KAAM,2BAAQyP,MAAO,6BAEV,SAAS8X,KACtB,IACM5c,EAAUC,cACVtG,EAAWuG,eAHsB,EAIeR,mBAASid,IAJxB,mBAIhCE,EAJgC,KAIXC,EAJW,OAKDpd,mBAAS,IALR,mBAKhC0H,EALgC,KAKnB2V,EALmB,OAMbrd,mBAAS,IANI,mBAMhChI,EANgC,KAMzBslB,EANyB,OAOTtd,mBAAS,IAPA,mBAOhC2G,EAPgC,KAOvBG,EAPuB,OAQf9G,mBAAS,IARM,mBAQhCwF,EARgC,KAQ1B+X,EAR0B,KAUjC1G,EAAoB,SAAC9R,GAAO,IAAD,EACPA,EAAEnI,OAAlBjH,EADuB,EACvBA,KAAMyP,EADiB,EACjBA,MACd,MAAa,gBAATzP,GACF6nB,EAAqBpY,GACdiY,EAAejY,IAEX,UAATzP,GACF8nB,EAAmBrY,GACZkY,EAASlY,IAEL,SAATzP,GACF+nB,EAAkBtY,GACXmY,EAAQnY,SAFjB,GASIoY,EAAuB,SAACpY,GAC5B,OlDvC8B,SAACsC,GAEjC,MADa,qBACDnQ,KAAKmQ,GkDqCViW,CAAmBvY,GAMjBgY,GAAuB,SAACD,GAAD,mBAAC,eAC1BA,GADyB,IAE5BzV,YAAa,CAAEvP,OAAO,EAAMC,QAAS,SAP9BglB,GAAuB,SAACD,GAAD,mBAAC,eAC1BA,GADyB,IAE5BzV,YAAa,CAAEvP,OAAO,EAAOC,QAAS,oDAQtCslB,EAAoB,SAACtY,GACzB,OAMOgY,EANFhY,EAMyB,SAAC+X,GAAD,mBAAC,eAC1BA,GADyB,IAE5B3X,KAAM,CAAErN,OAAO,EAAMC,QAAS,OAPA,SAAC+kB,GAAD,mBAAC,eAC1BA,GADyB,IAE5B3X,KAAM,CAAErN,OAAO,EAAOC,QAAS,uCAQ/BqlB,EAAqB,SAACrY,GAC1B,OAA4B,IAAxBrN,EAAaqN,GACRgY,GAAuB,SAACD,GAAD,mBAAC,eAC1BA,GADyB,IAE5BnlB,MAAO,CAAEG,OAAO,EAAOC,QAAS,6FAGR,IAAxBL,EAAaqN,GACRgY,GAAuB,SAACD,GAAD,mBAAC,eAC1BA,GADyB,IAE5BnlB,MAAO,CAAEG,OAAO,EAAOC,QAAS,6CAG7BglB,GAAuB,SAACD,GAAD,mBAAC,eAC1BA,GADyB,IAE5BnlB,MAAO,CAAEG,OAAO,EAAMC,QAAS,UAG7BwlB,EAAuB,SAACxY,GAC5B,OAMOgY,EANFhY,EAMyB,SAAC+X,GAAD,mBAAC,eAC1BA,GADyB,IAE5BxW,QAAS,CAAExO,OAAO,EAAMC,QAAS,OAPH,SAAC+kB,GAAD,mBAAC,eAC1BA,GADyB,IAE5BxW,QAAS,CAAExO,OAAO,EAAOC,QAAS,mDA2BxC,OACE,eAAC,GAAD,WACE,cAAC+f,GAAD,IACA,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC,GAAD,CACEnE,WAAW,eACXE,UAAU,OACVjX,KAAK,MACLtH,KAAK,cACLyP,MAAOsC,EACPpC,SAAUuR,EACV1e,MAAOglB,EAAmB,YAAgBhlB,MAC1CsB,aAAc0jB,EAAmB,YAAgB/kB,QACjDiN,YAAY,0BAEd,cAAC,GAAD,CACE2O,WAAY,eACZE,UAAU,SACVjX,KAAK,MACLtH,KAAK,QACLyP,MAAOpN,EACPsN,SAAUuR,EACV1e,MAAOglB,EAAmB,MAAUhlB,MACpCsB,aAAc0jB,EAAmB,MAAU/kB,QAC3CiN,YAAY,wCAGhB,cAAC,GAAD,UACE,cAAC,GAAD,CACE2O,WAAW,eACXC,MAAOA,GACPhX,KAAK,MACLtH,KAAK,OACLyP,MAAOI,EACPF,SAAUuR,EACV1e,MAAOglB,EAAmB,KAAShlB,MACnCsB,aAAc0jB,EAAmB,KAAS/kB,YAG9C,eAAC,GAAD,WACE,cAACwb,GAAD,4BACEuJ,EAAmB,QAAYhlB,OAAS,cAAC,GAAD,UAAeglB,EAAmB,QAAY/kB,aAE1F,cAACsjB,GAAD,CAAQpW,SA3HY,SAACjL,GAC3BujB,EAAqBvjB,GACrByM,EAAWzM,IAyHkC2a,QAASrO,IAChD,cAAC,GAAD,CAAWzH,QAxDM,SAAC6F,GACxBA,EAAEC,iBAVFwY,EAAqB9V,GACrB+V,EAAmBzlB,GACnB0lB,EAAkBlY,GAClBoY,EAAqBjX,MACjBe,GAAe1P,GAASwN,GAAQmB,IASpC1M,EAAS2N,GAAW,CAAEF,cAAalC,OAAMxN,QAAO2O,QAAS1P,KAAKG,UAAUuP,MAAazN,MAAK,SAACC,GACzFmH,EAAQK,KAAR,+BAAqCxH,EAAIkB,KAAKqM,QAAQ9N,GAAtD,iBAmDI,mC,gtDCtNV,IAAMwJ,GAAO5E,IAAOG,IAAV,KAICT,GAAOI,UAIZ8D,GAAY5D,IAAOG,IAAV,KAQJT,GAAOE,SAIZ2C,GAASvC,IAAOG,IAAV,MAGN0E,GAAQ7E,IAAO+F,GAAV,MAEA,SAAC3F,GAAD,OAAWA,EAAMvH,MAAMwhB,cAI5BgG,GAAergB,IAAOG,IAAV,KAGPT,GAAOE,SAIZ0gB,GAActgB,IAAOuU,MAAV,MAMc,SAACnU,GAAD,OAAWA,EAAMvH,MAAM2hB,eAC1B,SAACpa,GAAD,OAAWA,EAAMvH,MAAM2hB,eAGpC,SAACpa,GAAD,OAAWA,EAAMvH,MAAMqiB,aAMP,SAAC9a,GAAD,OAAWA,EAAMvH,MAAM2hB,eAShD+F,GAAcvgB,IAAOG,IAAV,MAKXqgB,GAAiBxgB,IAAOG,IAAV,KAGTT,GAAOE,SASZ6gB,GAAU,SAAC,GAA8D,IAA5D1W,EAA2D,EAA3DA,OAAQ2W,EAAmD,EAAnDA,oBAAqBtlB,EAA8B,EAA9BA,GAAIulB,EAA0B,EAA1BA,oBAClD,OACE,eAACJ,GAAD,WACE,cAAC,OAAD,CAAM/e,GAAE,oCAA+BpG,GAAvC,SACE,cAAC6f,GAAD,CAAajF,MAAO,IAApB,4BAEF,cAAC,OAAD,CAAMxU,GAAE,kCAA6BpG,GAArC,SACE,cAAC6f,GAAD,CAAajF,MAAO,IAApB,4BAEF,cAACiF,GAAD,CAAajF,MAAO,IAAKtU,QAAS,kBAAMif,EAAoB,CAAEvlB,KAAI2O,YAAlE,SACc,IAAXA,EAAe,eAAO,iBAEzB,cAACkR,GAAD,CAAajF,MAAO,IAAKtU,QAAS,kBAAMgf,EAAoBtlB,IAA5D,8BAMS,SAASwlB,KACtB,IAAMnkB,EAAWuG,eACXlE,EAAW6D,aAAY2H,IACvBxH,EAAUC,cAHwB,EAIJP,mBAAS,MAJL,mBAIjCkL,EAJiC,aAKdlL,mBAAS,SALK,mBAKjCrE,EALiC,aAMhBqE,mBAAS,QANO,mBAMjCwF,EANiC,KAM3B+X,EAN2B,OAOZvd,oBAAS,GAPG,mBAOjC8S,EAPiC,KAOzBC,EAPyB,KAQxCnS,qBAAU,kBAAM3G,EAAS8M,GAAY,CAAEvB,OAAM7J,QAAOsL,KAAMiE,OAAgB,CAAC4H,EAAQ7Y,EAAUuL,EAAM0F,EAAYvP,IAC/G,IAAMuiB,EAAsB,SAACtlB,GAC3BqB,EAASmN,GAAcxO,IAAKM,MAAK,kBAAM6Z,GAAWD,OAE9CqL,EAAsB,SAAC,GAAoB,IAAlBvlB,EAAiB,EAAjBA,GAAI2O,EAAa,EAAbA,OACjCtN,EAASqN,GAAoB,CAAE1O,KAAI2O,YAAWrO,MAAK,SAACC,GAClD,IAAIA,EAAIiB,QAEP,OADC4G,MAAM,0GACAV,EAAQK,KAAR,oCAA0C/H,IAElDma,GAAWD,OAGf,OACE,eAAC,GAAD,WACE,cAACqF,GAAD,IACA,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,cAAC,OAAD,CAAMnZ,GAAG,yBAAT,SACE,cAACyZ,GAAD,CAAajF,MAAO,IAApB,wCAEF,cAACwK,GAAD,UACE,yBAAQ1Y,SAAU,SAACP,GAAD,OAAOwY,EAAQxY,EAAEnI,OAAOwI,QAAQA,MAAOI,EAAzD,UACE,wBAAQJ,MAAO,MAAf,0BACA,wBAAQA,MAAO,EAAf,4CACA,wBAAQA,MAAO,EAAf,4CACA,wBAAQA,MAAO,EAAf,0BACA,wBAAQA,MAAO,EAAf,8CAIN,cAACyY,GAAD,UACE,eAAC,GAAD,WACE,gCACE,+BACE,4CACA,sCACA,6CACA,sCACA,wCACA,4BAGJ,gCACGvhB,EAAS6J,KAAI,SAACO,GAAD,OACZ,+BACE,6BAAKA,EAAQ9N,KACb,6BAAK8N,EAAQgB,cACb,6BAAKhB,EAAQ1O,QACb,6BAAK0O,EAAQlB,OACb,6BAAwB,IAAnBkB,EAAQa,OAAe,qBAAQ,uBACpC,6BACE,cAAC,GAAD,CACEA,OAAQb,EAAQa,OAChB3O,GAAI8N,EAAQ9N,GACZslB,oBAAqBA,EACrBC,oBAAqBA,QAXlBzX,EAAQ9N,oB,srCCrJjC,IAAMwJ,GAAO5E,IAAOG,IAAV,KAICT,GAAOI,UAIZyC,GAASvC,IAAOG,IAAV,MAGNyD,GAAY5D,IAAOG,IAAV,KASJT,GAAOE,SAIZiF,GAAQ7E,IAAO+F,GAAV,MAEA,SAAC3F,GAAD,OAAWA,EAAMvH,MAAMwhB,cAI5B4B,GAAOjc,IAAO8W,KAAV,MAMsB,SAAC1W,GAAD,OAAWA,EAAMvH,MAAMmiB,SAC5Ctb,GAAOE,SAIZsc,GAAYlc,YAAOib,GAAPjb,CAAH,KAKJN,GAAOE,SAMZuc,GAAwB,CAC5BtT,UAAW,CAAElO,OAAO,EAAMC,QAAS,IACnCwW,UAAW,CAAEzW,OAAO,EAAMC,QAAS,IACnCgW,QAAS,CAAEjW,OAAO,EAAMC,QAAS,IACjCmP,OAAQ,CAAEpP,OAAO,EAAMC,QAAS,KAEnB,SAASimB,KAAiB,IAC/BzlB,EAAOqS,cAAPrS,GACF0H,EAAUC,cACVqE,EAAWC,kBAAO,GAElB5K,GADQkG,aAAYqZ,IACThZ,gBALqB,EAMYR,mBAAS2Z,IANrB,mBAM/BE,EAN+B,KAMZC,EANY,OAOJ9Z,mBAAS,IAPL,mBAO/BqG,EAP+B,KAOpB0T,EAPoB,OAQJ/Z,mBAAS,IARL,mBAQ/B4O,EAR+B,KAQpBoL,EARoB,OASRha,mBAAS,IATD,mBAS/BoO,EAT+B,KAStBC,EATsB,OAUVrO,mBAAS,IAVC,mBAU/BuH,EAV+B,KAUvB+W,EAVuB,OAWNte,oBAAS,GAXH,mBAW/BwW,EAX+B,KAWrBC,EAXqB,KAYtC7V,qBAAU,WACR3G,EAAS4e,GAASjgB,IAAKM,MAAK,SAACmB,GAC3B0f,EAAa1f,EAAKgM,WAClB2T,EAAa3f,EAAKuU,WAClBP,EAAWhU,EAAK+T,SAChBkQ,EAAUjkB,EAAKkN,QACfkP,GAAY,QAEb,CAACxc,EAAUrB,IAEd,IAAMie,EAAoB,SAAC9R,GAAO,IAAD,EACPA,EAAEnI,OAAlBjH,EADuB,EACvBA,KAAMyP,EADiB,EACjBA,MACd,MAAa,cAATzP,GACFskB,EAAuB7U,GAChB2U,EAAa3U,IAET,cAATzP,GACFukB,EAAuB9U,GAChB4U,EAAa5U,IAET,YAATzP,GACFwkB,EAAqB/U,GACdiJ,EAAWjJ,IAEP,WAATzP,EAEO2oB,EADK,WAAVlZ,EACe,EAEF,QAJnB,GAQI6U,EAAyB,SAAC7U,GAC9B,OpDtE4B,SAACiB,GAE/B,MADa,wBACD9O,KAAK8O,GoDoEVkY,CAAiBnZ,GAMf0U,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BxT,UAAW,CAAElO,OAAO,EAAMC,QAAS,SAP5B0hB,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BxT,UAAW,CAAElO,OAAO,EAAOC,QAAS,sDAQpC8hB,EAAyB,SAAC9U,GAC9B,OAAKzN,EAAiByN,GAMf0U,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BjL,UAAW,CAAEzW,OAAO,EAAMC,QAAS,SAP5B0hB,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BjL,UAAW,CAAEzW,OAAO,EAAOC,QAAS,sEAQpC+hB,EAAuB,SAAC/U,GAC5B,OAAKvN,EAAeuN,GAMb0U,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BzL,QAAS,CAAEjW,OAAO,EAAMC,QAAS,SAP1B0hB,GAAqB,SAACD,GAAD,mBAAC,eACxBA,GADuB,IAE1BzL,QAAS,CAAEjW,OAAO,EAAOC,QAAS,gFAuBxC,OACE,eAAC,GAAD,WACE,cAAC+f,GAAD,IACA,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC,GAAD,mDACA,cAACM,GAAD,CAAajF,MAAO,IAAKtU,QAAS,kBAAMoB,EAAQ8Z,UAAhD,6BAID5D,EACC,eAAC,GAAD,CAAM5d,GAAG,gBAAT,UACE,eAAC,GAAD,WACE,cAAC,GAAD,CACEob,WAAY,eACZE,UAAW,SACXjX,KAAM,MACNtH,KAAM,UACNyP,MAAOgJ,EACP9I,SAAUuR,EACVpd,aAAcogB,EAAiB,QAAYzhB,QAC3C+M,UAAQ,IAEV,cAAC,GAAD,CACE6O,WAAY,eACZE,UAAW,OACXjX,KAAM,MACNtH,KAAM,YACNyP,MAAOiB,EACPf,SAAUuR,EACV1e,MAAO0hB,EAAiB,UAAc1hB,MACtCsB,aAAcogB,EAAiB,UAAczhB,QAC7CiN,YAAY,GACZF,UAAQ,OAGZ,eAAC,GAAD,WACE,cAAC,GAAD,CACE6O,WAAY,eACZE,UAAW,OACXjX,KAAM,MACNtH,KAAM,YACNyP,MAAOwJ,EACPtJ,SAAUuR,EACV1e,MAAO0hB,EAAiB,UAAc1hB,MACtCsB,aAAcogB,EAAiB,UAAczhB,QAC7CiN,YAAY,0DACZF,UAAQ,IAEV,cAAC,GAAD,CACE6O,WAAW,iCACXC,MAAO,CACL,CAAEte,KAAM,SAAKyP,MAAO,GACpB,CAAEzP,KAAM,SAAKyP,MAAO,IAEtBnI,KAAK,MACLtH,KAAK,SACLyP,MAAOmC,EAAS,IAAM,IACtBjC,SAAUuR,EACV1e,MAAO0hB,EAAiB,OAAW1hB,MACnCsB,aAAcogB,EAAiB,OAAWzhB,aAG9C,cAAC,GAAD,CAAW8G,QA7EG,SAAC6F,GAGvB,IAAK,IAAIG,KAFTH,EAAEC,iBACFJ,EAASK,SAAU,EACF4U,EACf,IAAKA,EAAkB3U,GAAM/M,MAC3B,OAAQyM,EAASK,SAAU,EAG3BL,IACF3K,EAASkf,GAAY,CAAEvgB,KAAIyN,YAAWuI,YAAWR,UAAS7G,YAC1DjH,EAAQ8Z,WAmEmC5U,KAAK,SAAS8O,KAAK,gBAAxD,6BAKF,mB,slCC5NV,IAAMlS,GAAO5E,IAAOG,IAAV,KAICT,GAAOI,UAIZ8D,GAAY5D,IAAOG,IAAV,KASJT,GAAOE,SAIZiF,GAAQ7E,IAAO+F,GAAV,MAEA,SAAC3F,GAAD,OAAWA,EAAMvH,MAAMwhB,cAI5B4B,GAAOjc,IAAO8W,KAAV,MAMsB,SAAC1W,GAAD,OAAWA,EAAMvH,MAAMmiB,SAC5Ctb,GAAOE,SAIZsc,GAAYlc,YAAOib,GAAPjb,CAAH,KAKJN,GAAOE,SAOZ6f,GAA0B,CAC9BjlB,MAAO,CAAEG,OAAO,EAAMC,QAAS,IAC/BsP,YAAa,CAAEvP,OAAO,EAAMC,QAAS,IACrCuO,QAAS,CAAExO,OAAO,EAAMC,QAAS,IACjCoN,KAAM,CAAErN,OAAO,EAAMC,QAAS,KAE1B6b,GAAQ,CACZ,CAAEte,KAAM,iCAASyP,MAAO,kCACxB,CAAEzP,KAAM,iCAASyP,MAAM,kCACvB,CAAEzP,KAAM,eAAMyP,MAAO,gBACrB,CAAEzP,KAAM,2BAAQyP,MAAO,6BAEV,SAASoZ,KACtB,IACM5lB,EAAOqS,cAAPrS,GACF6lB,EAAgB5Z,kBAAO,GACrBvE,EAAUC,cACVtG,EAAWuG,eAEXke,GADUve,aAAY4H,IACR5H,aAAY6H,KAPQ,EASchI,mBAASid,IATvB,mBASjCE,EATiC,KASZC,EATY,OAUFpd,mBAAS,IAVP,mBAUjC0H,EAViC,KAUpB2V,EAVoB,OAWdrd,mBAAS,GAXK,mBAWjChI,EAXiC,KAW1BslB,EAX0B,OAYVtd,mBAAS0e,GAZC,mBAYjC/X,EAZiC,KAYxBG,EAZwB,OAahB9G,mBAAS,IAbO,mBAajCwF,EAbiC,KAa3B+X,EAb2B,OAcZvd,mBAAS,IAdG,mBAcjCuH,EAdiC,KAczB+W,EAdyB,OAeRte,oBAAS,GAfD,mBAejCwW,EAfiC,KAevBC,EAfuB,KAgBxC7V,qBAAU,WACR3G,EAAStB,GAAWC,IAAKM,MAAK,SAACwN,GAC7B4W,EAAS5W,EAAQ1O,OACjBqlB,EAAe3W,EAAQgB,aACvBZ,EAAWJ,EAAQC,SACnB4W,EAAQ7W,EAAQlB,MAChB8Y,EAAU5X,EAAQa,QAClBkP,GAAY,QAEb,CAACxc,EAAUrB,IACd,IAAMie,EAAoB,SAAC9R,GAAO,IAAD,EACPA,EAAEnI,OAAlBjH,EADuB,EACvBA,KAAMyP,EADiB,EACjBA,MACd,MAAa,gBAATzP,GACF6nB,EAAqBpY,GACdiY,EAAejY,IAEX,UAATzP,GACF8nB,EAAmBrY,GACZkY,EAASlY,IAEL,SAATzP,GACF+nB,EAAkBtY,GAClBqZ,EAAcxZ,SAAU,EACjBsY,EAAQnY,IAEJ,WAATzP,EAEO2oB,EADK,WAAVlZ,EACe,EAEF,QAJnB,GAWIoY,EAAuB,SAACpY,GAC5B,OAMOgY,EANFhY,EAMyB,SAAC+X,GAAD,mBAAC,eAC1BA,GADyB,IAE5BzV,YAAa,CAAEvP,OAAO,EAAMC,QAAS,OAPP,SAAC+kB,GAAD,mBAAC,eAC1BA,GADyB,IAE5BzV,YAAa,CAAEvP,OAAO,EAAOC,QAAS,6CAQtCslB,EAAoB,SAACtY,GACzB,OAMOgY,EANFhY,EAMyB,SAAC+X,GAAD,mBAAC,eAC1BA,GADyB,IAE5B3X,KAAM,CAAErN,OAAO,EAAMC,QAAS,OAPA,SAAC+kB,GAAD,mBAAC,eAC1BA,GADyB,IAE5B3X,KAAM,CAAErN,OAAO,EAAOC,QAAS,uCAQ/BqlB,EAAqB,SAACrY,GAC1B,OAMOgY,EANFhY,EAMyB,SAAC+X,GAAD,mBAAC,eAC1BA,GADyB,IAE5BnlB,MAAO,CAAEG,OAAO,EAAMC,QAAS,OAPD,SAAC+kB,GAAD,mBAAC,eAC1BA,GADyB,IAE5BnlB,MAAO,CAAEG,OAAO,EAAOC,QAAS,6CAQhCwlB,EAAuB,SAACxY,GAC5B,OAMOgY,EANFhY,EAMyB,SAAC+X,GAAD,mBAAC,eAC1BA,GADyB,IAE5BxW,QAAS,CAAExO,OAAO,EAAMC,QAAS,OAPH,SAAC+kB,GAAD,mBAAC,eAC1BA,GADyB,IAE5BxW,QAAS,CAAExO,OAAO,EAAOC,QAAS,mDA2BxC,OACE,eAAC,GAAD,WACE,cAAC+f,GAAD,IACA,eAAC,GAAD,WACE,cAAC,GAAD,uCACC3B,EACC,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC,GAAD,CACExC,WAAW,eACXE,UAAU,OACVjX,KAAK,MACLtH,KAAK,cACLyP,MAAOsC,EACPpC,SAAUuR,EACV1e,MAAOglB,EAAmB,YAAgBhlB,MAC1CsB,aAAc0jB,EAAmB,YAAgB/kB,UAEnD,cAAC,GAAD,CACE4b,WAAY,eACZE,UAAW,OACXjX,KAAK,MACLtH,KAAK,QACLyP,MAAOpN,EACPsN,SAAUuR,EACV1e,MAAOglB,EAAmB,MAAUhlB,MACpCsB,aAAc0jB,EAAmB,MAAU/kB,aAG/C,eAAC,GAAD,WACE,cAAC,GAAD,CACE4b,WAAY,eACZC,MAAOA,GACPhX,KAAK,MACLtH,KAAK,OACLyP,MAAOI,EACPF,SAAUuR,EACV1e,MAAOglB,EAAmB,KAAShlB,MACnCsB,aAAc0jB,EAAmB,KAAS/kB,UAE5C,cAAC,GAAD,CACE4b,WAAW,iCACXC,MAAO,CACL,CAAEte,KAAM,SAAKyP,MAAO,GACpB,CAAEzP,KAAM,SAAKyP,MAAO,IAEtBnI,KAAK,MACLtH,KAAK,SACLyP,MAAOmC,EACPjC,SAAUuR,OAGd,eAAC,GAAD,WACE,cAACjD,GAAD,4BACEuJ,EAAmB,QAAYhlB,OAAS,cAAC,GAAD,UAAeglB,EAAmB,QAAY/kB,aAE1F,cAACsjB,GAAD,CAAQpW,SA/HU,SAACjL,GAC3BujB,EAAqBvjB,GACrByM,EAAWzM,IA6HoC2a,QAASrO,IAChD,cAAC,GAAD,CAAWzH,QAlEK,SAAC6F,GACzBA,EAAEC,iBAVFwY,EAAqB9V,GACrB+V,EAAmBzlB,GACnB0lB,EAAkBlY,GAClBoY,EAAqBjX,MACjBe,GAAe1P,GAASwN,GAAQmB,KAUpC1M,EAASwN,GAAc,CAAE7O,KAAI8O,cAAalC,OAAMxN,QAAO2O,QAAS1P,KAAKG,UAAUuP,GAAUY,YACzFjH,EAAQ8Z,WA4DA,6BAGF,mB,kkDCjPV,IAAMhY,GAAO5E,IAAOG,IAAV,KAICT,GAAOI,UAIZ8D,GAAY5D,IAAOG,IAAV,KAQJT,GAAOE,SAIZuhB,GAAcnhB,IAAOG,IAAV,MACX0E,GAAQ7E,IAAO+F,GAAV,MAEA,SAAC3F,GAAD,OAAWA,EAAMvH,MAAMwhB,cAI5BgG,GAAergB,IAAOG,IAAV,KAGPT,GAAOE,SAIZ0gB,GAActgB,IAAOuU,MAAV,MAMc,SAACnU,GAAD,OAAWA,EAAMvH,MAAM2hB,eAC1B,SAACpa,GAAD,OAAWA,EAAMvH,MAAM2hB,eAGpC,SAACpa,GAAD,OAAWA,EAAMvH,MAAMqiB,aAMP,SAAC9a,GAAD,OAAWA,EAAMvH,MAAM2hB,eAkBhDnO,GAAoBrM,IAAOG,IAAV,MAER,SAASihB,KACtB,IAAM3kB,EAAWuG,eADkB,EAEHR,oBAAS,GAFN,mBAE5BwW,EAF4B,KAElBC,EAFkB,OAGDzW,oBAAS,GAHR,mBAG5B6e,EAH4B,KAGjBC,EAHiB,KAI7BpjB,EAASyE,aAAYrD,IAE3B8D,qBAAU,WACR3G,EAAS+B,MAAa9C,MAAK,WACzBud,GAAY,QAEb,CAACxc,EAAU4kB,IAKd,OACE,eAAC,GAAD,WACE,cAAC1G,GAAD,IACA,eAAC,GAAD,WACE,cAACwG,GAAD,UACE,cAAC,GAAD,yCAGAnI,EAGA,cAAC,GAAD,UACE,eAAC,GAAD,WACE,gCACE,+BACE,0CACA,wCACA,6CACA,6CACA,4CACA,wCACA,4BAIJ,gCACG9a,EAAOyK,KAAI,SAACxK,GAAD,OACV,+BACE,6BACE,eAAC,OAAD,CAAMqD,GAAE,4BAAuBrD,EAAMyK,MAArC,UAA8CzK,EAAMyK,KAApD,SAEF,6BAAKzK,EAAMojB,SACX,6BACGpjB,EAAMqjB,eAAe7Y,KAAI,SAACO,GAAD,OACxB,eAAC,GAAD,WACGA,EAAQL,UADX,MACyBK,EAAQuY,cAAc1P,QADvB7I,EAAQ9N,SAKpC,6BAAK+C,EAAM4K,aACX,6BAAKlO,EAAiBsD,EAAM6K,aAC5B,6BAAK7K,EAAMujB,SACX,6BACoB,uBAAjBvjB,EAAMujB,OACL,cAACzG,GAAD,CAAajF,MAAO,IAAKtU,QAAS,kBA/C5BtG,EA+CqD+C,EAAMyK,UA9CrFnM,EAASwC,GAAkB7D,IAAKM,MAAK,kBAAM4lB,GAAa,MAD/B,IAAClmB,GA+CN,4CAIA,OArBG+C,EAAM/C,cAlBvB,gB,yhDChGV,IAAMwJ,GAAO5E,IAAOG,IAAV,KAICT,GAAOI,UAIZ8D,GAAY5D,IAAOG,IAAV,MASToC,GAASvC,IAAOG,IAAV,MACN0E,GAAQ7E,IAAO+F,GAAV,MAEA,SAAC3F,GAAD,OAAWA,EAAMvH,MAAMwhB,cAI5BgG,GAAergB,IAAOG,IAAV,KAGPT,GAAOE,SAIZ0gB,GAActgB,IAAOuU,MAAV,MAMc,SAACnU,GAAD,OAAWA,EAAMvH,MAAM2hB,eAC1B,SAACpa,GAAD,OAAWA,EAAMvH,MAAM2hB,eAGpC,SAACpa,GAAD,OAAWA,EAAMvH,MAAMqiB,aAMP,SAAC9a,GAAD,OAAWA,EAAMvH,MAAM2hB,eAShD+F,GAAcvgB,IAAOG,IAAV,MAKX/F,GAAY4F,IAAOG,IAAV,MAGQ,SAACC,GAAD,OAAWA,EAAM0O,UAGlC2R,GAAU,SAAC,GAA0D,IAAxD1W,EAAuD,EAAvDA,OAAQ4X,EAA+C,EAA/CA,kBAAmBvmB,EAA4B,EAA5BA,GAAIwmB,EAAwB,EAAxBA,kBAChD,OACE,eAAC,GAAD,WACE,cAAC,OAAD,CAAMpgB,GAAE,gCAA2BpG,GAAnC,SACE,cAAC6f,GAAD,CAAajF,MAAO,IAApB,4BAEF,cAACiF,GAAD,CAAajF,MAAO,IAAKtU,QAAS,kBAAMkgB,EAAkB,CAAExmB,KAAI2O,YAAhE,SACc,IAAXA,EAAe,eAAO,iBAEzB,cAACkR,GAAD,CAAajF,MAAO,IAAKtU,QAAS,kBAAMigB,EAAkBvmB,IAA1D,8BAMS,SAASymB,KAAqB,IACnCzmB,EAAOqS,cAAPrS,GACFqB,EAAWuG,eACX0N,EAAS/N,aAAYoZ,IAHe,GAIrBpZ,aAAY9E,IACL2E,oBAAS,IALK,mBAKnC8S,EALmC,KAK3BC,EAL2B,KAMpCoM,EAAoB,SAACvmB,GACzBqB,EAAS8e,GAAYngB,IAAKM,MAAK,kBAAM6Z,GAAWD,OAE5CsM,EAAoB,SAAC,GAAoB,IAAlBxmB,EAAiB,EAAjBA,GAAI2O,EAAa,EAAbA,OAC/BtN,EAASgf,GAAkB,CAAErgB,KAAI2O,YAAWrO,MAAK,kBAAM6Z,GAAWD,OAGpE,OADAlS,qBAAU,kBAAM3G,ET1EO,SAACrB,GAAD,OAAQ,SAACqB,GAAD,OAC/BkN,EAAcvO,GAAIM,MAAK,SAACC,GACtB,OAAKA,EAAIiB,SAITH,EAASkU,GAAUhV,EAAIkB,KAAKqM,QAAQsY,iBAC7B7lB,EAAIkB,KAAKqM,QAAQsY,iBAJtB/kB,EAASkU,GAAU,KACZhV,OSsEcmmB,CAAU1mB,MAAM,CAACqB,EAAUrB,EAAIka,IAEtD,eAAC,GAAD,WACE,cAACqF,GAAD,IACA,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,cAAC,OAAD,CAAMnZ,GAAE,+BAA0BpG,EAA1B,eAAR,SACE,cAAC6f,GAAD,CAAajF,MAAO,IAApB,wCAEF,cAAC,OAAD,CAAMxU,GAAG,sBAAT,SACE,cAACyZ,GAAD,CAAajF,MAAO,IAApB,+BAGJ,eAAC,GAAD,WACE,eAAC,GAAD,WACE,gCACE,+BACE,0CACA,sCACA,uCACA,0CACA,sCACA,wCACA,4BAGJ,gCACqB,IAAlBtF,EAAOrR,QACNqR,EAAO/H,KACL,SAACwJ,GAAD,OACsB,IAApBA,EAAM4P,WACJ,+BACE,6BAAK5P,EAAM/W,KACX,6BAAK+W,EAAMtJ,YACX,6BACE,cAACzO,GAAD,CAAW0U,OAAQqD,EAAMf,cAE3B,6BAAKe,EAAMvB,UACX,6BAAKuB,EAAM6P,OACX,6BAAK7P,EAAMpI,OAAS,qBAAQ,uBAC5B,6BACE,cAAC,GAAD,CAASA,OAAQoI,EAAMpI,OAAQ3O,GAAI+W,EAAM/W,GAAIumB,kBAAmBA,EAAmBC,kBAAmBA,QAVjGzP,EAAM/W,YAiBR,IAAlBsV,EAAOrR,QAAgB,4BAAI,gC,snBC7ItC,IAAMuF,GAAO5E,IAAOG,IAAV,KAICT,GAAOI,UAIZ8D,GAAY5D,IAAOG,IAAV,MASTghB,GAAcnhB,IAAOG,IAAV,MACX0E,GAAQ7E,IAAO+F,GAAV,MAEA,SAAC3F,GAAD,OAAWA,EAAMvH,MAAMwhB,cAKnB,SAAS4H,KAAmB,IACjCtjB,EAAS8O,cAAT9O,KACFlC,EAAWuG,eACX7E,EAAQwE,aAAYpD,IAHc,EAIRiD,oBAAS,GAJD,mBAIjCwW,EAJiC,KAIvBC,EAJuB,KAYxC,OANA7V,qBAAU,WAER,OADA3G,EAASiC,GAASC,IAAOjD,MAAK,kBAAMud,GAAY,MACzC,kBAAMxc,EAAS6B,GAAS,QAC9B,CAAC7B,EAAUkC,IAEdnB,QAAQC,IAAIU,GAEV,eAAC,GAAD,WACE,cAACwc,GAAD,IACA,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,cAAC,OAAD,CAAMnZ,GAAG,oBAAT,SACE,cAACyZ,GAAD,CAAajF,MAAO,IAApB,uBAGJ,eAAC,GAAD,CAAIzV,OAAO,QAAX,UACE,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,eAAC,GAAD,CAAM6T,MAAO,EAAb,cAAkBzV,KAClB,cAAC,GAAD,uCACA,cAAC,GAAD,CAAMyV,MAAO,EAAb,SAAiB4E,EAAW7a,EAAMujB,OAAS,kBAE7C,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,cAAC,GAAD,CAAMtN,MAAO,EAAb,SAAiB4E,EAAWne,EAAiBsD,EAAM6K,WAAa,eAChE,cAAC,GAAD,iCACA,eAAC,GAAD,CAAMoL,MAAO,EAAb,cAAkB4E,EAAW7a,EAAM+jB,UAAU,GAAG/pB,KAAO,mBAEzD,eAAC,GAAD,WACE,cAACgc,GAAD,uCACA,cAAC,GAAD,CAAMC,MAAO,EAAb,SACE,cAACC,GAAD,UACG2E,EACG7a,EAAMW,SAAS6J,KAAI,SAACO,GAAD,OACjB,iCACGA,EAAQL,UADX,MACyBK,EAAQ6I,MAC/B,yBAFS7I,EAAQJ,YAKrB,iBAGR,cAACqL,GAAD,uCACA,cAAC,GAAD,CAAMC,MAAO,EAAb,mCAEF,eAAC,GAAD,WACE,cAACD,GAAD,uCACA,cAAC,GAAD,CAAMC,MAAO,EAAb,SAAiB4E,EAAW7a,EAAM+jB,UAAU,GAAGxnB,QAAU,wBC1FrE,IAUeynB,GAVD,CACZC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,KAAM,UACNC,MAAO,OACPC,MAAO,WCmBMC,GAzBA,CACbC,SAAU,CACRviB,WAAY8hB,GAAMC,QAClB1H,YAAayH,GAAME,UACnBrH,OAAQmH,GAAME,UACdhI,WAAY8H,GAAMC,QAClB5H,YAAa2H,GAAMC,QACnBlH,UAAWiH,GAAMM,MACjBnI,UAAW6H,GAAMO,MACjBG,UAAWV,GAAMK,KACjBlM,UAAW6L,GAAMG,QAEnBQ,UAAW,CACTziB,WAAY8hB,GAAME,UAClB3H,YAAayH,GAAMC,QACnBpH,OAAQmH,GAAME,UACdhI,WAAY8H,GAAMC,QAClB5H,YAAa2H,GAAMC,QACnBlH,UAAWiH,GAAMC,QACjB9H,UAAW6H,GAAMO,MACjBG,UAAWV,GAAMK,KACjBlM,UAAW6L,GAAMG,S,qwDCdrB,IAAM1e,GAAY5D,IAAOG,IAAV,MAMT4iB,GAAK/iB,IAAOgX,GAAV,MAKF5O,GAAKpI,IAAOqI,GAAV,MAKFC,GAAKtI,IAAOuI,GAAV,MAaFhG,GAASvC,IAAOG,IAAV,MASNgU,GAAYnU,IAAOG,IAAV,MASTiF,GAAOpF,IAAOG,IAAV,MAEA,SAACC,GAAD,OAAWA,EAAMgU,SAGrBC,GAAerU,IAAOG,IAAV,MAKZ2M,GAAkB9M,IAAOG,IAAV,MAKf6iB,GAAOhjB,YAAOY,OAAPZ,CAAH,MAqBK,SAASyI,KAAa,IAC3BrN,EAAOqS,cAAPrS,GACFqB,EAAWuG,eAFiB,EAGFR,oBAAS,GAHP,mBAG3BwW,EAH2B,KAGjBC,EAHiB,KAI5B9a,EAAQwE,aAAYpD,IAM1B,OAJA6D,qBAAU,WACR3G,EAASiC,GAAStD,IAAKM,MAAK,kBAAMud,GAAY,QAC7C,CAACxc,EAAUrB,IAGZ,eAAC,GAAD,WACE,cAACyK,GAAD,IAEA,oCACE,cAACkd,GAAD,uCAEA,eAAC,GAAD,WACE,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,eAAC,GAAD,CAAM3O,MAAO,EAAb,cAAkBhZ,KAClB,cAAC,GAAD,uCACA,cAAC,GAAD,CAAMgZ,MAAO,EAAb,SAAiBjW,EAAMujB,QAAU,YAEnC,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,cAAC,GAAD,CAAMtN,MAAO,EAAb,SACG4E,EAAWne,EAAiBsD,EAAM6K,WAAa,eAElD,cAAC,GAAD,uCACA,cAAC,GAAD,CAAMoL,MAAO,EAAb,mCAEF,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,cAAC,GAAD,CAAMA,MAAO,EAAb,SACE,cAAC,GAAD,UACG4E,EACG7a,EAAMW,SAAS6J,KAAI,SAACO,GAAD,OACjB,gCACGA,EAAQL,UADX,MACyBK,EAAQ6I,QADvB7I,EAAQJ,YAIpB,iBAGR,cAAC,GAAD,uCACA,eAAC,GAAD,CAAMsL,MAAO,EAAb,iBAAqB4E,EAAW7a,EAAM4K,WAAa,mBAErD,eAAC,GAAD,WACE,cAAC,GAAD,uCACA,cAAC,GAAD,CAAMqL,MAAO,EAAb,SAAiB4E,GAAuC,IAA3B7a,EAAM+jB,UAAU7iB,OAAelB,EAAM+jB,UAAU,GAAGxnB,QAAU,qBAG7F,cAAC,GAAD,UACE,cAACsoB,GAAD,CAAMxhB,GAAG,oBAAT,8C,i+DCvIV,IAAMoC,GAAY5D,IAAOG,IAAV,MAQT8iB,GAAejjB,IAAOkjB,QAAV,MAmBZvc,GAAiB3G,IAAOG,IAAV,MAKdgjB,GAAmBnjB,IAAOG,IAAV,MAOhBijB,GAAapjB,YAAOY,OAAPZ,CAAH,MAgBVqjB,GAAcrjB,IAAOiG,OAAV,MAkBX0I,GAAQ3O,IAAOmG,MAAV,MAKLM,GAAQzG,IAAO0G,MAAV,MASLE,GAAe5G,IAAOG,IAAV,MAQH,SAASmjB,KACtB,IAAMrnB,EAAe0G,aAAY9E,GADH,EAEE2E,mBAAS,IAFX,mBAEvBlG,EAFuB,KAEbinB,EAFa,OAGE/gB,mBAAS,IAHX,mBAGvBjG,EAHuB,KAGbinB,EAHa,KAIxB1gB,EAAUC,cACVtG,EAAWuG,eACXoE,EAAWC,kBAAO,GAexB,OAFAjE,qBAAU,kBAAM3G,EAASN,EAAgB,OAAM,CAACM,IAG9C,cAAC,GAAD,UACE,eAACwmB,GAAD,WACE,8CACA,uBAAM3b,SAjBS,SAACC,GACpBA,EAAEC,iBACEJ,EAASK,UACbhL,EAASN,EAAgB,KACzBiL,EAASK,SAAU,EACnBhL,EAASU,EAAM,CAAEb,WAAUC,cAAab,MAAK,SAACC,GAC5CyL,EAASK,SAAU,EACf9L,GAAKmH,EAAQK,KAAK,UAUpB,UACE,eAAC,GAAD,WACE,cAAC,GAAD,iCACA,cAAC,GAAD,CACEyE,MAAOtL,EACPqL,UAAQ,EACRG,SAAU,SAACP,GAAD,OAAOgc,EAAYhc,EAAEnI,OAAOwI,aAG1C,eAAC,GAAD,WACE,cAAC,GAAD,iCACA,cAAC,GAAD,CACEI,KAAK,WACLL,UAAQ,EACRC,MAAOrL,EACPuL,SAAU,SAACP,GAAD,OAAOic,EAAYjc,EAAEnI,OAAOwI,aAG1C,cAAC,GAAD,UAAe3L,IACf,eAACknB,GAAD,WACE,cAACC,GAAD,CAAY5hB,GAAG,UAAf,sCACA,cAAC6hB,GAAD,sC,i+DC5IZ,IAAMzf,GAAY5D,IAAOG,IAAV,MAQT8iB,GAAejjB,IAAOkjB,QAAV,MAmBZvc,GAAiB3G,IAAOG,IAAV,MAKdgjB,GAAmBnjB,IAAOG,IAAV,MAuBhBkjB,IAhBarjB,YAAOY,OAAPZ,CAAH,MAgBIA,IAAOiG,OAAV,OAkBX0I,GAAQ3O,IAAOmG,MAAV,MAKLM,GAAQzG,IAAO0G,MAAV,MASLE,GAAe5G,IAAOG,IAAV,MAQH,SAASmjB,KACtB,IAAMrnB,EAAe0G,aAAY9E,GADH,EAEE2E,mBAAS,IAFX,mBAEvBlG,EAFuB,KAEbinB,EAFa,OAGE/gB,mBAAS,IAHX,mBAGvBjG,EAHuB,KAGbinB,EAHa,KAIxB1gB,EAAUC,cACVtG,EAAWuG,eACXoE,EAAWC,kBAAO,GAiBxB,OAJAjE,qBAAU,WAER,OADA3G,EAASlE,GAAmB,IACrBkE,EAASN,EAAgB,OAC/B,CAACM,IAEF,cAAC,GAAD,UACE,eAAC,GAAD,WACE,gEACA,uBAAM6K,SAnBS,SAACC,GACpBA,EAAEC,iBACEJ,EAASK,UACbhL,EAASN,EAAgB,KACzBiL,EAASK,SAAU,EACnBhL,EAASQ,EAAW,CAAEX,WAAUC,cAAab,MAAK,SAACC,GACjDyL,EAASK,SAAU,EACf9L,GAAKmH,EAAQK,KAAK,4BAYpB,UACE,eAAC,GAAD,WACE,cAAC,GAAD,iCACA,cAAC,GAAD,CACEyE,MAAOtL,EACPqL,UAAQ,EACRG,SAAU,SAACP,GAAD,OAAOgc,EAAYhc,EAAEnI,OAAOwI,aAG1C,eAAC,GAAD,WACE,cAAC,GAAD,iCACA,cAAC,GAAD,CACEI,KAAK,WACLL,UAAQ,EACRC,MAAOrL,EACPuL,SAAU,SAACP,GAAD,OAAOic,EAAYjc,EAAEnI,OAAOwI,aAG1C,cAAC,GAAD,UAAe3L,IACf,cAAC,GAAD,UACE,cAAC,GAAD,qC,usDC7IZ,IAAM2H,GAAY5D,IAAOG,IAAV,MAQT8iB,GAAejjB,IAAOkjB,QAAV,MAkBZvc,GAAiB3G,IAAOG,IAAV,MAOdgjB,GAAmBnjB,IAAOG,IAAV,MAOhBwO,GAAQ3O,IAAOmG,MAAV,MAILM,GAAQzG,IAAO0G,MAAV,MASL+c,GAAezjB,IAAOiG,OAAV,MAmBZW,GAAe5G,IAAOG,IAAV,MAQH,SAASujB,KAAU,IAAD,EACClhB,mBAAS,IADV,mBACxBlG,EADwB,KACdinB,EADc,OAEC/gB,mBAAS,IAFV,mBAExBjG,EAFwB,KAEdinB,EAFc,OAGehhB,mBAAS,IAHxB,mBAGxBmhB,EAHwB,KAGPC,EAHO,OAICphB,mBAAS,IAJV,mBAIxBhG,EAJwB,KAIduK,EAJc,OAKLvE,mBAAS,IALJ,mBAKxBtI,EALwB,KAKjB8M,EALiB,OAMLxE,mBAAS,IANJ,mBAMxB1I,EANwB,KAMjBmN,EANiB,OAOWzE,oBAAS,iB9D5B5C,CACLlG,SAAU,CAAE3B,OAAO,EAAMC,QAAS,IAClC+oB,gBAAiB,CAAEhpB,OAAO,EAAMC,QAAS,IACzC4B,SAAU,CAAE7B,OAAO,EAAMC,QAAS,IAClCV,MAAO,CAAES,OAAO,EAAMC,QAAS,IAC/Bd,MAAO,CAAEa,OAAO,EAAMC,QAAS,Q8DgBF,mBAOxBsM,EAPwB,KAOTC,EAPS,KAQzBrE,EAAUC,cAEVtG,EAAWuG,eACXoE,EAAWC,kBAAO,GAoClBwc,EAA0B,WAC9B,GAAItnB,IAAaonB,EACf,OAAOxc,EAAiB,2BACnBD,GADkB,IAErByc,gBAAiB,CAAEhpB,OAAO,EAAOC,QAAS,qCAE9CuM,EAAiB,2BACZD,GADW,IAEdyc,gBAAiB,CAAEhpB,OAAO,EAAMC,QAAS,QA4B7C,OACE,cAAC,GAAD,UACE,cAAC,GAAD,UACE,uBAAM0M,SAzES,SAACC,GAEpB,GADAA,EAAEC,kBACEJ,EAASK,QAAb,CAEA,IAAK,IAAIC,KADTN,EAASK,SAAU,EACFP,EACf,IAAKA,EAAcQ,GAAM/M,MAEvB,YADAyM,EAASK,SAAU,GAIvBhL,EAASJ,EAAO,CAAEC,WAAUC,WAAUC,WAAUtC,QAAOJ,WAAU4B,MAC/D,SAACC,GACC,IAAKA,EAAIiB,QAMP,OALAuK,EAAiB,2BACZD,GADW,IAEd5K,SAAU,CAAE3B,OAAO,EAAOC,QAASe,EAAIf,iBAEzCwM,EAASK,SAAU,GAGrBL,EAASK,SAAU,EACnB3E,EAAQK,KAAK,UAoDb,UACE,8CACA,eAAC,GAAD,WACE,cAAC,GAAD,mDACA,cAAC,GAAD,CACEwE,UAAQ,EACRC,MAAOtL,EACPuL,YAAY,0CACZC,SAvDgB,SAACP,GAC3Bgc,EAA+Bhc,EAAEnI,OAAOwI,M9D/GSkc,WAAW,MAAO,IAAI7oB,MAAM,EAAG,K8DgHhFkM,EAAiB,2BACZD,GADW,IAEd5K,SAAU,CAAE3B,OAAO,EAAMC,QAAS,UAqD5B,cAAC,GAAD,UAAesM,EAAc5K,SAAS1B,aAExC,eAAC,GAAD,WACE,cAAC,GAAD,iCACA,cAAC,GAAD,CACE+M,UAAQ,EACRK,KAAK,WACLH,YAAY,sDACZD,MAAOrL,EACPuL,SAAU,SAACP,GAAD,OAAOic,EAAYjc,EAAEnI,OAAOwI,MAAMG,OAAO9M,MAAM,EAAG,MAC5DgN,OAAQ4b,IAEV,cAAC,GAAD,OAEF,eAAC,GAAD,WACE,cAAC,GAAD,6CACA,cAAC,GAAD,CACE7b,KAAK,WACLH,YAAY,mDACZD,MAAO+b,EACP7b,SAAU,SAACP,GAAD,OACRqc,EAAmBrc,EAAEnI,OAAOwI,MAAMG,OAAO9M,MAAM,EAAG,MAEpDgN,OAAQ4b,IAEV,cAAC,GAAD,UAAe3c,EAAcyc,gBAAgB/oB,aAE/C,eAAC,GAAD,WACE,cAAC,GAAD,iCACA,cAAC,GAAD,CACE+M,UAAQ,EACRC,MAAOpL,EACPqL,YAAY,4DACZC,SAAU,SAACP,GAAD,OAAOR,EAAYQ,EAAEnI,OAAOwI,MAAMG,OAAO9M,MAAM,EAAG,QAE9D,cAAC,GAAD,UAAeiM,EAAc1K,SAAS5B,aAExC,eAAC,GAAD,WACE,cAAC,GAAD,6CACA,cAAC,GAAD,CACE+M,UAAQ,EACRK,KAAK,QACLH,YAAY,yDACZD,MAAO1N,EACP4N,SAAU,SAACP,GAAD,OAAOP,EAASO,EAAEnI,OAAOwI,MAAMG,SACzCE,OAtEY,WACtB,IAAKhO,EAAaC,GAChB,OAAOiN,EAAiB,2BACnBD,GADkB,IAErBhN,MAAO,CAAES,OAAO,EAAOC,QAAS,2CAEpCuM,EAAiB,2BACZD,GADW,IAEdhN,MAAO,CAAES,OAAO,EAAMC,QAAS,UAgEzB,cAAC,GAAD,UAAesM,EAAchN,MAAMU,aAErC,eAAC,GAAD,WACE,cAAC,GAAD,iCACA,cAAC,GAAD,CACE+M,UAAQ,EACRC,MAAO9N,EACP+N,YAAY,yDACZI,OA5FY,WACtB,IAAKpO,EAAaC,GAChB,OAAOqN,EAAiB,2BACnBD,GADkB,IAErBpN,MAAO,CAAEa,OAAO,EAAOC,QAAS,2CAEpCuM,EAAiB,2BACZD,GADW,IAEdpN,MAAO,CAAEa,OAAO,EAAMC,QAAS,QAqFvBkN,SAAU,SAACP,GAAD,OAAON,EAASM,EAAEnI,OAAOwI,MAAMG,WAE3C,cAAC,GAAD,UAAeb,EAAcpN,MAAMc,aAGrC,cAAC,GAAD,UACE,cAAC6oB,GAAD,oCC9MZ,IAAMM,GAAO,SAAC,GAAoC,IAAvBC,EAAsB,EAAjCC,UAAsBC,EAAW,EAAXA,KAC9BznB,EAAWuG,eAD8B,EAEbR,oBAAS,GAFI,mBAExCoL,EAFwC,KAE7BuW,EAF6B,KAGzCpoB,EAAY4G,aAAY5E,GAY9B,OAVAqF,qBAAU,WACJ9J,IACFmD,EAASY,KAAiB3B,MAAK,SAACC,GAC9BwoB,GAAa,MAGfA,GAAa,KAEd,CAAC1nB,IAEIynB,GACN,IAAK,QACH,OAAItW,EAAkB,6BACf,cAACoW,EAAD,IACT,IAAK,SACH,OAAIpW,EAAkB,6BACf7R,IAAcmoB,EAAO,cAACF,EAAD,IAAgB,cAAC,IAAD,CAAUxiB,GAAG,WAC3D,IAAK,QACH,OAAIoM,EAAkB,6BACf7R,IAAcmoB,EACnB,cAACF,EAAD,IAEA,cAAC,IAAD,CAAUxiB,GAAG,4BA+FN4iB,OAxFf,WACE,IAAM/rB,EAAkBsK,aAAY/J,GAEpC,OACE,cAAC,IAAD,CAAeC,MAAOR,EAAkBsqB,GAAOG,UAAYH,GAAOC,SAAlE,SACE,eAAC,aAAD,WACE,cAACrgB,GAAD,IACA,eAAC,IAAD,WAEE,cAAC,IAAD,CAAO8hB,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,GAAD,CAAML,UAAWxX,GAAUyX,KAAK,YAElC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,kBAAlB,SACE,cAAC,GAAD,CAAML,UAAWzW,GAAU0W,KAAK,YAElC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,eAAlB,SACE,cAAC,GAAD,CAAML,UAAWhX,GAASiX,KAAK,YAEjC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,GAAD,CAAML,UAAWX,GAAOY,KAAK,YAE/B,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,UAAlB,SACE,cAAC,GAAD,CAAML,UAAWP,GAAQQ,KAAK,YAEhC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,wBAAlB,SACE,cAAC,GAAD,CAAML,UAAWM,GAAYL,KAAK,YAEpC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,GAAD,CAAML,UAAW5e,GAAO6e,KAAK,YAG/B,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,iBAAlB,SACE,cAAC,GAAD,CAAML,UAAWO,GAAkBN,KAAK,aAE1C,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,iBAAlB,SACE,cAAC,GAAD,CAAML,UAAWvK,GAAewK,KAAK,aAEvC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,mBAAlB,SACE,cAAC,GAAD,CAAML,UAAW9J,GAAiB+J,KAAK,aAEzC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,mBAAlB,SACE,cAAC,GAAD,CAAML,UAAW7e,GAAM8e,KAAK,aAE9B,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,oBAAlB,SACE,cAAC,GAAD,CAAML,UAAWvb,GAAYwb,KAAK,aAEpC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,wBAAlB,SACE,cAAC,GAAD,CAAML,UAAWxb,GAAWyb,KAAK,aAGnC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,wBAAlB,SACE,cAAC,GAAD,CAAML,UAAWM,GAAYL,KAAK,YAEpC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,sBAAlB,SACE,cAAC,GAAD,CAAML,UAAWrD,GAAiBsD,KAAK,YAEzC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,yBAAlB,SACE,cAAC,GAAD,CAAML,UAAWvE,GAAgBwE,KAAK,YAExC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,mCAAlB,SACE,cAAC,GAAD,CAAML,UAAWpH,GAAcqH,KAAK,YAEtC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,8BAAlB,SACE,cAAC,GAAD,CAAML,UAAWjD,GAAiBkD,KAAK,YAEzC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,gCAAlB,SACE,cAAC,GAAD,CAAML,UAAWpC,GAAmBqC,KAAK,YAE3C,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,4BAAlB,SACE,cAAC,GAAD,CAAML,UAAWpD,GAAeqD,KAAK,YAEvC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,mCAAlB,SACE,cAAC,GAAD,CAAML,UAAW7H,GAAc8H,KAAK,YAEtC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,oBAAlB,SACE,cAAC,GAAD,CAAML,UAAW7C,GAAY8C,KAAK,YAEpC,cAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,0BAAlB,SACE,cAAC,GAAD,CAAML,UAAWhC,GAAiBiC,KAAK,YAEzC,cAAC,IAAD,CAAU1iB,GAAG,SAEf,cAAC6C,GAAD,UCzJOogB,eAAe,CAC5BC,QAAS,CACP7rB,MAAO8rB,EACP7mB,MAAOhC,EACPgD,SAAUmK,GACVyH,OAAOyK,GACPjd,OAAQD,MCPZ2mB,IAASC,OACP,cAAC,KAAD,CAAUvqB,MAAOA,GAAjB,SACE,cAAC,GAAD,MAEFwqB,SAASC,eAAe,W","file":"static/js/main.6fd3057d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.b9f04e91.svg\";","export default __webpack_public_path__ + \"static/media/cart.3736886f.svg\";","export default __webpack_public_path__ + \"static/media/member.20111ef3.svg\";","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const themeSlice = createSlice({\r\n  name: 'theme',\r\n  initialState: {\r\n    isBackstageMode: false,\r\n  },\r\n  reducers: {\r\n    setIsBackstageMode: (state, action) => {\r\n      state.isBackstageMode = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setIsBackstageMode } = themeSlice.actions;\r\n\r\nexport const selectIsBackstageMode = (state) => state.theme.isBackstageMode;\r\n\r\nexport default themeSlice.reducer;\r\n","const QuillDeltaToHtmlConverter = require('quill-delta-to-html')\r\n  .QuillDeltaToHtmlConverter;\r\nconst TOKEN_NAME = 'token';\r\nconst TOKEN_CART = 'cart';\r\n\r\nexport const setAuthToken = (token) => {\r\n  localStorage.setItem(TOKEN_NAME, token);\r\n};\r\n\r\nexport const getAuthToken = () => localStorage.getItem(TOKEN_NAME);\r\nexport const getCartToken = () => {\r\n  if (localStorage.getItem(TOKEN_CART)) {\r\n    return JSON.parse(localStorage.getItem(TOKEN_CART));\r\n  }\r\n  return [];\r\n};\r\nexport const setCartToken = (token) => {\r\n  localStorage.setItem(TOKEN_CART, JSON.stringify(token));\r\n};\r\nexport const isLengthValid = (string) => string.length < 20;\r\n\r\nexport const replaceInvalidWord = (string) => string.replaceAll(/\\W/g, '').slice(0, 20);\r\n\r\nexport const isPhoneValid = (phone) => {\r\n  const rule = /^09[\\d]{8}$/;\r\n  return rule.test(phone.toString());\r\n};\r\n\r\nexport const isEmailValid = (email) => {\r\n  const rule = /\\w{1,}@\\w{1,}\\.\\w{1,}[a-zA-Z]$/g;\r\n  return rule.test(email);\r\n};\r\n\r\nexport const isUsernameValid = (username) => {\r\n  const rule = /\\w{0,20}$/;\r\n  return rule.test(username);\r\n};\r\n\r\nexport const isColorChipValid = (ColorChip) => {\r\n  const rule = /^[a-f0-9][a-f0-9]{5}$/;\r\n  return rule.test(ColorChip);\r\n};\r\n\r\nexport const isModelNameValid = (modelName) => {\r\n  const rule = /^[A-Z]\\w{0,14}-\\w{4}$/;\r\n  return rule.test(modelName);\r\n};\r\n\r\nexport const isStorageValid = (store) => {\r\n  const rule = /^[1-9]\\d{0,2}$/;\r\n  return rule.test(store);\r\n};\r\n\r\nexport const isPriceValid = (price) => {\r\n  const rule = /^[1-9]\\d{0,4}$/;\r\n  if (price > 29999) {\r\n    return 1;\r\n  }\r\n  if (!rule.test(price)) {\r\n    return 0;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nexport const isProductNameValid = (productName) => {\r\n  const rule = /^[a-zA-Z]\\w{0,15}$/;\r\n  return rule.test(productName);\r\n};\r\n\r\nexport const initFormErrorData = () => {\r\n  return {\r\n    username: { valid: true, message: '' },\r\n    comfirmpassword: { valid: true, message: '' },\r\n    realName: { valid: true, message: '' },\r\n    email: { valid: true, message: '' },\r\n    phone: { valid: true, message: '' },\r\n  };\r\n};\r\n\r\nexport const initRecipientFormErrorData = () => {\r\n  return {\r\n    address: { valid: true, message: '' },\r\n    name: { valid: true, message: '' },\r\n    email: { valid: true, message: '' },\r\n    phone: { valid: true, message: '' },\r\n  };\r\n};\r\n\r\nexport const handleDateFormat = (date) => {\r\n  const breakPoint = date.indexOf('T');\r\n  return date.slice(0, breakPoint);\r\n};\r\n\r\nexport const findOrder = (orders, id) => {\r\n  return orders.filter((order) => order.id === id)[0];\r\n};\r\n\r\nexport const getArticle = (data) => {\r\n  const cfg = {};\r\n  const deltaOps = JSON.parse(data).ops;\r\n  const converter = new QuillDeltaToHtmlConverter(deltaOps, cfg);\r\n  return converter.convert();\r\n};\r\n","import { getAuthToken } from './utils';\r\nconst BASE_URL = 'https://huiming.tw/v1';\r\n\r\n// users\r\nexport const signUp = ({ username, password, realName, email, phone }) =>\r\n  fetch(`${BASE_URL}/register`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({ username, password, realName, email, phone }),\r\n  }).then((res) => res.json());\r\n\r\nexport const login = ({ username, password }) =>\r\n  fetch(`${BASE_URL}/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({\r\n      username,\r\n      password,\r\n    }),\r\n  }).then((res) => {\r\n    return res.json();\r\n  });\r\n\r\nexport const adminLogin = ({ username, password }) =>\r\n  fetch(`${BASE_URL}/admin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({\r\n      username,\r\n      password,\r\n    }),\r\n  }).then((res) => {\r\n    return res.json();\r\n  });\r\n\r\nexport const getMemberInfo = () => {\r\n  const token = getAuthToken();\r\n  return fetch(`${BASE_URL}/users`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateUserData = ({ realName, email, phone }) => {\r\n  const token = getAuthToken();\r\n  return fetch(`${BASE_URL}/users`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'content-type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({ realName, email, phone }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\n// products\r\nexport const getProducts = ({ type, sort, order }) => {\r\n  const token = getAuthToken();\r\n  const authToken = token ? `Bearer ${token}` : '';\r\n  return fetch(`${BASE_URL}/products?sort=${sort}&order=${order}&${type === 'all' ? '' : `type=${type}`}`, {\r\n    method: 'GET',\r\n    headers: { Authorization: authToken },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const getProduct = (id) => {\r\n  const token = getAuthToken();\r\n  const authToken = token ? `Bearer ${token}` : '';\r\n\r\n  return fetch(`${BASE_URL}/products/${id}`, {\r\n    method: 'GET',\r\n    headers: { Authorization: authToken },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const updateProductStatus = ({ id, isShow }) => {\r\n  const token = getAuthToken();\r\n  const authToken = `Bearer ${token}`;\r\n\r\n  return fetch(`${BASE_URL}/products/${id}`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      Authorization: authToken,\r\n      'content-type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({ isShow: isShow === 1 ? 0 : 1 }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const deleteProduct = (id) => {\r\n  const token = getAuthToken();\r\n  const authToken = token ? `Bearer ${token}` : '';\r\n  return fetch(`${BASE_URL}/products/${id}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      Authorization: authToken,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const updateProduct = ({ id, productName, price, article, isShow, type }) => {\r\n  const token = getAuthToken();\r\n  const authToken = `Bearer ${token}`;\r\n  return fetch(`${BASE_URL}/products/${id}`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      Authorization: authToken,\r\n      'content-type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({ productName, price, article, isShow, type }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const addProduct = ({ productName, price, article, type }) => {\r\n  const token = getAuthToken();\r\n  const authToken = `Bearer ${token}`;\r\n  console.log(productName, price, article, type);\r\n  return fetch(`${BASE_URL}/products/`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Authorization: authToken,\r\n      'content-type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({ productName, price, article, type }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const addProductPhoto = (file) => {\r\n  const token = getAuthToken();\r\n  const authToken = `Bearer ${token}`;\r\n\r\n  return fetch(`${BASE_URL}/photos`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Authorization: authToken,\r\n    },\r\n    body: file,\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const addArticlePhoto = (file) => {\r\n  const token = getAuthToken();\r\n  const authToken = `Bearer ${token}`;\r\n\r\n  return fetch(`${BASE_URL}/images`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Authorization: authToken,\r\n    },\r\n    body: file,\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const linkProductPhotos = ({ id, photos }) => {\r\n  const token = getAuthToken();\r\n  const authToken = `Bearer ${token}`;\r\n\r\n  return fetch(`${BASE_URL}/photos`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      Authorization: authToken,\r\n      'content-type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({ productId: id, photos }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\n// model\r\nexport const getModel = (id) => {\r\n  const token = getAuthToken();\r\n  const authToken = token ? `Bearer ${token}` : '';\r\n\r\n  return fetch(`${BASE_URL}/models/${id}`, {\r\n    method: 'GET',\r\n    headers: { Authorization: authToken },\r\n  }).then((res) => res.json());\r\n};\r\nexport const deleteModel = (id) => {\r\n  const token = getAuthToken();\r\n  const authToken = token ? `Bearer ${token}` : '';\r\n  return fetch(`${BASE_URL}/models/${id}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      Authorization: authToken,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\nexport const updateModelStatus = ({ id, isShow }) => {\r\n  const token = getAuthToken();\r\n  const authToken = `Bearer ${token}`;\r\n\r\n  return fetch(`${BASE_URL}/models/${id}`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      Authorization: authToken,\r\n      'content-type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({ isShow: isShow === 1 ? 0 : 1 }),\r\n  }).then((res) => res.json());\r\n};\r\nexport const updateModel = ({ id, modelName, isShow, storage, colorChip }) => {\r\n  const token = getAuthToken();\r\n  const authToken = `Bearer ${token}`;\r\n\r\n  return fetch(`${BASE_URL}/models/${id}`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      Authorization: authToken,\r\n      'content-type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({ modelName, isShow, storage, colorChip }),\r\n  }).then((res) => res.json());\r\n};\r\nexport const addModel = ({ id, modelName, storage, colorChip }) => {\r\n  const token = getAuthToken();\r\n  const authToken = token ? `Bearer ${token}` : '';\r\n  return fetch(`${BASE_URL}/models`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Authorization: authToken,\r\n      'Content-Type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({ productId: id, modelName, storage, colorChip }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\n// order\r\nexport const getOrders = () => {\r\n  const token = getAuthToken();\r\n\r\n  return fetch(`${BASE_URL}/orders`, {\r\n    method: 'GET',\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const getOrder = (id) => {\r\n  const token = getAuthToken();\r\n\r\n  return fetch(`${BASE_URL}/orders/${id}`, {\r\n    method: 'GET',\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  }).then((res) => res.json());\r\n};\r\nexport const updateOrderStatue = (id) => {\r\n  const token = getAuthToken();\r\n\r\n  return fetch(`${BASE_URL}/orders/${id}`, {\r\n    method: 'PATCH',\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const addOrder = (products) => {\r\n  console.log(\"addOrder\",products);\r\n  const token = getAuthToken();\r\n  const authToken = token ? `Bearer ${token}` : '';\r\n  return fetch(`${BASE_URL}/orders`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Authorization: authToken,\r\n      'Content-Type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({ products:products }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const addRecipient = ({ orderId, name, phone, email, address, cityId, districtId }) => {\r\n  const token = getAuthToken();\r\n  const authToken = token ? `Bearer ${token}` : '';\r\n  return fetch(`${BASE_URL}/recipients/${orderId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Authorization: authToken,\r\n      'Content-Type': 'application/json;charset=utf-8',\r\n    },\r\n    body: JSON.stringify({ name, phone, email, address, cityId, districtId }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\n// address\r\nexport const getCities = () => {\r\n  return fetch(`${BASE_URL}/cities`, {\r\n    method: 'GET',\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const getDistricts = (id) => {\r\n  return fetch(`${BASE_URL}/districts?cityId=${id}`, {\r\n    method: 'GET',\r\n  }).then((res) => res.json());\r\n};\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport {\r\n  signUp as signUpAPI,\r\n  login as loginAPI,\r\n  adminLogin as adminLoginAPI,\r\n  getMemberInfo as getMemberInfoAPI,\r\n  updateUserData as updateUserDataAPI,\r\n} from '../../WebAPI';\r\nimport { setAuthToken } from '../../utils';\r\n\r\nexport const usersSlice = createSlice({\r\n  name: 'users',\r\n  initialState: {\r\n    userLevel: 'guest',\r\n    userInfo: {},\r\n    errorMessage: '',\r\n  },\r\n  reducers: {\r\n    setUserLevel: (state, action) => {\r\n      state.userLevel = action.payload;\r\n    },\r\n    setErrorMessage: (state, action) => {\r\n      state.errorMessage = action.payload;\r\n    },\r\n    setUserInfo: (state, action) => {\r\n      state.userInfo = { ...action.payload };\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setUserLevel,\r\n  setErrorMessage,\r\n  setUserInfo,\r\n} = usersSlice.actions;\r\n\r\nexport const signUp = ({ username, password, realName, email, phone }) => (\r\n  dispatch\r\n) => {\r\n  dispatch(setErrorMessage(''));\r\n  return signUpAPI({ username, password, realName, email, phone }).then(\r\n    (res) => {\r\n      if (!res.success) {\r\n        return res;\r\n      }\r\n      dispatch(setUserLevel('member'));\r\n      setAuthToken(res.data.token);\r\n      return res.data.token;\r\n    }\r\n  );\r\n};\r\n\r\nexport const updateUserData = (userData) => (dispatch) => {\r\n  dispatch(setErrorMessage(''));\r\n  return updateUserDataAPI(userData).then((res) => {\r\n    if (!res.success) {\r\n      dispatch(setErrorMessage(res.message));\r\n      return;\r\n    }\r\n    return res;\r\n  });\r\n};\r\n\r\nexport const adminLogin = ({ username, password }) => (dispatch) => {\r\n  dispatch(setErrorMessage(''));\r\n  return adminLoginAPI({ username, password }).then((res) => {\r\n    if (!res.success) {\r\n      dispatch(setErrorMessage(res.message));\r\n      return;\r\n    }\r\n    setAuthToken(res.data.token);\r\n    dispatch(setUserLevel('admin'));\r\n    return res.data.token;\r\n  });\r\n};\r\n\r\nexport const login = ({ username, password }) => (dispatch) => {\r\n  dispatch(setErrorMessage(''));\r\n  return loginAPI({ username, password }).then((res) => {\r\n    if (!res.success) {\r\n      dispatch(setErrorMessage(res.message));\r\n      return;\r\n    }\r\n    setAuthToken(res.data.token);\r\n    dispatch(setUserLevel('member'));\r\n    return res.data.token;\r\n  });\r\n};\r\n\r\nexport const getMemberInfo = () => (dispatch) => {\r\n  return getMemberInfoAPI().then((res) => {\r\n    if (!res.success) {\r\n      setAuthToken('');\r\n      return res;\r\n    }\r\n    if (res.data.admin) {\r\n      dispatch(setUserLevel('admin'));\r\n      return res\r\n    }\r\n    dispatch(setUserInfo(res.data.user));\r\n    dispatch(setUserLevel('member'));\r\n    return res;\r\n  }).catch(err=>console.log(err));\r\n};\r\n\r\n// selector\r\nexport const selectErrorMessage = (state) => state.users.errorMessage;\r\nexport const selectUserLevel = (state) => state.users.userLevel;\r\nexport const selectUserInfo = (state) => state.users.userInfo;\r\n\r\nexport default usersSlice.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { getOrders as getOrdersAPI, getOrder as getOrderAPI, updateOrderStatue as updateOrderStatueAPI, addOrder as addOrderAPI } from '../../WebAPI';\r\nimport { getCartToken, setCartToken } from '../../utils';\r\n\r\nexport const ordersSlice = createSlice({\r\n  name: 'orders',\r\n  initialState: {\r\n    orders: [],\r\n    order: [],\r\n    cart: [],\r\n  },\r\n  reducers: {\r\n    setOrders: (state, action) => {\r\n      state.orders = action.payload;\r\n    },\r\n    setOrder: (state, action) => {\r\n      state.order = action.payload;\r\n    },\r\n    setCart: (state, action) => {\r\n      state.cart = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const getOrders = () => (dispatch) =>\r\n  getOrdersAPI().then((res) => {\r\n    if (!res.success) {\r\n      dispatch(setOrders([]));\r\n      return res;\r\n    }\r\n    dispatch(setOrders(res.data.orders));\r\n    return res;\r\n  });\r\n\r\nexport const getOrder = (uuid) => (dispatch) =>\r\n  getOrderAPI(uuid).then((res) => {\r\n    if (!res.success) {\r\n      return res.message;\r\n    }\r\n    dispatch(setOrder(res.data.order));\r\n    return res;\r\n  });\r\n\r\nexport const addOrder = (data) => (dispatch) =>\r\n  addOrderAPI(data).then((newData) => {\r\n    if (!newData.success) {\r\n      dispatch(setOrder({}));\r\n      return newData;\r\n    }\r\n    return newData;\r\n  });\r\n\r\nexport const updateOrderStatue = (uuid) => (dispatch) =>\r\n  updateOrderStatueAPI(uuid).then((res) => {\r\n    if (!res.success) {\r\n      dispatch(setOrder({}));\r\n      return res;\r\n    }\r\n    return res;\r\n  });\r\n\r\nexport const updateCart = (uuid) => (dispatch) => {\r\n  const target = getCartToken();\r\n  dispatch(setCart(target.length))\r\n};\r\n\r\nexport const { setOrders, setOrder, setCart } = ordersSlice.actions;\r\n\r\nexport const selectOrders = (state) => state.orders.orders;\r\nexport const selectOrder = (state) => state.orders.order;\r\nexport const selectCart = (state) => state.orders.cart;\r\n\r\nexport default ordersSlice.reducer;\r\n","const size = {\r\n  s: '320px',\r\n  m: '768px',\r\n  lm:'1024px',\r\n  l: '1281px',\r\n};\r\nconst device = {\r\n  Mobiles: `(min-width:${size.s})`,\r\n  Tablets: ` (min-width:${size.m})`,\r\n  Laptop: ` (min-width:${size.lm})`,\r\n  Desktops: `(min-width: ${size.l})`,\r\n};\r\nexport { size, device };\r\n","import { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport logo from '../../img/logo.svg';\r\nimport cart from '../../img/cart.svg';\r\nimport member from '../../img/member.svg';\r\nimport { selectIsBackstageMode, setIsBackstageMode } from '../../redux/reducers/themeSlice';\r\nimport { selectUserLevel, setUserLevel, getMemberInfo, setUserInfo } from '../../redux/reducers/usersSlice';\r\nimport { selectCart, updateCart } from '../../redux/reducers/ordersSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setAuthToken, getAuthToken, getCartToken, setCartToken } from '../../utils';\r\nimport { device } from '../../style/breakpoints';\r\nimport { HashLink } from 'react-router-hash-link';\r\n\r\nconst Anchor = styled(HashLink)`\r\n  color: white;\r\n  font-size: 24px;\r\n\r\n  &:hover {\r\n    color: rgb(251, 209, 168);\r\n    text-decoration: none;\r\n  }\r\n`;\r\nconst HeaderContainer = styled.div`\r\n  position: relative;\r\n  height: 80px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  background: ${(props) => props.theme.background};\r\n\r\n  @media ${device.Mobiles} {\r\n    padding: 0 10px;\r\n  }\r\n  @media ${device.Tablets} {\r\n    padding: 20px;\r\n  }\r\n  @media ${device.Desktops} {\r\n  }\r\n`;\r\nconst LinkContainer = styled.div`\r\n  width: ${(props) => props.$width}px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-left: ${(props) => (props.$marginLeft ? props.$marginLeft : 0)}px;\r\n`;\r\n\r\nconst IconContainer = styled.div`\r\n  width: ${(props) => (props.$isLogin ? '170' : '120')}px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Nav = styled(Link)`\r\n  color: white;\r\n  font-size: 24px;\r\n\r\n  &:hover {\r\n    color: rgb(251, 209, 168);\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nconst Logo = styled(Link)`\r\n  display: block;\r\n  width: 200px;\r\n  height: 55px;\r\n  background: url(${logo}) no-repeat;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst IconCartContainer = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst IconCart = styled.div`\r\n  display: inline-block;\r\n  width: 40px;\r\n  height: 40px;\r\n  cursor: pointer;\r\n  mask: url(${cart}) no-repeat;\r\n  transform: translate(0px, 5px);\r\n  background-color: white;\r\n\r\n  &:hover {\r\n    background-color: rgb(251, 209, 168);\r\n  }\r\n`;\r\n\r\nconst IconMember = styled(Link)`\r\n  width: 40px;\r\n  height: 40px;\r\n  cursor: pointer;\r\n  mask: url(${member}) no-repeat;\r\n  background-color: white;\r\n\r\n  &:hover {\r\n    background-color: rgb(251, 209, 168);\r\n  }\r\n`;\r\n\r\nconst HoverContainer = styled.div`\r\n  display: ${({ $isShow }) => ($isShow ? 'flex' : 'none')};\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 80px;\r\n  height: 80px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0 50px;\r\n  background-color: rgba(7, 39, 60, 0.4);\r\n  z-index: 1;\r\n  transition: top 0.2s ease-in-out;\r\n`;\r\n\r\nconst BackstageHeader = ({ isLogin, handleLogOut }) => {\r\n  return (\r\n    <HeaderContainer>\r\n      <Logo to=\"/\" />\r\n      {isLogin ? <LogOut onClick={handleLogOut}>登出</LogOut> : <Nav to=\"/backstage/adminLogin\">登入</Nav>}\r\n    </HeaderContainer>\r\n  );\r\n};\r\n\r\nconst LogOut = styled.div`\r\n  color: white;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    color: rgb(251, 209, 168);\r\n    text-decoration: none;\r\n  }\r\n`;\r\nconst CartTotal = styled.div`\r\n  text-align: center;\r\n  background-color: #f65e60;\r\n  border-radius: 50%;\r\n  color: white;\r\n  width: 20px;\r\n  height: 20px;\r\n  font-size: 18px;\r\n  position: absolute;\r\n  top: -8px;\r\n  right: -10px;\r\n  line-height: 1em;\r\n`;\r\n\r\nconst FullHeaderContainer = styled.div`\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  @media ${device.Mobiles} {\r\n    display: none;\r\n  }\r\n  @media ${device.Tablets} {\r\n  }\r\n  @media ${device.Laptop} {\r\n    display: flex;\r\n  }\r\n`;\r\n\r\nconst MobileNavContainer = styled.div`\r\n  width: 100%;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  @media ${device.Mobiles} {\r\n    display: flex;\r\n  }\r\n  @media ${device.Laptop} {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst MenuModal = styled.div`\r\n  position: absolute;\r\n  display: ${(props) => (props.$isShow ? 'flex' : 'none')};\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 10px;\r\n  top: 80px;\r\n  right: 0px;\r\n  width: 200px;\r\n  background: #07273c;\r\n  z-index: 5;\r\n  transition: all 0.4s ease-in-out;\r\n`;\r\n\r\nconst Hamburger = () => (\r\n  <svg viewBox=\"0 0 100 80\" width=\"40\" height=\"40\" style={{ fill: 'white' }}>\r\n    <rect width=\"100\" height=\"15\" rx=\"8\"></rect>\r\n    <rect y=\"30\" width=\"100\" height=\"15\" rx=\"8\"></rect>\r\n    <rect y=\"60\" width=\"100\" height=\"15\" rx=\"8\"></rect>\r\n  </svg>\r\n);\r\n\r\nexport default function Header() {\r\n  const [isShowProducts, setIsShowProducts] = useState(false);\r\n  const cart = useSelector(selectCart);\r\n  const [isShowModal, setIsShowModal] = useState(false);\r\n  const isBackstageMode = useSelector(selectIsBackstageMode);\r\n  const userLevel = useSelector(selectUserLevel);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n\r\n  const handleMouseEnter = () => {\r\n    if (isShowProducts) return;\r\n    setIsShowProducts(true);\r\n  };\r\n\r\n  const handleMouseLeave = () => setIsShowProducts(false);\r\n  const handleGoShoppingCart = () => {\r\n    if (userLevel !== 'member') {\r\n      alert('請先登入會員！');\r\n      return history.push('/login');\r\n    }\r\n    if (!cart) {\r\n      alert('目前購物車是空的，請先去購物唷！');\r\n      return history.push('/products/all');\r\n    }\r\n    return history.push('/shopping-cart');\r\n  };\r\n  const handleLogOut = () => {\r\n    dispatch(setUserLevel('guest'));\r\n    dispatch(setUserInfo({}));\r\n    setAuthToken('');\r\n    setCartToken([]);\r\n    history.push('/');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.includes('/backstage')) {\r\n      dispatch(setIsBackstageMode(true));\r\n    } else {\r\n      dispatch(setIsBackstageMode(false));\r\n    }\r\n  }, [location.pathname, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (getAuthToken())\r\n      dispatch(getMemberInfo()).then((res) => {\r\n        if (!res.success) history.push('/');\r\n      });\r\n  }, [dispatch, history]);\r\n\r\n  useEffect(() => {\r\n    dispatch(updateCart());\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {isBackstageMode && (\r\n        <BackstageHeader\r\n          handleLogOut={handleLogOut}\r\n          isLogin={userLevel === 'admin'}\r\n        />\r\n      )}\r\n      {!isBackstageMode && (\r\n        <>\r\n          <HeaderContainer>\r\n            <FullHeaderContainer>\r\n              <Logo to=\"/\" />\r\n              <LinkContainer $width={400}>\r\n                <Nav to=\"/about\">關於我們</Nav>\r\n                <Anchor to=\"/#news\">最新消息</Anchor>\r\n                <Nav to=\"/products/all\" onMouseEnter={handleMouseEnter}>\r\n                  選購商品\r\n                </Nav>\r\n              </LinkContainer>\r\n              <IconContainer $isLogin={userLevel === 'member'}>\r\n                <IconCartContainer>\r\n                  <IconCart onClick={handleGoShoppingCart} />\r\n                  {cart ? <CartTotal>{cart}</CartTotal> : ''}\r\n                </IconCartContainer>\r\n                <IconMember to=\"/membership/info\" />\r\n                {userLevel === 'member' && (\r\n                  <LogOut onClick={handleLogOut}>登出</LogOut>\r\n                )}\r\n              </IconContainer>\r\n            </FullHeaderContainer>\r\n\r\n            <MobileNavContainer>\r\n              <Logo to=\"/\" />\r\n              <div onClick={() => setIsShowModal(!isShowModal)}>\r\n                <Hamburger />\r\n              </div>\r\n            </MobileNavContainer>\r\n\r\n            <MenuModal $isShow={isShowModal}>\r\n              <Nav to=\"/about\" onClick={() => setIsShowModal(!isShowModal)}>\r\n                關於我們\r\n              </Nav>\r\n              <Nav to=\"/news\" onClick={() => setIsShowModal(!isShowModal)}>\r\n                最新消息\r\n              </Nav>\r\n              <Nav to=\"/products/all\" onClick={() => setIsShowModal(!isShowModal)}>\r\n                選購商品\r\n              </Nav>\r\n              <Nav to=\"/shopping-cart\" onClick={() => setIsShowModal(!isShowModal)}>\r\n                購物車\r\n              </Nav>\r\n              <Nav to=\"/membership/info\" onClick={() => setIsShowModal(!isShowModal)}>\r\n                會員專區\r\n              </Nav>\r\n              {userLevel === 'member' && (\r\n                <LogOut\r\n                  onClick={() => {\r\n                    handleLogOut();\r\n                    setIsShowModal(!isShowModal);\r\n                  }}>\r\n                  登出\r\n                </LogOut>\r\n              )}\r\n            </MenuModal>\r\n          </HeaderContainer>\r\n\r\n          <HoverContainer\r\n            $isShow={isShowProducts}\r\n            onMouseLeave={handleMouseLeave}\r\n          >\r\n            <LinkContainer $width={550} $marginLeft={110}>\r\n              <Nav to=\"/products/1\">耳罩式耳機</Nav>\r\n              <Nav to=\"/products/2\">入耳式耳機</Nav>\r\n              <Nav to=\"/products/3\">音響</Nav>\r\n              <Nav to=\"/products/4\">週邊配件</Nav>\r\n            </LinkContainer>\r\n          </HoverContainer>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/location.be2bfbf4.svg\";","export default __webpack_public_path__ + \"static/media/mail.bbcc91a7.svg\";","export default __webpack_public_path__ + \"static/media/fb.689b6bcd.svg\";","export default __webpack_public_path__ + \"static/media/ig.f5274a3c.svg\";","export default __webpack_public_path__ + \"static/media/github.834914c7.svg\";","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from '../../img/logo.svg';\r\nimport location from '../../img/location.svg';\r\nimport mail from '../../img/mail.svg';\r\nimport fb from '../../img/fb.svg';\r\nimport ig from '../../img/ig.svg';\r\nimport github from '../../img/github.svg';\r\nimport { device } from '../../style/breakpoints';\r\n\r\nconst FooterTop = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  @media ${device.Mobiles} {\r\n    flex-direction: column;\r\n  }\r\n  @media ${device.Tablets} {\r\n    height: 160px;\r\n    flex-direction: column;\r\n  }\r\n  @media ${device.Laptop} {\r\n    height: auto;\r\n    flex-direction: row;\r\n  }\r\n  @media ${device.Desktops} {\r\n  }\r\n`;\r\n\r\nconst Logo = styled(Link)`\r\n  display: block;\r\n  width: 292px;\r\n  height: 80px;\r\n  background: url(${logo}) no-repeat;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst FooterBottom = styled.div`\r\n  text-align: center;\r\n  padding: 20px;\r\n`;\r\n\r\nconst Container = styled.footer`\r\n  width: 100%;\r\n  margin-top: 200px;\r\n  background: ${(props) => props.theme.background};\r\n  color: white;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  @media ${device.Mobiles} {\r\n  }\r\n  @media ${device.Tablets} {\r\n    padding: 30px;\r\n    padding-bottom: 0;\r\n  }\r\n  @media ${device.Laptop} {\r\n  }\r\n  @media ${device.Desktops} {\r\n    padding: 30px 50px;\r\n    padding-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst LeftContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n\r\n  @media ${device.Mobiles} {\r\n    height: 220px;\r\n    justify-content: center;\r\n  }\r\n  @media ${device.Tablets} {\r\n  }\r\n  @media ${device.Laptop} {\r\n    height: auto;\r\n  }\r\n  @media ${device.Desktops} {\r\n  }\r\n`;\r\n\r\nconst Contacts = styled.div`\r\n  margin-left: 20px;\r\n`;\r\n\r\nconst Location = styled.div`\r\n  margin-bottom: 10px;\r\n\r\n  span {\r\n    margin-left: 20px;\r\n    white-space: nowrap;\r\n  }\r\n`;\r\n\r\nconst Email = styled.div`\r\n  img {\r\n    transform: translate(-3px, 0px);\r\n  }\r\n\r\n  span {\r\n    margin-left: 12px;\r\n  }\r\n`;\r\n\r\nconst RightContainer = styled.div`\r\n  display: flex;\r\n  width: 200px;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst Icon = styled(Link)`\r\n  width: 50px;\r\n  height: 50px;\r\n  mask: url(${(props) => props.$icon}) no-repeat;\r\n  background-color: white;\r\n\r\n  &:hover {\r\n    background-color: rgb(251, 209, 168);\r\n  }\r\n`;\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <Container>\r\n      <FooterTop>\r\n        <LeftContainer>\r\n          <Logo to=\"/\" />\r\n          <Contacts>\r\n            <Location>\r\n              <img src={location} alt=\"Address\" />\r\n              <span>天上地下天堂路三分之一里六段 520 號</span>\r\n            </Location>\r\n            <Email>\r\n              <img src={mail} alt=\"Email\" />\r\n              <span>service@mail.com</span>\r\n            </Email>\r\n          </Contacts>\r\n        </LeftContainer>\r\n\r\n        <RightContainer>\r\n          <Icon $icon={fb} to=\"/\" />\r\n          <Icon $icon={ig} to=\"/\" />\r\n          <Icon $icon={github} to=\"/\" />\r\n        </RightContainer>\r\n      </FooterTop>\r\n      <FooterBottom>Made by MTR04 Team Parlando</FooterBottom>\r\n    </Container>\r\n  );\r\n}\r\n// @media ${device.Mobiles} {\r\n\r\n// }\r\n// @media ${device.Tablets} {\r\n\r\n// }\r\n// @media ${device.Desktops} {\r\n\r\n// }\r\n","export default __webpack_public_path__ + \"static/media/huiming.2a7be650.jpg\";","export default __webpack_public_path__ + \"static/media/summer.36f3fe1f.jpg\";","export default __webpack_public_path__ + \"static/media/awu.43427984.jpg\";","import styled from 'styled-components';\r\nimport pic_1 from '../../img/huiming.jpg';\r\nimport pic_2 from '../../img/summer.jpg';\r\nimport pic_3 from '../../img/awu.jpg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Root = styled.div`\r\n  min-height: calc(100vh - 460px);\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  text-align: center;\r\n  font-weight: bold;\r\n  margin: 50px;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, 400px);\r\n  grid-gap: 16px;\r\n  justify-content: center;\r\n  margin-top: 50px;\r\n`;\r\n\r\nconst Card = styled.div`\r\n  text-align: center;\r\n  justify-content: center;\r\n  padding: 20px;\r\n  box-shadow: 2px 2px 4px #ccc;\r\n  border-radius: 5px;\r\n`;\r\n\r\nconst Pic = styled.div`\r\n  margin: 0 auto;\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  background: url(${(props) => props.$url}) center/cover;\r\n`;\r\n\r\nconst Name = styled.a`\r\n  display: block;\r\n  font-weight: bold;\r\n  color: #07273c;\r\n  margin-top: 10px;\r\n\r\n  &:hover {\r\n    text-decoration: none;\r\n    color: #07273c;\r\n  }\r\n`;\r\n\r\nconst Info = styled.div`\r\n  margin-top: 20px;\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nexport default function About() {\r\n  return (\r\n    <Root>\r\n      <Title>關於我們</Title>\r\n      <Container>\r\n        <Card>\r\n          <Pic $url={pic_1} />\r\n          <Name href=\"https://github.com/hero19931012\">Huiming</Name>\r\n          <Info>I'm cold, I'm cold! MARI, MARI! No!</Info>\r\n        </Card>\r\n        <Card>\r\n          <Pic $url={pic_2} />\r\n          <Name href=\"https://github.com/vick12052002\">阿里蓉蓉</Name>\r\n          <Info>\r\n            劈哩啪啦 霹靂啪啦 啪啪啪啦啪 劈哩啪啦 霹靂啪啦 啪啪啪啦啪 劈哩啪啦\r\n            霹靂啪啦 啪啪啪啦啪\r\n          </Info>\r\n        </Card>\r\n        <Card>\r\n          <Pic $url={pic_3} />\r\n          <Name href=\"https://github.com/awuuu0716\">Awu</Name>\r\n          <Info>喵</Info>\r\n        </Card>\r\n      </Container>\r\n    </Root>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Nav = styled.nav`\r\n  height: 300px;\r\n  margin-right: 6%;\r\n`;\r\nconst H2 = styled.h2`\r\n  color: #07273c;\r\n  font-weight: bold;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst Option = styled(Link)`\r\n  display: block;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n  text-decoration: none;\r\n  color: #333;\r\n  margin: 20px 0;\r\n\r\n  &:hover {\r\n    color: #333;\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nexport default function MemberNav() {\r\n  return (\r\n    <Nav>\r\n      <H2>會員專區</H2>\r\n      <Option to=\"/membership/info\">會員資料</Option>\r\n      <Option to=\"/membership/order\">查詢訂單</Option>\r\n    </Nav>\r\n  );\r\n}\r\n","import { useState, useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport MemberNav from '../../component/MemberNav';\r\nimport {\r\n  getMemberInfo,\r\n  selectUserInfo,\r\n  updateUserData,\r\n  selectErrorMessage,\r\n  setUserInfo,\r\n} from '../../redux/reducers/usersSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { isPhoneValid, isEmailValid } from '../../utils';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  padding: 7% 10%;\r\n`;\r\n\r\nconst H3 = styled.h3`\r\n  color: #07273c;\r\n  font-weight: bold;\r\n  margin: 0;\r\n  margin-right: 30px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: 60px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 35px;\r\n  padding: 5px;\r\n  font-size: 16px;\r\n  border-radius: 5px;\r\n  border: 1px solid #07273c;\r\n  color: #07273c;\r\n  background: white;\r\n  box-shadow: 2px 2px 3px #07273ca6;\r\n\r\n  &:hover {\r\n    color: white;\r\n    background: #07273c;\r\n  }\r\n`;\r\n\r\nconst TitleContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst Title = styled.label`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n  margin: 0;\r\n  color: #333;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst UserData = styled.div`\r\n  font-size: 20px;\r\n  height: 30px;\r\n  margin-bottom: 30px;\r\n  /* &::after {\r\n    content: '';\r\n    position: absolute;\r\n    display: block;\r\n    width: 240px;\r\n    border-bottom: 2px solid #333;\r\n  } */\r\n`;\r\n\r\nconst InfoContainer = styled.div``;\r\n\r\nconst Top = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst Bottom = styled.div`\r\n  display: flex;\r\n  margin-top: 30px;\r\n`;\r\n\r\nconst BottomContainer = styled.div`\r\n  display: flex;\r\n  width: 150px;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin-bottom: 33px;\r\n  border: none;\r\n  border-bottom: 2px solid #bbb;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  min-height: 30px;\r\n  margin-left: 20px;\r\n  color: red;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst Editing = ({ userInfo, setIsEditing }) => {\r\n  const errorMessage = useSelector(selectErrorMessage);\r\n  const [realName, setRealName] = useState(userInfo.realName);\r\n  const [email, setEmail] = useState(userInfo.email);\r\n  const [phone, setPhone] = useState(userInfo.phone);\r\n  const [formErrorData, setFormErrorData] = useState({\r\n    email: { valid: true, message: '' },\r\n    phone: { valid: true, message: '' },\r\n    realName: { valid: true, message: '' },\r\n  });\r\n  const dispatch = useDispatch();\r\n  const isSubmit = useRef(false);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isSubmit.current) return;\r\n    isSubmit.current = true;\r\n    for (let prop in formErrorData) {\r\n      if (!formErrorData[prop].valid) {\r\n        isSubmit.current = false;\r\n        return;\r\n      }\r\n    }\r\n    dispatch(updateUserData({ realName, email, phone })).then((res) => {\r\n      if (!res) return \r\n      dispatch(setUserInfo({ ...userInfo,realName, email, phone }));\r\n      setIsEditing(false);\r\n    });\r\n  };\r\n\r\n  const checkPhoneValid = () => {\r\n    if (!isPhoneValid(phone))\r\n      return setFormErrorData({\r\n        ...formErrorData,\r\n        phone: { valid: false, message: '手機格式錯誤' },\r\n      });\r\n    setFormErrorData({\r\n      ...formErrorData,\r\n      phone: { valid: true, message: '' },\r\n    });\r\n  };\r\n\r\n  const checkEmailValid = () => {\r\n    if (!isEmailValid(email))\r\n      return setFormErrorData({\r\n        ...formErrorData,\r\n        email: { valid: false, message: '信箱格式錯誤' },\r\n      });\r\n    setFormErrorData({\r\n      ...formErrorData,\r\n      email: { valid: true, message: '' },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <InfoContainer>\r\n      <form onSubmit={handleSubmit}>\r\n        <Top>\r\n          <H3>會員資料</H3>\r\n        </Top>\r\n        <Bottom>\r\n          <TitleContainer>\r\n            <Title>姓名：</Title>\r\n            <Title>電子信箱：</Title>\r\n            <Title>手機：</Title>\r\n          </TitleContainer>\r\n          <TitleContainer>\r\n            <InputContainer>\r\n              <Input\r\n                required\r\n                value={realName}\r\n                placeholder=\"20 字以內英數字符號\"\r\n                onChange={(e) =>\r\n                  setRealName(e.target.value.trim().slice(0, 20))\r\n                }\r\n              />\r\n              <ErrorMessage>{formErrorData.realName.message}</ErrorMessage>\r\n            </InputContainer>\r\n            <InputContainer>\r\n              <Input\r\n                required\r\n                type=\"email\"\r\n                placeholder=\"請輸入您的電子信箱\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value.trim())}\r\n                onBlur={checkEmailValid}\r\n              />\r\n              <ErrorMessage>{formErrorData.email.message}</ErrorMessage>\r\n            </InputContainer>\r\n            <InputContainer>\r\n              <Input\r\n                required\r\n                value={phone}\r\n                placeholder=\"請輸入您的手機號碼\"\r\n                onBlur={checkPhoneValid}\r\n                onChange={(e) => setPhone(e.target.value.trim())}\r\n              />\r\n              <ErrorMessage>{formErrorData.phone.message}</ErrorMessage>\r\n            </InputContainer>\r\n          </TitleContainer>\r\n        </Bottom>\r\n        <BottomContainer>\r\n          <Button type=\"submit\">儲存</Button>\r\n          <Button onClick={() => setIsEditing(false)}>放棄</Button>\r\n        </BottomContainer>\r\n      </form>\r\n    </InfoContainer>\r\n  );\r\n};\r\n\r\nconst ShowInfo = ({ setIsEditing, userInfo }) => {\r\n  return (\r\n    <InfoContainer>\r\n      <Top>\r\n        <H3>會員資料</H3>\r\n        <Button onClick={() => setIsEditing(true)}>編輯</Button>\r\n      </Top>\r\n      <Bottom>\r\n        <TitleContainer>\r\n          <Title>使用者帳號：</Title>\r\n          <Title>姓名：</Title>\r\n          <Title>電子信箱：</Title>\r\n          <Title>手機：</Title>\r\n        </TitleContainer>\r\n        <TitleContainer>\r\n          <UserData>{userInfo.username}</UserData>\r\n          <UserData>{userInfo.realName}</UserData>\r\n          <UserData>{userInfo.email}</UserData>\r\n          <UserData>{userInfo.phone}</UserData>\r\n        </TitleContainer>\r\n      </Bottom>\r\n    </InfoContainer>\r\n  );\r\n};\r\n\r\nexport default function Info() {\r\n  const userInfo = useSelector(selectUserInfo);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getMemberInfo());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Container>\r\n      <MemberNav />\r\n      {isEditing ? (\r\n        <Editing setIsEditing={setIsEditing} userInfo={userInfo} />\r\n      ) : (\r\n        <ShowInfo setIsEditing={setIsEditing} userInfo={userInfo} />\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport MemberNav from '../../component/MemberNav';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getOrders, selectOrders } from '../../redux/reducers/ordersSlice';\r\nimport { handleDateFormat } from '../../utils';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  padding: 7% 10%;\r\n  padding-right: 0;\r\n`;\r\n\r\nconst H3 = styled.h3`\r\n  color: #07273c;\r\n  font-weight: bold;\r\n  margin-bottom: 30px;\r\n`;\r\nconst Ul = styled.ul`\r\n  width: 920px;\r\n  padding: 0;\r\n`;\r\n\r\nconst Li = styled.li`\r\n  display: flex;\r\n  padding: 40px 20px;\r\n  align-items: center;\r\n  width: 100%;\r\n  border-bottom: 1px solid #333;\r\n  list-style: none;\r\n`;\r\n\r\nconst HeaderContainer = styled.li`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0px 20px;\r\n  width: 100%;\r\n  height: 100px;\r\n  border-top: 1px solid #333;\r\n  border-bottom: 1px solid #333;\r\n  background: #cfdce5;\r\n  list-style: none;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  width: 25%;\r\n  text-shadow: 1px 1px 2px #333;\r\n`;\r\n\r\nconst OrderNumber = styled(Link)`\r\n  width: 25%;\r\n  text-decoration: none;\r\n\r\n  &:hover {\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nconst OrderInfo = styled.div`\r\n  width: 25%;\r\n  font-size: 20px;\r\n`;\r\n\r\n\r\n\r\nexport default function CheckOrder() {\r\n  const dispatch = useDispatch();\r\n  const orders = useSelector(selectOrders);\r\n\r\n  useEffect(() => {\r\n    dispatch(getOrders());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Container>\r\n      <MemberNav />\r\n\r\n      <section>\r\n        <H3>查詢訂單</H3>\r\n\r\n        <Ul>\r\n          <HeaderContainer>\r\n            <Header>ID</Header>\r\n            <Header>description</Header>\r\n            <Header>price (NT$)</Header>\r\n            <Header>time</Header>\r\n          </HeaderContainer>\r\n          {orders.map((order) => (\r\n            <Li key={order.UUID.slice(0, 8)}>\r\n              <OrderNumber to={`/membership/order/${order.UUID}`}>\r\n                {order.UUID.slice(0, 8)}\r\n              </OrderNumber>\r\n              <OrderInfo>\r\n                {order.products.map((data) => (\r\n                  <div key={data.modelId}>{data.modelName}</div>\r\n                ))}\r\n              </OrderInfo>\r\n              <OrderInfo>{order.totalPrice}</OrderInfo>\r\n              <OrderInfo>{handleDateFormat(order.createdAt)}</OrderInfo>\r\n            </Li>\r\n          ))}\r\n        </Ul>\r\n      </section>\r\n    </Container>\r\n  );\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport {\r\n  getProducts as getProductsAPI,\r\n  getProduct as getProductAPI,\r\n  deleteProduct as deleteProductAPI,\r\n  updateProductStatus as updateProductStatusAPI,\r\n  updateProduct as updateProductAPI,\r\n  addProduct as addProductAPI,\r\n\r\n} from '../../WebAPI';\r\n\r\nexport const productsSlice = createSlice({\r\n  name: 'products',\r\n  initialState: {\r\n    products: [],\r\n    product: {},\r\n    errorMessage: '',\r\n    article:{},\r\n  },\r\n  reducers: {\r\n    setProducts: (state, action) => {\r\n      state.products = action.payload;\r\n    },\r\n    setProduct: (state, action) => {\r\n      state.product = action.payload;\r\n    },\r\n    setErrorMessage: (state, action) => {\r\n      state.errorMessage = action.payload;\r\n    },\r\n    setArticle: (state, action) => {\r\n      state.article = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const getProducts = (filter) => (dispatch) =>\r\n  getProductsAPI(filter).then((res) => {\r\n    if (!res.success) {\r\n      dispatch(setProducts([]));\r\n      return res;\r\n    }\r\n    dispatch(setProducts(res.data.products));\r\n    return res.data.products;\r\n  });\r\n\r\nexport const getProduct = (id) => (dispatch) =>\r\n  getProductAPI(id).then((res) => {\r\n    if (!res.success) {\r\n      dispatch(setProduct({}));\r\n      return res;\r\n    }\r\n    dispatch(setProduct(res.data.product));\r\n    dispatch(setArticle(JSON.parse(res.data.product.article)));\r\n    return res.data.product;\r\n  });\r\n\r\nexport const deleteProduct = (id) => (dispatch) =>\r\n  deleteProductAPI(id).then((res) => {\r\n    if (!res.success) {\r\n      dispatch(setErrorMessage(res.message));\r\n      return res;\r\n    }\r\n    return res;\r\n  });\r\n\r\nexport const updateProductStatus = (data) => (dispatch) =>\r\n  updateProductStatusAPI(data).then((newData) => {\r\n    if (!newData.success) {\r\n      dispatch(setErrorMessage(newData.message));\r\n      return newData;\r\n    }\r\n    return newData;\r\n  });\r\n\r\nexport const updateProduct = (data) => (dispatch) =>\r\n  updateProductAPI(data).then((newData) => {\r\n    if (!newData.success) {\r\n      dispatch(setErrorMessage(newData.message));\r\n      return newData;\r\n    }\r\n    return newData;\r\n  });\r\n\r\nexport const addProduct = (data) => (dispatch) =>\r\n  addProductAPI(data).then((newData) => {\r\n    if (!newData.success) {\r\n      dispatch(setErrorMessage(newData.message));\r\n      return newData;\r\n    }\r\n    dispatch(setProduct(newData.data.product))\r\n    return newData;\r\n  });\r\n\r\n\r\nexport const { setProducts, setProduct, setErrorMessage,setArticle} = productsSlice.actions;\r\n\r\nexport const selectProducts = (state) => state.products.products;\r\nexport const selectProduct = (state) => state.products.product;\r\nexport const selectErrorMessage = (state) => state.products.errorMessage;\r\nexport const selectArticle= (state) => state.products.article;\r\n\r\n\r\nexport default productsSlice.reducer;\r\n","export default __webpack_public_path__ + \"static/media/carousel_1.b6585451.webp\";","export default __webpack_public_path__ + \"static/media/carousel_2.ef876008.webp\";","export default __webpack_public_path__ + \"static/media/carousel_3.13aebf47.webp\";","export default __webpack_public_path__ + \"static/media/carousel_4.66a2d9e3.webp\";","export default __webpack_public_path__ + \"static/media/carousel_5.6ded0b80.webp\";","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Carousel from 'react-bootstrap/Carousel';\r\nimport carousel_1 from '../../img/carousel_1.webp';\r\nimport carousel_2 from '../../img/carousel_2.webp';\r\nimport carousel_3 from '../../img/carousel_3.webp';\r\nimport carousel_4 from '../../img/carousel_4.webp';\r\nimport carousel_5 from '../../img/carousel_5.webp';\r\n\r\nconst interval = 3000;\r\n\r\nconst Img = styled.img`\r\n  height: 847px;\r\n  object-fit: cover;\r\n`\r\n\r\nexport default function BannerCarousel() {\r\n  return (\r\n    <Carousel pause={false} >\r\n      <Carousel.Item interval={interval}>\r\n        <Img className=\"d-block w-100\" src={carousel_1} alt=\"slide 1\" />\r\n      </Carousel.Item>\r\n      <Carousel.Item interval={interval}>\r\n        <Img className=\"d-block w-100\" src={carousel_2} alt=\"slide 2\" />\r\n      </Carousel.Item>\r\n      <Carousel.Item interval={interval}>\r\n        <Img className=\"d-block w-100\" src={carousel_3} alt=\"slide 3\" />\r\n      </Carousel.Item>\r\n      <Carousel.Item interval={interval}>\r\n        <Img className=\"d-block w-100\" src={carousel_4} alt=\"slide 4\" />\r\n      </Carousel.Item>\r\n      <Carousel.Item interval={interval}>\r\n        <Img className=\"d-block w-100\" src={carousel_5} alt=\"slide 5\" />\r\n      </Carousel.Item>\r\n    </Carousel>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/promotion_new1.b0f56999.jpg\";","export default __webpack_public_path__ + \"static/media/promotion_new2.b62c2a69.jpg\";","export default __webpack_public_path__ + \"static/media/arrow.be1000be.svg\";","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport promotion_1 from '../../img/promotion_new1.jpg';\r\nimport promotion_2 from '../../img/promotion_new2.jpg';\r\nimport arrow from '../../img/arrow.svg';\r\nimport { device } from '../../style/breakpoints';\r\n\r\nconst Root = styled.div``;\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n\r\n  max-height: 880px;\r\n  margin: 80px auto;\r\n  background: url(${(props) => props.$url}) no-repeat center/cover;\r\n\r\n  @media ${device.Mobiles} {\r\n    width: 80vw;\r\n    height: 50vw;\r\n  }\r\n  @media ${device.Tablets} {\r\n  }\r\n  @media ${device.Laptop} {\r\n  }\r\n  @media ${device.Desktops} {\r\n    width: 76vw;\r\n    height: 45vw;\r\n  }\r\n`;\r\n\r\nconst DescriptionContainerTop = styled.div`\r\n  position: absolute;\r\n\r\n  @media ${device.Mobiles} {\r\n    bottom: 35%;\r\n    left: 50px;\r\n  }\r\n  @media ${device.Tablets} {\r\n    bottom: 35%;\r\n    left: 50px;\r\n  }\r\n  @media ${device.Laptop} {\r\n    bottom: 35%;\r\n    left: 50px;\r\n  }\r\n  @media ${device.Desktops} {\r\n    left: 90px;\r\n  }\r\n`;\r\n\r\nconst DescriptionContainerBottom = styled.div`\r\n  position: absolute;\r\n\r\n  @media ${device.Mobiles} {\r\n    top: 54px;\r\n    right: 3vw;\r\n    p {\r\n      width: 200px;\r\n    }\r\n  }\r\n  @media ${device.Tablets} {\r\n    top: 54px;\r\n    right: 3vw;\r\n  }\r\n  @media ${device.Laptop} {\r\n    top: 105px;\r\n    right: 3vw;\r\n\r\n    p {\r\n      width: 264px;\r\n    }\r\n  }\r\n  @media ${device.Desktops} {\r\n    top: 200px;\r\n    right: 7vw;\r\n  }\r\n`;\r\n\r\nconst H4 = styled.h4`\r\n  color: white;\r\n  @media ${device.Mobiles} {\r\n    font-size: 1.2rem;\r\n  }\r\n  @media ${device.Laptop} {\r\n    font-size: 1.5rem;\r\n  }\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  color: rgb(251, 209, 168);\r\n\r\n  @media ${device.Mobiles} {\r\n    font-size: 2rem;\r\n  }\r\n  @media ${device.Laptop} {\r\n    font-size: 2.5rem;\r\n  }\r\n`;\r\n\r\nconst Divider = styled.div`\r\n  width: 40px;\r\n  border-top: 5px solid #ccc;\r\n  margin: 20px 0;\r\n`;\r\n\r\nconst DescriptionText = styled.p`\r\n  width: 451px;\r\n  color: white;\r\n\r\n  @media ${device.Mobiles} {\r\n    font-size: 16px;\r\n  }\r\n  @media ${device.Laptop} {\r\n    font-size: 24px;\r\n  }\r\n`;\r\n\r\nconst Arrow = styled.div`\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 25px;\r\n  mask: url(${arrow});\r\n  background-color: white;\r\n  transform: translate(40px, 2px);\r\n`;\r\n\r\nconst BuyNow = styled(Link)`\r\n  position: relative;\r\n  top: 100px;\r\n \r\n  color: white;\r\n  text-decoration: none;\r\n\r\n  &:hover {\r\n    color: rgb(251, 209, 168);\r\n    text-decoration: none;\r\n\r\n    ${Arrow} {\r\n      background-color: rgb(251, 209, 168);\r\n    }\r\n  }\r\n\r\n  @media ${device.Mobiles} {\r\n    font-size: 20px;\r\n  }\r\n  @media ${device.Laptop} {\r\n    font-size: 32px;\r\n  }\r\n`;\r\n\r\nexport default function Promotion() {\r\n  return (\r\n    <Root>\r\n      <Container $url={promotion_1}>\r\n        <DescriptionContainerTop>\r\n          <H4>Wireless-01</H4>\r\n          <H1>真無線耳機</H1>\r\n          <Divider />\r\n          <DescriptionText>不受束博的音樂體驗</DescriptionText>\r\n          <BuyNow to=\"/products/all\">\r\n            了解更多 <Arrow />\r\n          </BuyNow>\r\n        </DescriptionContainerTop>\r\n      </Container>\r\n\r\n      <Container $url={promotion_2}>\r\n        <DescriptionContainerBottom>\r\n          <H4>Headphone-01</H4>\r\n          <H1>耳罩式耳機</H1>\r\n          <Divider />\r\n          <DescriptionText>\r\n            最舒適的聆聽體驗。可以隨身帶著走的家庭劇院。\r\n          </DescriptionText>\r\n          <BuyNow to=\"/products/all\">\r\n            了解更多 <Arrow />\r\n          </BuyNow>\r\n        </DescriptionContainerBottom>\r\n      </Container>\r\n    </Root>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getProducts } from '../../redux/reducers/productsSlice';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport BannerCarousel from '../../component/BannerCarousel';\r\nimport Promotion from '../../component/Promotion';\r\nimport { device } from '../../style/breakpoints';\r\n\r\nconst ProductsContainer = styled.div`\r\n  display: grid;\r\n  grid-gap: 1%;\r\n  width: 77%;\r\n  margin: 100px auto;\r\n  margin-bottom: 0;\r\n  cursor: pointer;\r\n\r\n  @media ${device.Mobiles} {\r\n    grid-template-columns: repeat(auto-fit, 100%);\r\n  }\r\n  @media ${device.Laptop} {\r\n    grid-template-columns: repeat(auto-fit, 32%);\r\n  }\r\n\r\n`;\r\n\r\nconst ImgContainer = styled(Link)`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 480px;\r\n  background: url(${(props) => props.$url}) center/cover no-repeat;\r\n`;\r\n\r\nconst ImgFilter = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 48px;\r\n  background: rgba(251, 209, 168, 0.5);\r\n  opacity: 0;\r\n  transition: opacity 0.2s ease-in-out;\r\n  color: #07273c;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst LearnMoreButton = styled(Link)`\r\n  display: block;\r\n  text-decoration: none;\r\n\r\n  margin: 0 auto;\r\n  margin-top: 100px;\r\n  border: 1px solid #333;\r\n  border-radius: 50px;\r\n  padding: 5px 0;\r\n  text-align: center;\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n  color: #fff;\r\n  background: #07273c;\r\n\r\n  &:hover {\r\n    box-shadow: 2px 2px 10px 5px rgba(0, 0, 0, 0.2);\r\n    color: #fff;\r\n    text-decoration: none;\r\n    transform: scale(1.01);\r\n  }\r\n\r\n  @media ${device.Mobiles} {\r\n    width: 320px;\r\n  }\r\n  @media ${device.Laptop} {\r\n    width: 620px;\r\n  }\r\n`;\r\n\r\nexport default function HomePage() {\r\n  const dispatch = useDispatch();\r\n  const [promotionProducts, setPromotionProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getProducts({ type: 'all', order: 'ASC', sort: 'price' })).then(\r\n      (res) => {\r\n        setPromotionProducts(res.slice(0, 3));\r\n      }\r\n    );\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <BannerCarousel />\r\n      <Promotion />\r\n      <ProductsContainer id=\"news\">\r\n        {promotionProducts.map((product) => (\r\n          <ImgContainer\r\n            $url={product.photos[0].url}\r\n            to={`/product/${product.id}`}\r\n            key={product.id}\r\n          >\r\n            <ImgFilter>{product.productName}</ImgFilter>\r\n          </ImgContainer>\r\n        ))}\r\n      </ProductsContainer>\r\n      <LearnMoreButton to=\"/products/all\">LEARN MORE</LearnMoreButton>\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/noImage.6e29ec2d.svg\";","import { useState, useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  getProducts,\r\n  selectProducts,\r\n} from '../../redux/reducers/productsSlice';\r\nimport noImage from '../../img/noImage.svg';\r\n\r\nconst Container = styled.div`\r\n  width: 80vw;\r\n  margin: 50px auto;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  color: #07273c;\r\n  font-weight: bold;\r\n  margin-left: 30px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst Divider = styled.div`\r\n  width: 80vw;\r\n  border-top: 1px solid #07273c;\r\n  box-shadow: 3px 3px 4px #c5c5c5;\r\n`;\r\n\r\nconst OptionContainer = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst ProductsOption = styled(Link)`\r\n  color: #333;\r\n  padding: 30px 50px;\r\n  border-bottom: 2px solid transparent;\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    text-decoration: none;\r\n    color: #333;\r\n    border-bottom: 2px solid #07273c;\r\n  }\r\n`;\r\n\r\nconst ProductContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, 480px);\r\n  grid-gap: 16px;\r\n  justify-content: center;\r\n  margin-top: 100px;\r\n`;\r\n\r\nconst Product = styled(Link)`\r\n  display: flex;\r\n  padding-top: 50px;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 480px;\r\n  margin: 20px 15px;\r\n  background: rgb(155, 183, 202);\r\n  transition: all 0.2s ease-in-out;\r\n  animation: fade-in 0.6s linear;\r\n\r\n  &:hover {\r\n    transform: scale(1.01);\r\n    box-shadow: 2px 2px 2px #aaa;\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 400px;\r\n  height: 300px;\r\n  object-fit: ${(props) => (props.$isNoImage ? 'contain' : 'cover')};\r\n`;\r\n\r\nconst Name = styled.h4`\r\n  color: white;\r\n  font-size: 24px;\r\n`;\r\n\r\nconst Description = styled.p`\r\n  color: #7f7f7f;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst Price = styled.p`\r\n  color: #333;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst FilterContainer = styled.div`\r\n  margin: 30px 50px;\r\n`;\r\n\r\nconst PriceFilter = styled.button`\r\n  border: none;\r\n  border-radius: 5px;\r\n  background: ${(props) => (props.$isAcitve ? '#ff5f5f' : 'none')};\r\n  color: ${(props) => (props.$isAcitve ? 'white' : '#333')};\r\n  font-weight: bold;\r\n  padding: 5px 10px;\r\n\r\n  & + & {\r\n    margin-left: 20px;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst DateFilter = styled.button`\r\n  border: none;\r\n  border-radius: 5px;\r\n  background: ${(props) => (props.$isAcitve ? '#ff5f5f' : 'none')};\r\n  color: ${(props) => (props.$isAcitve ? 'white' : '#333')};\r\n  font-weight: bold;\r\n  padding: 5px 10px;\r\n\r\n  & + & {\r\n    margin-left: 20px;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport default function Products() {\r\n  const { type } = useParams();\r\n  const dispatch = useDispatch();\r\n  const products = useSelector(selectProducts);\r\n  const [sortFilter, setSortFilter] = useState('price');\r\n  const [order, setOrder] = useState('ASC');\r\n  const isLoading = useRef(true);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    dispatch(getProducts({ type, order, sort: sortFilter })).then(() => {\r\n      isLoading.current = false;\r\n    });\r\n  }, [dispatch, type, sortFilter, order]);\r\n\r\n  return (\r\n    <Container>\r\n      <Title>全部商品</Title>\r\n      <Divider />\r\n      <OptionContainer>\r\n        <ProductsOption to=\"/products/all\">全部商品</ProductsOption>\r\n        <ProductsOption to=\"/products/1\">耳罩式耳機</ProductsOption>\r\n        <ProductsOption to=\"/products/2\">入耳式耳機</ProductsOption>\r\n        <ProductsOption to=\"/products/3\">音響</ProductsOption>\r\n        <ProductsOption to=\"/products/4\">週邊配件</ProductsOption>\r\n      </OptionContainer>\r\n      <FilterContainer>\r\n        <PriceFilter\r\n          $isAcitve={sortFilter === 'price'}\r\n          onClick={() => setSortFilter('price')}\r\n        >\r\n          照價格排序\r\n        </PriceFilter>\r\n        <PriceFilter\r\n          $isAcitve={sortFilter === 'createdAt'}\r\n          onClick={() => setSortFilter('createdAt')}\r\n        >\r\n          照日期排序\r\n        </PriceFilter>\r\n      </FilterContainer>\r\n      <FilterContainer>\r\n        <DateFilter $isAcitve={order === 'ASC'} onClick={() => setOrder('ASC')}>\r\n          升序\r\n        </DateFilter>\r\n        <DateFilter\r\n          $isAcitve={order === 'DESC'}\r\n          onClick={() => setOrder('DESC')}\r\n        >\r\n          降序\r\n        </DateFilter>\r\n      </FilterContainer>\r\n      <Divider />\r\n\r\n      <ProductContainer>\r\n        {products.map((data) => {\r\n          return (\r\n            <Product to={`/product/${data.id}`} key={data.id}>\r\n              <Img\r\n                src={data.photos.length === 0 ? noImage : data.photos[0].url}\r\n                alt={data.type}\r\n                $isNoImage={data.photos.length === 0}\r\n              />\r\n              <Name>{data.productName}</Name>\r\n              <Price>NT${data.price}</Price>\r\n            </Product>\r\n          );\r\n        })}\r\n      </ProductContainer>\r\n    </Container>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/preload.c157a33f.svg\";","import { useState, useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom';\r\nimport { HashLink } from 'react-router-hash-link';\r\nimport preload from '../../img/preload.svg';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getProduct, selectProduct } from '../../redux/reducers/productsSlice';\r\nimport { updateCart } from '../../redux/reducers/ordersSlice';\r\nimport { getCartToken, setCartToken, getArticle } from '../../utils';\r\nimport { device } from '../../style/breakpoints';\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 20px;\r\n\r\n  @media ${device.Mobiles} {\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    padding: 20px 0;\r\n  }\r\n`;\r\n\r\nconst BreadcrumbContainer = styled.div`\r\n  font-weight: bold;\r\n  text-align: center;\r\n  a {\r\n    color: #07273c;\r\n  }\r\n\r\n  @media ${device.Mobiles} {\r\n    padding: 20px;\r\n  }\r\n  @media ${device.Tablets} {\r\n    text-align: left;\r\n  }\r\n  @media ${device.Desktops} {\r\n    padding: 40px;\r\n  }\r\n`;\r\n\r\nconst Breadcrumb = styled(Link)`\r\n  font-size: 20px;\r\n`;\r\n\r\nconst ProductContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: center;\r\n\r\n  @media ${device.Mobiles} {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n\r\n  @media ${device.Tablets} {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n\r\n  @media ${device.Laptop} {\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    padding: 2% 6%;\r\n  }\r\n\r\n  @media ${device.Desktops} {\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    padding: 2% 10%;\r\n  }\r\n`;\r\n\r\nconst Thumbnail = styled.img`\r\n  display: block;\r\n  width: 80px;\r\n  height: 80px;\r\n  margin: 2px;\r\n  object-fit: cover;\r\n  cursor: pointer;\r\n  filter: ${(props) => (props.$active ? 'brightness(1)' : 'brightness(0.3)')};\r\n`;\r\n\r\nconst ProductImgContainer = styled.div`\r\n  position: relative;\r\n  height: 450px;\r\n  background: ${(props) =>\r\n    props.$isLoading\r\n      ? `url(${props.$url}) center/contain no-repeat`\r\n      : `url(${props.$url}) center/cover no-repeat`};\r\n\r\n  @media ${device.Mobiles} {\r\n    height: 500px;\r\n    width: 100%;\r\n    text-align: center;\r\n  }\r\n  @media ${device.Tablets} {\r\n    height: 500px;\r\n    width: 500px;\r\n  }\r\n  @media ${device.Desktops} {\r\n    height: 500px;\r\n    width: 600px;\r\n  }\r\n`;\r\n\r\nconst PhotosContainer = styled.div`\r\n  flex-wrap: wrap;\r\n  max-width: 180px;\r\n\r\n  @media ${device.Mobiles} {\r\n    display: none;\r\n  }\r\n  @media ${device.Desktops} {\r\n    display: flex;\r\n  }\r\n`;\r\n\r\nconst PrePicContainer = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  left: 0;\r\n  width: 12%;\r\n  height: 100%;\r\n  transition: all 0.3s ease-in-out;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background: #0000001c;\r\n  }\r\n`;\r\n\r\nconst NextPicContainer = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  right: 0;\r\n  width: 12%;\r\n  height: 100%;\r\n  transition: all 0.3s ease-in-out;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background: #0000001c;\r\n  }\r\n`;\r\n\r\nconst Arrow = styled.div`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-top: 5px solid #ddd;\r\n  border-left: 5px solid #ddd;\r\n  transform: rotate(${(props) => (props.$direction === 'left' ? -45 : 135)}deg);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    transform: rotate(\r\n        ${(props) => (props.$direction === 'left' ? -45 : 135)}deg\r\n      )\r\n      scale(1.1);\r\n    border-top: 5px solid white;\r\n    border-left: 5px solid white;\r\n  }\r\n`;\r\n\r\nconst ProductInfomationContainer = styled.div`\r\n  display: flex;\r\n\r\n  @media ${device.Mobiles} {\r\n    margin-top: 50px;\r\n    width: 100%;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n  @media ${device.Tablets} {\r\n    justify-content: space-between;\r\n    width: auto;\r\n    height: 400px;\r\n  }\r\n  @media ${device.Laptop} {\r\n    justify-content: space-between;\r\n    height: 500px;\r\n    margin-top: 0;\r\n  }\r\n  @media ${device.Desktops} {\r\n    width: 400px;\r\n  }\r\n`;\r\n\r\nconst Name = styled.h1`\r\n  font-size: 32px;\r\n  margin-top: -10px;\r\n  margin-bottom: 0;\r\n  color: #333333;\r\n  @media ${device.Mobiles} {\r\n    margin-bottom: 20px;\r\n  }\r\n  @media ${device.Tablets} {\r\n  }\r\n  @media ${device.Desktops} {\r\n  }\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  font-size: 18px;\r\n  margin-bottom: 0;\r\n  color: #333333;\r\n  @media ${device.Mobiles} {\r\n    display: none;\r\n  }\r\n  @media ${device.Tablets} {\r\n  }\r\n  @media ${device.Desktops} {\r\n  }\r\n`;\r\n\r\nconst Price = styled.h2`\r\n  color: #333333;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst Alternative = styled.div`\r\n  display: flex;\r\n  margin-bottom: 20px;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  width: 500px;\r\n  @media ${device.Mobiles} {\r\n    width: auto;\r\n  }\r\n  @media ${device.Tablets} {\r\n  }\r\n  @media ${device.Desktops} {\r\n  }\r\n`;\r\n\r\nconst Storage = styled.div`\r\n  font-size: 18px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Option = styled.button`\r\n  display: block;\r\n  width: ${(props) => (props.$active ? 35 : 20)}px;\r\n  height: ${(props) => (props.$active ? 35 : 20)}px;\r\n  border-radius: 50%;\r\n  padding: 5px 10px;\r\n  background: #${(props) => props.$color};\r\n  border: ${(props) => (props.$active ? '3px solid black' : 'none')};\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n\r\n  & + & {\r\n    margin-left: 10px;\r\n  }\r\n`;\r\n\r\nconst Amount = styled.div`\r\n  display: flex;\r\n\r\n  @media ${device.Mobiles} {\r\n    margin-bottom: 20px;\r\n  }\r\n  @media ${device.Tablets} {\r\n  }\r\n  @media ${device.Desktops} {\r\n  }\r\n`;\r\n\r\nconst AmountButton = styled.button`\r\n  width: 50px;\r\n  height: 50px;\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: white;\r\n  background: #07273c;\r\n  border: none;\r\n  transition: all 0.1s linear;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n\r\n  @media ${device.Mobiles} {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n  @media ${device.Tablets} {\r\n  }\r\n  @media ${device.Desktops} {\r\n  }\r\n`;\r\n\r\nconst AmountShow = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 125px;\r\n  height: 50px;\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n\r\n  @media ${device.Mobiles} {\r\n    height: 40px;\r\n    font-size: 20px;\r\n  }\r\n  @media ${device.Tablets} {\r\n  }\r\n  @media ${device.Desktops} {\r\n  }\r\n`;\r\n\r\nconst AddToCart = styled.button`\r\n  width: 160px;\r\n  height: 40px;\r\n  margin-top: 20px;\r\n  color: #07273c;\r\n  background: rgba(7, 39, 60, 0.2);\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n\r\n  &:hover {\r\n    background: rgba(7, 39, 60, 0.3);\r\n    box-shadow: 0 0px 3px #c1c1c1;\r\n  }\r\n\r\n  @media ${device.Mobiles} {\r\n    font-size: 14px;\r\n    width: 120px;\r\n  }\r\n  @media ${device.Tablets} {\r\n  }\r\n  @media ${device.Desktops} {\r\n  }\r\n`;\r\n\r\nconst Buy = styled.button`\r\n  display: inline-block;\r\n  width: 160px;\r\n  height: 40px;\r\n  margin-left: 20px;\r\n  color: white;\r\n  font-weight: bold;\r\n  background: #07273c;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n\r\n  &:hover {\r\n    background: rgba(7, 39, 60, 0.9);\r\n    box-shadow: 0 0px 3px #c1c1c1;\r\n  }\r\n\r\n  @media ${device.Mobiles} {\r\n    font-size: 14px;\r\n    width: 120px;\r\n  }\r\n  @media ${device.Tablets} {\r\n  }\r\n  @media ${device.Desktops} {\r\n  }\r\n`;\r\n\r\nconst ProductNav = styled.nav`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 80px;\r\n  background: #9bb7ca;\r\n`;\r\n\r\nconst Anchor = styled(HashLink)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 24px;\r\n  text-shadow: 2px 2px 2px #737373;\r\n  border-bottom: 4px solid transparent;\r\n  width: 100px;\r\n  margin: 0 50px;\r\n  height: 80px;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    color: white;\r\n    text-decoration: none;\r\n    border-bottom: 4px solid #495f6e;\r\n  }\r\n`;\r\n\r\nconst TitleContainer = styled.div`\r\n  display: flex;\r\n  margin-top: 50px;\r\n  padding-left: 40px;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 80px;\r\n  background: #9bb7ca;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  color: white;\r\n  font-weight: bold;\r\n  text-shadow: 2px 2px 2px #737373;\r\n`;\r\n\r\nconst Specification = styled.div`\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  padding: 40px 20px;\r\n  padding-bottom: 0;\r\n`;\r\n\r\nconst SpecificationTopic = styled.h2`\r\n  font-size: 24px;\r\n  margin: 20px;\r\n`;\r\n\r\nconst SpecificationContent = styled.p`\r\n  padding: 20px;\r\n  padding-top: 0;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst Support = styled.div`\r\n  padding: 30px 30px;\r\n`;\r\n\r\nconst SupportTitle = styled.div`\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  margin: 20px 10px;\r\n`;\r\n\r\nconst Modal = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  display: ${(props) => (props.$isShowModal ? 'flex' : 'none')};\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: white;\r\n  width: 500px;\r\n  padding: 80px 0;\r\n  border: 1px solid #226592;\r\n  border-radius: 5px;\r\n  transform: translate(-50%, -50%);\r\n  box-shadow: 3px 3px 5px #b2cee0;\r\n\r\n  h5 {\r\n    font-weight: bold;\r\n    margin-bottom: 60px;\r\n  }\r\n`;\r\n\r\nconst CloseModalButton = styled.button`\r\n  width: 120px;\r\n  height: 50px;\r\n  background: #07273c;\r\n  border: none;\r\n  color: white;\r\n  border-radius: 5px;\r\n  margin-right: 30px;\r\n  box-shadow: 3px 3px 5px #b2cee0;\r\n`;\r\n\r\nconst CheckoutButton = styled(Link)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 120px;\r\n  height: 50px;\r\n  background: #495f6e;\r\n  border: none;\r\n  border-radius: 5px;\r\n  color: white;\r\n  box-shadow: 3px 3px 5px #b2cee0;\r\n\r\n  &:hover {\r\n    color: white;\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst Article = (article) => ({ __html: article });\r\n\r\nconst ArticleContainer = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nexport default function Product() {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const product = useSelector(selectProduct);\r\n  const [picList, setPicList] = useState([]);\r\n  const [nowPicIndex, setNowPicIndex] = useState(0);\r\n  const [amount, setAmount] = useState(1);\r\n  const [isShowModal, setIsShowModal] = useState(false);\r\n  const [selectedModelId, setSelectedModelId] = useState('');\r\n  const [models, setModels] = useState([]);\r\n  const [storage, setStorage] = useState('');\r\n  const [article, setArticle] = useState('');\r\n  const [selectedModel, setSelectedModel] = useState('');\r\n  const { pathname } = useLocation();\r\n  let cart = getCartToken();\r\n  const isLoading = useRef(true);\r\n\r\n  const handleShowModal = (state) => {\r\n    setIsShowModal(state);\r\n  };\r\n\r\n  const addAmount = () => {\r\n    if (amount === 9) return;\r\n    setAmount(amount + 1);\r\n  };\r\n\r\n  const minusAmount = () => setAmount(amount - 1 <= 0 ? 1 : amount - 1);\r\n\r\n  const handleChangePic = (picIndex) => {\r\n    setNowPicIndex(picIndex);\r\n    setPicList(\r\n      picList.map((data, index) => {\r\n        if (index !== picIndex) return { ...data, isActive: false };\r\n        return { ...data, isActive: true };\r\n      })\r\n    );\r\n  };\r\n\r\n  const nextPic = () => {\r\n    if (isLoading.current) return;\r\n    if (nowPicIndex + 1 >= picList.length) {\r\n      setPicList(\r\n        picList.map((data, index) => {\r\n          if (index === 0) return { ...data, isActive: true };\r\n          return { ...data, isActive: false };\r\n        })\r\n      );\r\n      setNowPicIndex(0);\r\n    } else {\r\n      setPicList(\r\n        picList.map((data, index) => {\r\n          if (index === nowPicIndex + 1) return { ...data, isActive: true };\r\n          return { ...data, isActive: false };\r\n        })\r\n      );\r\n      setNowPicIndex(nowPicIndex + 1);\r\n    }\r\n  };\r\n\r\n  const prePic = () => {\r\n    if (isLoading.current) return;\r\n    if (nowPicIndex - 1 < 0) {\r\n      setPicList(\r\n        picList.map((data, index) => {\r\n          if (index === picList.length - 1) return { ...data, isActive: true };\r\n          return { ...data, isActive: false };\r\n        })\r\n      );\r\n      setNowPicIndex(picList.length - 1);\r\n    } else {\r\n      setPicList(\r\n        picList.map((data, index) => {\r\n          if (index === nowPicIndex - 1) return { ...data, isActive: true };\r\n          return { ...data, isActive: false };\r\n        })\r\n      );\r\n      setNowPicIndex(nowPicIndex - 1);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    isLoading.current = true;\r\n    dispatch(getProduct(id)).then((res) => {\r\n      isLoading.current = false;\r\n      setPicList(\r\n        res.photos.map((url, index) => {\r\n          if (index === 0)\r\n            return { src: url, isActive: true, id: `photo-${index}` };\r\n          return { src: url, isActive: false, id: `photo-${index}` };\r\n        })\r\n      );\r\n      const modelsData = res.models;\r\n      const defaultColor = res.models.length > 0 ? res.models[0].colorChip : '';\r\n      const defaultModelId = res.models.length > 0 ? res.models[0].id : '';\r\n      const defaultStorage = res.models.length > 0 ? modelsData[0].storage : '';\r\n\r\n      setSelectedModelId(defaultModelId);\r\n      setArticle(getArticle(res.article));\r\n      setModels(modelsData);\r\n      setSelectedModel(defaultColor);\r\n      setStorage(defaultStorage);\r\n    });\r\n    return () => {\r\n      setModels([]);\r\n      setSelectedModel('');\r\n      setSelectedModelId('');\r\n      setStorage('');\r\n    };\r\n  }, [dispatch, id]);\r\n\r\n  const handleAddCart = (goPayment) => {\r\n    const checkHasOrder = cart.filter(\r\n      (item) => item.modelId === selectedModelId\r\n    );\r\n    if (checkHasOrder.length !== 0) {\r\n      const NewCart = cart.map((data, index) => {\r\n        if (data.modelId === selectedModelId) {\r\n          return {\r\n            ...data,\r\n            count: data.count + amount,\r\n          };\r\n        }\r\n        if (data.modelId !== selectedModelId && index === cart.length - 1) {\r\n          return { productId: id, modelId: selectedModelId, count: amount };\r\n        }\r\n        return data;\r\n      });\r\n      setCartToken(NewCart);\r\n      setIsShowModal(true);\r\n      console.log(isShowModal);\r\n    } else {\r\n      cart.push({ productId: id, modelId: selectedModelId, count: amount });\r\n      setCartToken(cart);\r\n      dispatch(updateCart());\r\n      setIsShowModal(true);\r\n    }\r\n    if (goPayment) {\r\n      history.push('/shopping-cart');\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Container>\r\n        <BreadcrumbContainer>\r\n          <Breadcrumb to=\"/products/all\">Products</Breadcrumb>\r\n          <span> &#062; </span>\r\n          <Breadcrumb to={pathname}>{product.productName}</Breadcrumb>\r\n        </BreadcrumbContainer>\r\n\r\n        <ProductContainer>\r\n          <PhotosContainer>\r\n            {picList.map((data, index) => (\r\n              <Thumbnail\r\n                $active={data.isActive}\r\n                src={data.src}\r\n                onClick={() => handleChangePic(index)}\r\n                key={data.id}\r\n              />\r\n            ))}\r\n          </PhotosContainer>\r\n\r\n          <ProductImgContainer\r\n            $url={picList.length > 0 ? picList[nowPicIndex].src : preload}\r\n            $isLoading={isLoading.current}\r\n          >\r\n            <PrePicContainer onClick={prePic}>\r\n              <Arrow $direction=\"left\" />\r\n            </PrePicContainer>\r\n            <NextPicContainer onClick={nextPic}>\r\n              <Arrow $direction=\"right\" />\r\n            </NextPicContainer>\r\n          </ProductImgContainer>\r\n\r\n          <ProductInfomationContainer>\r\n            <Name>{product.productName}</Name>\r\n            <Label>Price</Label>\r\n            <Price>NT${product.price}</Price>\r\n            <Label>Model</Label>\r\n            <Alternative>\r\n              {models.length > 0\r\n                ? models.map((model) => (\r\n                    <Option\r\n                      $color={model.colorChip}\r\n                      $active={selectedModel === model.colorChip}\r\n                      onClick={() => {\r\n                        setSelectedModel(model.colorChip);\r\n                        setSelectedModelId(model.id);\r\n                        setStorage(model.storage);\r\n                      }}\r\n                      key={`model-${model.colorChip}`}\r\n                    />\r\n                  ))\r\n                : ''}\r\n            </Alternative>\r\n            <Storage>庫存狀況: {storage}</Storage>\r\n            <Amount>\r\n              <AmountButton onClick={minusAmount}>-</AmountButton>\r\n              <AmountShow>{amount}</AmountShow>\r\n              <AmountButton onClick={addAmount}>+</AmountButton>\r\n            </Amount>\r\n            <div>\r\n              <AddToCart onClick={() => handleAddCart(false)}>\r\n                ADD TO CART\r\n              </AddToCart>\r\n              <Buy to=\"/\" onClick={() => handleAddCart(true)}>\r\n                BUY\r\n              </Buy>\r\n            </div>\r\n          </ProductInfomationContainer>\r\n        </ProductContainer>\r\n      </Container>\r\n\r\n      <ProductNav>\r\n        <Anchor to={`${pathname}#feature`}>概觀</Anchor>\r\n        <Anchor to={`${pathname}#spec`}>規格</Anchor>\r\n        <Anchor to={`${pathname}#support`}>支援</Anchor>\r\n      </ProductNav>\r\n\r\n      <Container>\r\n        <div>\r\n          <ArticleContainer dangerouslySetInnerHTML={Article(article)} />\r\n          <TitleContainer id=\"spec\">\r\n            <Title>規格</Title>\r\n          </TitleContainer>\r\n\r\n          <Specification>\r\n            <SpecificationTopic>尺寸 / 重量</SpecificationTopic>\r\n            <SpecificationContent>\r\n              耳機: 高 10 公分 x 寬 10 公分 x 深 10 公分 (150 公克) USB 連接線:\r\n              30 公分\r\n            </SpecificationContent>\r\n\r\n            <SpecificationTopic>包裝盒內容物</SpecificationTopic>\r\n            <SpecificationContent>\r\n              耳機 USB 充電連接線 音頻連接線 攜帶盒\r\n            </SpecificationContent>\r\n          </Specification>\r\n\r\n          <TitleContainer id=\"support\">\r\n            <Title>支援</Title>\r\n          </TitleContainer>\r\n\r\n          <Support>\r\n            <SupportTitle>產品說明文件.PDF</SupportTitle>\r\n            <SupportTitle>聯絡客服</SupportTitle>\r\n          </Support>\r\n        </div>\r\n      </Container>\r\n\r\n      <Modal $isShowModal={isShowModal}>\r\n        <h5>加入成功！</h5>\r\n        <Actions>\r\n          <CloseModalButton onClick={() => handleShowModal(false)}>\r\n            返回\r\n          </CloseModalButton>\r\n          <CheckoutButton to=\"/shopping-cart\">結帳</CheckoutButton>\r\n        </Actions>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m424 64h-88v-16c0-26.467-21.533-48-48-48h-64c-26.467 0-48 21.533-48 48v16h-88c-22.056 0-40 17.944-40 40v56c0 8.836 7.164 16 16 16h8.744l13.823 290.283c1.221 25.636 22.281 45.717 47.945 45.717h242.976c25.665 0 46.725-20.081 47.945-45.717l13.823-290.283h8.744c8.836 0 16-7.164 16-16v-56c0-22.056-17.944-40-40-40zm-216-16c0-8.822 7.178-16 16-16h64c8.822 0 16 7.178 16 16v16h-96zm-128 56c0-4.411 3.589-8 8-8h336c4.411 0 8 3.589 8 8v40c-4.931 0-331.567 0-352 0zm313.469 360.761c-.407 8.545-7.427 15.239-15.981 15.239h-242.976c-8.555 0-15.575-6.694-15.981-15.239l-13.751-288.761h302.44z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m256 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m336 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m176 448c8.836 0 16-7.164 16-16v-208c0-8.836-7.164-16-16-16s-16 7.164-16 16v208c0 8.836 7.163 16 16 16z\"\n}));\n\nfunction SvgTrash(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    enableBackground: \"new 0 0 512 512\",\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    width: 512,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrash);\nexport default __webpack_public_path__ + \"static/media/trash.bb8494aa.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\r\nimport { device } from '../../style/breakpoints';\r\nexport const Ul = styled.ul`\r\n  width: 80vw;\r\n  padding: 0;\r\n  line-height: 2em;\r\n  @media ${device.Tablets} {\r\n    width: ${(props) => props.$width};\r\n    line-height: normal;\r\n  }\r\n`;\r\n\r\nexport const Li = styled.li`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 100%;\r\n  list-style: none;\r\n  font-size: 20px;\r\n  border: 1px solid #d4d4d4;\r\n\r\n  & + & {\r\n    border-top: 0;\r\n  }\r\n  @media ${device.Tablets} {\r\n    flex-direction: row;\r\n  }\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  height: 100px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #cfdce5;\r\n  flex: 1;\r\n  width: 100%;\r\n  @media ${device.Tablets} {\r\n    width: unset;\r\n  }\r\n`;\r\n\r\nexport const HeaderFat = styled.div`\r\n  height: 150px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #cfdce5;\r\n  flex: 1;\r\n  width: 100%;\r\n  @media ${device.Tablets} {\r\n    width: unset;\r\n  }\r\n`;\r\n\r\nexport const Info = styled.div`\r\n  text-align: center;\r\n  flex: ${(props) => props.$flex};\r\n`;\r\n\r\nexport const OrderContent = styled.p`\r\n  margin: 0;\r\n  padding: 10px;\r\n`;\r\n","import styled from 'styled-components';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { ReactComponent as Trash } from '../../img/trash.svg';\r\nimport { device } from '../../style/breakpoints';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getProduct } from '../../redux/reducers/productsSlice';\r\nimport { getCartToken, setCartToken } from '../../utils';\r\nimport { updateCart, addOrder } from '../../redux/reducers/ordersSlice';\r\nimport { Ul, Li } from '../../component/Table';\r\nconst Container = styled.div`\r\n  max-width: 1280px;\r\n  margin: 80px auto;\r\n  margin-bottom: 40px;\r\n  position: relative;\r\n`;\r\nconst H3 = styled.h3`\r\n  font-size: 2rem;\r\n  color: #07273c;\r\n  margin: 0 0 40px 40px;\r\n`;\r\nconst StyledTable = styled.table`\r\n  margin: 0 auto;\r\n  border: none;\r\n  text-align: right;\r\n  thead {\r\n    background-color: rgba(14, 78, 123, 0.4);\r\n    tr th {\r\n      font-size: 18px;\r\n      color: #333;\r\n      padding: 0.5rem 2rem;\r\n\r\n      &:first-child {\r\n        text-align: left;\r\n        width: 700px;\r\n      }\r\n      &:last-child {\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n\r\n  tbody tr td {\r\n    background-color: white;\r\n    padding: 20px;\r\n    align-items: right;\r\n\r\n    &:first-child {\r\n      text-align: left;\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n    &:last-child {\r\n      text-align: center;\r\n    }\r\n  }\r\n`;\r\nconst Table = styled(Ul)`\r\n  @media ${device.Tablets} {\r\n    width: 70vw;\r\n  }\r\n`;\r\nconst ProductColumn = styled.div`\r\n  font-size: 18px;\r\n  color: #333;\r\n  padding: 0.5rem 2rem;\r\n  text-align: left;\r\n  width: 600px;\r\n`;\r\nconst ProductInfo = styled.div``;\r\nconst TableFootColumn = styled.div`\r\n  background-color: #07273c;\r\n  color: white;\r\n  padding: 12px;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst TableFoot = styled(Li)`\r\n  background-color: #07273c;\r\n  justify-content: flex-end;\r\n`;\r\nconst TableHeader = styled(Li)`\r\n  background-color: rgba(14, 78, 123, 0.4);\r\n  justify-content: space-around;\r\n`;\r\nconst TableBody = styled(Li)`\r\n  justify-content: space-around;\r\n  height: 120px;\r\n`;\r\nconst DeleteBtn = styled(Trash)`\r\n  fill: rgba(7, 39, 60, 0.7);\r\n  width: 30px;\r\n  height: 30px;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    fill: red;\r\n  }\r\n`;\r\nconst ProductInfoContainer = styled(Link)`\r\n  width: 600px;\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  color: black;\r\n  &:hover {\r\n    text-decoration: none;\r\n  }\r\n`;\r\nconst ProductImg = styled.div`\r\n  background: center no-repeat url(${(props) => props.$url});\r\n  background-size: 70%;\r\n  width: 200px;\r\n  height: 100px;\r\n`;\r\nconst NextBtn = styled.button`\r\n  position: absolute;\r\n  right: 0;\r\n  margin-top: 40px;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  color: #07273c;\r\n  font-size: 22px;\r\n  box-shadow: 5px 5px 5px #0e4e7c;\r\n  border-radius: 5px;\r\n  border: 2px solid #07273c;\r\n  padding: 0.5em 1.3em;\r\n  text-decoration: none;\r\n  background-color: white;\r\n  &:hover {\r\n    color: white;\r\n    background-color: #07273c;\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nexport default function ShoppingCartTable() {\r\n  const cart = getCartToken();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [cartInfoList, setCartInfoList] = useState([]);\r\n  const [update, setUpdate] = useState(false);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (cart.length === 0) {\r\n      alert('目前購物車是空的，請先去購物唷！');\r\n      return history.push('/products/all');\r\n    }\r\n    let cartInfo = [];\r\n    const productIds = cart.map((item) => item.productId);\r\n    const getOrderInfo = productIds.map((id) => {\r\n      return dispatch(getProduct(id))\r\n        .then((res) => {\r\n          return res;\r\n        })\r\n        .catch((err) => {\r\n          console.log('err: ', err);\r\n        });\r\n    });\r\n    Promise.all(getOrderInfo).then((data) => {\r\n      cartInfo = cart.map((cart, index) =>\r\n        Object.assign({}, cart, data[index])\r\n      );\r\n      setCartInfoList(cartInfo);\r\n\r\n      console.log(\"cartInfo: \", cartInfo);\r\n      \r\n      const priceList = cartInfo.map((cart) => cart.price * cart.count);\r\n      const amount = priceList.reduce((a, b) => a + b);\r\n      setTotal(amount);\r\n    });\r\n  }, [update]);\r\n\r\n  const handelDeleteOrder = (modelId) => {\r\n    setCartToken(cart.filter((order) => order.modelId !== modelId));\r\n    setCartInfoList(cartInfoList.filter((order) => order.modelId !== modelId));\r\n    dispatch(updateCart());\r\n    setUpdate(!update);\r\n  };\r\n\r\n  const handelAddOrder = () => {\r\n    if (total >= 30000) {\r\n      return alert('單筆訂單不得大於30000，請刪除部分訂單');\r\n    }\r\n    const products = cart.map(({ productId, ...data }) => data);\r\n\r\n    console.log('cart: ', cart)\r\n    console.log('products: ', products);\r\n\r\n    dispatch(addOrder(products)).then((res) => {\r\n      if (!res.success) {\r\n        return alert('結帳失敗，請聯絡客服，');\r\n      }\r\n      history.push(`/recipient/${res.data.UUID}`);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <H3>購物車內容</H3>\r\n        <Table>\r\n          <TableHeader>\r\n            <ProductColumn>產品名稱</ProductColumn>\r\n            <ProductInfo>單價</ProductInfo>\r\n            <ProductInfo>訂購數量</ProductInfo>\r\n            <ProductInfo>總價</ProductInfo>\r\n            <ProductInfo>刪除</ProductInfo>\r\n          </TableHeader>\r\n          {cartInfoList\r\n            ? cartInfoList.map((order) => (\r\n                <TableBody key={order.modelId}>\r\n                  <ProductInfoContainer to={`/product/${order.productId}`}>\r\n                    <ProductImg $url={order.photos[0]} />\r\n                    {order.productName + order.modelId}\r\n                  </ProductInfoContainer>\r\n                  <ProductInfo>NT${order.price}</ProductInfo>\r\n                  <ProductInfo>{order.count}</ProductInfo>\r\n                  <ProductInfo>NT${order.price * order.count}</ProductInfo>\r\n                  <ProductInfo>\r\n                    <DeleteBtn\r\n                      onClick={() => handelDeleteOrder(order.modelId)}\r\n                    />\r\n                  </ProductInfo>\r\n                </TableBody>\r\n              ))\r\n            : ''}\r\n          <TableFoot>\r\n            <TableFootColumn>總計</TableFootColumn>\r\n            <TableFootColumn>NT ${total}</TableFootColumn>\r\n          </TableFoot>\r\n        </Table>\r\n        <NextBtn $size={'s'} onClick={handelAddOrder}>\r\n          我要結帳\r\n        </NextBtn>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport ShoppingCartTable from '../../component/ShoppingCartTable';\r\n\r\nexport default function ShoppingCartpage() {\r\n  return <ShoppingCartTable />\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { device } from '../../style/breakpoints';\r\n\r\nconst WrapperInput = styled.label`\r\n  margin-top: 20px;\r\n  display: block;\r\n  width: 100%;\r\n  select {\r\n    width: ${(props) => props.size};\r\n    font-size: 0.8em;\r\n    border: 1px solid #797979;\r\n    padding: 4px 8px;\r\n    border-radius: 5px;\r\n  }\r\n`;\r\nconst InputStyle = styled.input`\r\n  font-size: 0.8em;\r\n  padding: 0 8px;\r\n  border: 1px solid #797979;\r\n  width: ${(props) => props.size};\r\n  border-radius: 5px;\r\n`;\r\nexport const HeaderContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  margin-bottom: 20px;\r\n`;\r\nexport const InputTitle = styled.h3`\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n  margin-bottom: unset;\r\n`;\r\nexport const ErrorMessage = styled.span`\r\n  color: ${(props) => props.theme.errorText};\r\n  font-size: 0.65em;\r\n  padding-left: 18px;\r\n`;\r\nexport const InputContainer = styled.div`\r\n  display: flex;\r\n  flex-flow: column wrap;\r\n  margin-bottom: 8px;\r\n  @media ${device.Tablets} {\r\n    justify-content: space-between;\r\n    flex-flow: row nowrap;\r\n  }\r\n`;\r\nexport const InputSelect = ({ inputTitle, types, value, size, name, errorMessage, valid, onChange }) => {\r\n  return (\r\n    <WrapperInput>\r\n      <HeaderContainer>\r\n        <InputTitle>{inputTitle}</InputTitle>\r\n        {!valid && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n      </HeaderContainer>\r\n      <select name={name} size={size} onChange={onChange} value={value}>\r\n        {types.map((type, index) => (\r\n          <option key={index} value={type.value}>\r\n            {type.name}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </WrapperInput>\r\n  );\r\n};\r\nexport default function Input({ inputTitle, inputType, size, name, value, onChange, valid, errorMessage, placeholder }) {\r\n  return (\r\n    <WrapperInput>\r\n      <HeaderContainer>\r\n        <InputTitle>{inputTitle}</InputTitle>\r\n        {!valid && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n      </HeaderContainer>\r\n      <InputStyle name={name} type={inputType} size={size} value={value} onChange={onChange} placeholder={placeholder} />\r\n    </WrapperInput>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { useParams } from 'react-router-dom';\r\nimport { memo, useState, useEffect, useRef } from 'react';\r\nimport { getCities, getDistricts, addRecipient } from '../../WebAPI';\r\nimport { isEmailValid, isPhoneValid, initRecipientFormErrorData } from '../../utils';\r\nimport { HeaderContainer, ErrorMessage } from '../../component/Input';\r\nimport { selectUserInfo, getMemberInfo } from '../../redux/reducers/usersSlice';\r\nimport { updateCart } from '../../redux/reducers/ordersSlice';\r\nimport { setCartToken } from '../../utils';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nconst Root = styled.div`\r\n  margin: 0 auto;\r\n`;\r\nconst Container = styled.div`\r\n  max-width: 60vw;\r\n  margin: 80px auto;\r\n  margin-bottom: 40px;\r\n  position: relative;\r\n`;\r\nconst H3 = styled.h3`\r\n  font-size: 2rem;\r\n  color: #07273c;\r\n  margin: 0 0 40px 20px;\r\n`;\r\nconst FormHeader = styled.div``;\r\nconst FormTitle = styled.h4`\r\n  font-size: 1.5rem;\r\n  color: #07273c;\r\n  margin: 0 0 40px 40px;\r\n  display: inline-block;\r\n`;\r\nconst ReceiverInfoForm = styled.form`\r\n  max-width: 100%;\r\n  background-color: rgba(14, 78, 124, 0.4);\r\n  padding: 3em;\r\n  position: relative;\r\n  padding-bottom: 7em;\r\n`;\r\nconst WrapperInput = styled.label`\r\n  margin-top: 20px;\r\n  display: block;\r\n  width: 100%;\r\n  select {\r\n    width: 90%;\r\n    font-size: 1.5em;\r\n    border: 1px solid #797979;\r\n    padding: 0.5em;\r\n    border-radius: 5px;\r\n  }\r\n`;\r\nconst RadioInputContent = styled.span`\r\n  font-size: 1rem;\r\n`;\r\nconst InputTitle = styled.h5`\r\n  font-size: 1rem;\r\n  padding-top: 1em;\r\n  font-weight: bold;\r\n`;\r\nconst InputStyle = styled.input`\r\n  font-size: 1rem;\r\n  border: 1px solid #797979;\r\n  padding: 0.5em;\r\n  width: ${(props) => props.size};\r\n  border-radius: 5px;\r\n`;\r\nconst Radio = styled(InputStyle).attrs({\r\n  type: 'radio',\r\n})`\r\n  font-size: 18px;\r\n  margin: 1em;\r\n  height: 1em;\r\n  width: 1em;\r\n`;\r\nconst Header = styled(HeaderContainer)`\r\n  align-items: baseline;\r\n`;\r\nconst Error = styled(ErrorMessage)`\r\n  font-size: 1em;\r\n`;\r\nconst Required = styled.span`\r\n  color: #e74149;\r\n  margin-left: 0.5em;\r\n  font-size: 1rem;\r\n`;\r\nconst SameReceiver = styled.div`\r\n  display: inline-block;\r\n  margin-left: 80px;\r\n`;\r\nconst MemoRequired = memo(({ content }) => <Required>{content}</Required>);\r\nconst MemoTitle = memo(({ inputTitle, required }) => (\r\n  <InputTitle>\r\n    {inputTitle}\r\n    {required ? <MemoRequired content={'*'} /> : ''}\r\n  </InputTitle>\r\n));\r\nconst NextBtn = styled.button`\r\n  position: absolute;\r\n  right: 0;\r\n  margin-top: 40px;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  color: #07273c;\r\n  font-size: 22px;\r\n  box-shadow: 5px 5px 5px #0e4e7c;\r\n  border-radius: 5px;\r\n  border: 2px solid #07273c;\r\n  padding: 0.5em 1.3em;\r\n  text-decoration: none;\r\n  background-color: white;\r\n  &:hover {\r\n    color: white;\r\n    background-color: #07273c;\r\n    text-decoration: none;\r\n  }\r\n`;\r\nconst CountryInputs = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\nconst InputSelect = ({ inputTitle, name, required, options, valid, value, errorMessage, onChange }) => {\r\n  return (\r\n    <WrapperInput>\r\n      <HeaderContainer>\r\n        <MemoTitle inputTitle={inputTitle} required={required} />\r\n        {!valid && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n      </HeaderContainer>\r\n      <select name={name} value={value} onChange={onChange}>\r\n        {options.map((option) => (\r\n          <option key={option.id} value={option.id}>\r\n            {option.cityName ? option.cityName : option.districtName}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </WrapperInput>\r\n  );\r\n};\r\nconst SameReceiverBtn = ({ onChange, value }) => {\r\n  return (\r\n    <SameReceiver>\r\n      <WrapperInput htmlFor=\"SameReceiver\">\r\n        {value ? (\r\n          <Radio name=\"sameRecipient\" type=\"radio\" id=\"SameReceiver\" onChange={onChange} value={value} />\r\n        ) : (\r\n          <Radio name=\"sameRecipient\" type=\"radio\" id=\"SameReceiver\" onChange={onChange} />\r\n        )}\r\n        <RadioInputContent>收件人資訊與會員資料相同</RadioInputContent>\r\n      </WrapperInput>\r\n    </SameReceiver>\r\n  );\r\n};\r\nconst InputRadio = ({ inputTitle, content, required }) => {\r\n  return (\r\n    <div>\r\n      <WrapperInput htmlFor={inputTitle}>\r\n        <MemoTitle inputTitle={inputTitle} required={required} />\r\n        <Radio type=\"radio\" id={inputTitle} value={content} defaultChecked={inputTitle} />\r\n        <RadioInputContent>{content}</RadioInputContent>\r\n      </WrapperInput>\r\n    </div>\r\n  );\r\n};\r\nconst StyledInput = ({ inputTitle, name, inputType, required, size, onChange, valid, errorMessage, placeholder, value }) => {\r\n  return (\r\n    <WrapperInput>\r\n      <Header>\r\n        <MemoTitle inputTitle={inputTitle} required={required} />\r\n        {!valid && <Error>{errorMessage}</Error>}\r\n      </Header>\r\n      <InputStyle name={name} type={inputType} size={size} value={value} required=\"required\" onChange={onChange} placeholder={placeholder} />\r\n    </WrapperInput>\r\n  );\r\n};\r\nexport default function Recipient() {\r\n  const isSubmit = useRef(false);\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const [cities, setCities] = useState([]);\r\n  const [districts, setDistricts] = useState([]);\r\n  const [selectedCity, setSelectedCity] = useState('');\r\n  const [selectedDistrict, setSelectedDistrict] = useState('');\r\n  const [sameRecipient, setSameRecipient] = useState(false);\r\n  const [name, setName] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [address, setAddress] = useState('');\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(initRecipientFormErrorData);\r\n  const userInfo = useSelector(selectUserInfo);\r\n\r\n  useEffect(() => {\r\n    dispatch(getMemberInfo())\r\n    setCartToken([]);\r\n    dispatch(updateCart());\r\n    getCities()\r\n      .then((res) => {\r\n        setCities(res.data.cities);\r\n        setSelectedCity(res.data.cities[0].id);\r\n        return getDistricts(res.data.cities[0].id);\r\n      })\r\n      .then((res) => {\r\n        setSelectedDistrict(res.data.districts[0].id);\r\n        setDistricts(res.data.districts);\r\n        return setIsLoaded(true);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!selectedCity) return;\r\n    getDistricts(selectedCity).then((res) => {\r\n      setDistricts(res.data.districts);\r\n      setSelectedDistrict(res.data.districts[0].id);\r\n      return;\r\n    });\r\n  }, [selectedCity]);\r\n\r\n  const checkPhoneValid = (value) => {\r\n    if (!isPhoneValid(value)) {\r\n      return setErrorMessage({\r\n        ...errorMessage,\r\n        phone: { valid: false, message: '手機格式錯誤' },\r\n      });\r\n    }\r\n    setErrorMessage({\r\n      ...errorMessage,\r\n      phone: { valid: true, message: '' },\r\n    });\r\n  };\r\n  const checkEmailValid = (value) => {\r\n    if (!isEmailValid(value)) {\r\n      return setErrorMessage({\r\n        ...errorMessage,\r\n        email: { valid: false, message: '信箱格式錯誤' },\r\n      });\r\n    }\r\n    setErrorMessage({\r\n      ...errorMessage,\r\n      email: { valid: true, message: '' },\r\n    });\r\n  };\r\n  const checkNameValid = (value) => {\r\n    if (!value) {\r\n      return setErrorMessage({\r\n        ...errorMessage,\r\n        name: { valid: false, message: '請輸入姓名' },\r\n      });\r\n    }\r\n    if (value.length > 20) {\r\n      return setErrorMessage({\r\n        ...errorMessage,\r\n        name: { valid: false, message: '字數限制為20' },\r\n      });\r\n    }\r\n    setErrorMessage({\r\n      ...errorMessage,\r\n      name: { valid: true, message: '' },\r\n    });\r\n  };\r\n  const handleInputChange = (e) => {\r\n    const { value, name } = e.target;\r\n    if (name === 'name') {\r\n      checkNameValid(value);\r\n      return setName(value);\r\n    }\r\n    if (name === 'phone') {\r\n      checkPhoneValid(value);\r\n      return setPhone(value);\r\n    }\r\n    if (name === 'email') {\r\n      checkEmailValid(value);\r\n      return setEmail(value);\r\n    }\r\n    if (name === 'address') {\r\n      return setAddress(value);\r\n    }\r\n    if (name === 'city') {\r\n      return setSelectedCity(value);\r\n    }\r\n    if (name === 'district') {\r\n      return setSelectedDistrict(value);\r\n    }\r\n    if (name === 'sameRecipient') {\r\n      console.log(value);\r\n      if (value !== 'on') return\r\n      setName(userInfo.realName);\r\n      setPhone(userInfo.phone);\r\n      setEmail(userInfo.email);\r\n    }\r\n  };\r\n  const checkProductValid = () => {\r\n    checkEmailValid(email);\r\n    checkPhoneValid(phone);\r\n    checkNameValid(name);\r\n  };\r\n  const handleAddRecipient = (e) => {\r\n    checkProductValid();\r\n    isSubmit.current = true;\r\n    for (let prop in errorMessage) {\r\n      if (!errorMessage[prop].valid) {\r\n        return (isSubmit.current = false);\r\n      }\r\n    }\r\n    console.log(isSubmit.current);\r\n    if (isSubmit.current) {\r\n      addRecipient({ name, phone, email, address, orderId: id, cityId: selectedCity, districtId: selectedDistrict }).then((res) => {\r\n        console.log(res);\r\n        if (!res.success) {\r\n          alert(res.message.toString());\r\n          return;\r\n        }\r\n        return window.location.assign(`https://huiming.tw/v1/payments/${id}`);\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <Root>\r\n      <Container>\r\n        <H3>配送資訊</H3>\r\n        <ReceiverInfoForm>\r\n          <FormHeader>\r\n            <FormTitle>收件人資訊</FormTitle>\r\n            <SameReceiverBtn onChange={handleInputChange} value={sameRecipient} />\r\n          </FormHeader>\r\n          <StyledInput\r\n            inputTitle=\"姓名\"\r\n            name=\"name\"\r\n            inputType=\"text\"\r\n            required={true}\r\n            size=\"45%\"\r\n            value={name}\r\n            onChange={handleInputChange}\r\n            valid={errorMessage['name'].valid}\r\n            errorMessage={errorMessage['name'].message}\r\n            placeholder=\"請輸入真實姓名\"\r\n          />\r\n          <StyledInput\r\n            inputTitle=\"電子郵件\"\r\n            name=\"email\"\r\n            inputType=\"email\"\r\n            required={true}\r\n            size=\"95%\"\r\n            value={email}\r\n            onChange={handleInputChange}\r\n            valid={errorMessage['email'].valid}\r\n            errorMessage={errorMessage['email'].message}\r\n            placeholder=\"請輸入電子郵件\"\r\n          />\r\n\r\n          <StyledInput\r\n            inputTitle=\"手機\"\r\n            name=\"phone\"\r\n            inputType=\"phone\"\r\n            required={true}\r\n            size=\"45%\"\r\n            value={phone}\r\n            onChange={handleInputChange}\r\n            valid={errorMessage['phone'].valid}\r\n            errorMessage={errorMessage['phone'].message}\r\n            placeholder=\"請輸入手機號碼\"\r\n          />\r\n\r\n          {isLoaded ? (\r\n            <CountryInputs>\r\n              <InputSelect inputTitle=\"縣市\" name=\"city\" required={true} options={cities} onChange={handleInputChange} value={selectedCity} />\r\n              <InputSelect\r\n                inputTitle=\"區/鄉鎮\"\r\n                name=\"district\"\r\n                required={true}\r\n                options={districts}\r\n                onChange={handleInputChange}\r\n                value={selectedDistrict}\r\n              />\r\n            </CountryInputs>\r\n          ) : (\r\n            ''\r\n          )}\r\n          <StyledInput\r\n            inputTitle=\"地址\"\r\n            name=\"address\"\r\n            inputType=\"text\"\r\n            required={true}\r\n            size=\"95%\"\r\n            value={address}\r\n            onChange={handleInputChange}\r\n            valid={errorMessage['address'].valid}\r\n            errorMessage={errorMessage['address'].message}\r\n            placeholder=\"請輸入正確格式，例如：台灣大道五段 29 巷 8-1 號\"\r\n          />\r\n          <InputRadio inputTitle=\"配送選項\" name=\"\" required={true} content=\"僅限宅配\" />\r\n          <InputRadio inputTitle=\"付款方式\" name=\"\" required={true} content=\"僅限信用卡支付\" />\r\n        </ReceiverInfoForm>\r\n        <NextBtn onClick={handleAddRecipient}>下一步</NextBtn>\r\n      </Container>\r\n    </Root>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport Recipient from '../../component/Recipient';\r\n\r\nexport default function RecipientPage() {\r\n  return (\r\n    <>\r\n      <Recipient />\r\n    </>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { device } from '../../style/breakpoints';\r\n\r\nconst Container = styled.div`\r\n  margin: 80px auto;\r\n  margin-bottom: 40px;\r\n  position: relative;\r\n  font-size: 24px;\r\n`;\r\nconst H3 = styled.h3`\r\n  font-size: 1.3em;\r\n  padding-top: 40px;\r\n  font-weight: bold;\r\n`;\r\nconst SuccessInfoWrapper = styled.div`\r\n  background-color: rgba(14, 78, 124, 0.2);\r\n  padding: 2em;\r\n  text-align: center;\r\n  width: 400px;\r\n  margin: 0 auto;\r\n  @media ${device.Tablets} {\r\n    width: 50vw;\r\n  }\r\n`;\r\nconst OrderDesc = styled.p`\r\n  font-size: 1em;\r\n  color: #000;\r\n  margin-top: 80px;\r\n`;\r\nconst OrderTips = styled.p`\r\n  color: #7f7f7f;\r\n  font-size: 24px;\r\n  margin-top: 50px;\r\n`;\r\nconst OrderLink = styled(Link)`\r\n  color: #169bd5;\r\n  cursor: pointer;\r\n  &:hover {\r\n    text-decoration: none;\r\n  }\r\n`;\r\nconst HomeBtn = styled(Link)`\r\n  margin-top: 40px;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  color: #07273c;\r\n  font-size: 26px;\r\n  box-shadow: 5px 5px 5px #0e4e7c;\r\n  border-radius: 5px;\r\n  border: 2px solid #07273c;\r\n  padding: 0.5em 1.3em;\r\n  text-decoration: none;\r\n  background-color: white;\r\n  &:hover {\r\n    color: white;\r\n    background-color: #07273c;\r\n    opacity: 0.7;\r\n    text-decoration: none;\r\n  }\r\n`;\r\nconst OrderBtn = styled(Link)`\r\n  margin: 40px 0 0 30px;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  font-size: 26px;\r\n  box-shadow: 5px 5px 5px #0e4e7c;\r\n  border-radius: 5px;\r\n  border: 2px solid #07273c;\r\n  padding: 0.5em 1.3em;\r\n  text-decoration: none;\r\n  color: white;\r\n  background-color: #07273c;\r\n  &:hover {\r\n    text-decoration: none;\r\n    color: white;\r\n    opacity: 0.7;\r\n  }\r\n`;\r\nconst BtnWrapper = styled.div`\r\n  display: flex;\r\n  margin: 30px auto;\r\n  justify-content: center;\r\n`;\r\n\r\nexport default function Transaction() {\r\n  const { id } = useParams();\r\n  return (\r\n    <>\r\n      <Container>\r\n        <SuccessInfoWrapper>\r\n          <H3>訂單成立</H3>\r\n          <OrderDesc>\r\n            您的訂單編號為\r\n            <OrderLink to={`/membership/order/${id}`}> {id.slice(0, 8)}</OrderLink>\r\n            <OrderTips>若要查詢訂單狀況，請點選以下查詢訂單</OrderTips>\r\n          </OrderDesc>\r\n        </SuccessInfoWrapper>\r\n        <BtnWrapper>\r\n          <HomeBtn to=\"/\">回到首頁</HomeBtn>\r\n          <OrderBtn to=\"/membership/order\">查詢訂單</OrderBtn>\r\n        </BtnWrapper>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport Transaction from '../../component/Transaction';\r\n\r\nexport default function TransactionPage() {\r\n  return (\r\n    <>\r\n      <Transaction />\r\n    </>\r\n  );\r\n}\r\n","import { useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link} from 'react-router-dom';\r\nimport { device } from '../../style/breakpoints';\r\nconst AsideWrapper = styled.div`\r\n  width: 250px;\r\n  position: fixed;\r\n  z-index: 1;\r\n  @media ${device.Desktops} {\r\n    position: absolute;\r\n  }\r\n`;\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  width: 200px;\r\n  padding: 0 30px;\r\n  position: absolute;\r\n  z-index: 10;\r\n  top: 30%;\r\n  left: -300%;\r\n  transition: left 0.4s ease-in;\r\n  background-color: ${(props) => props.theme.background};\r\n  text-align: center;\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    left:0;\r\n  `};\r\n  @media ${device.Desktops} {\r\n    background-color: unset;\r\n    left: 0;\r\n    top:30px;\r\n    width: unset;\r\n  }\r\n`;\r\n\r\nconst LinkContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  text-align: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Nav = styled(Link)`\r\n  color: ${(props) => props.theme.titleColor};\r\n  font-size: 18px;\r\n  padding: 8px 0;\r\n\r\n  &:hover {\r\n    color: ${(props) => props.theme.textHover};\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nconst AsideTitle = styled.h3`\r\n  color: ${(props) => props.theme.titleColor};\r\n  border-bottom: 1px solid ${(props) => props.theme.borderColor};\r\n  font-size: 24px;\r\n  padding: 10px 20px;\r\n`;\r\n\r\nconst AsideBtn = styled.div`\r\n  border-radius: 5px;\r\n  writing-mode: vertical-lr;\r\n  padding: 8px;\r\n  background-color: ${(props) => props.theme.background};\r\n  color: white;\r\n  position: fixed;\r\n  top: 30%;\r\n  left: -5px;\r\n  cursor: pointer;\r\n  transition: all 0.8s ease-in;\r\n\r\n  &:hover {\r\n    background-color: ${(props) => props.theme.navbarHover};\r\n    color: ${(props) => props.theme.textHover};\r\n  }\r\n\r\n  ${(props) =>\r\n    !props.$active &&\r\n    `\r\n    left:-100%;\r\n  `};\r\n\r\n  @media ${device.Desktops} {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport default function Aside() {\r\n  const [isShowAside, setIsShowAside] = useState(false);\r\n  const [isShowAsideBtn, setIsShowAsideBtn] = useState(true);\r\n\r\n  const handleMouseEnter = () => {\r\n    if (isShowAside) return;\r\n    setIsShowAside(true);\r\n    setIsShowAsideBtn(false);\r\n  };\r\n  const handleMouseLeave = () => {\r\n    setIsShowAside(false);\r\n    setIsShowAsideBtn(true);\r\n  };\r\n  return (\r\n    <AsideWrapper>\r\n      <AsideBtn onClick={handleMouseEnter} $active={isShowAsideBtn}>\r\n        menu\r\n      </AsideBtn>\r\n      <Container onMouseLeave={handleMouseLeave} $active={isShowAside}>\r\n        <AsideTitle>後台管理</AsideTitle>\r\n        <LinkContainer>\r\n          <Nav to=\"/backstage/products\">商品管理</Nav>\r\n          <Nav to=\"/backstage/orders\">訂單管理</Nav>\r\n        </LinkContainer>\r\n      </Container>\r\n    </AsideWrapper>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  padding: 8px 18px;\r\n  color: white;\r\n  background-color: ${(props) => props.theme.background};\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n  box-shadow: 2px 2px 2px ${(props) => props.theme.shadow};\r\n  cursor: pointer;\r\n  transition: all 0.4s ease-in-out;\r\n  &:hover {\r\n    background-color: ${(props) => props.theme.background}77;\r\n  }\r\n  ${(props) =>\r\n    props.$size === 's' &&\r\n    `\r\n    padding:8px;\r\n    font-weight: normal;\r\n  `}\r\n`;\r\nconst ButtonLight = styled(Button)`\r\n  color: ${(props) => props.theme.textColor};\r\n  background-color: white;\r\n  &:hover {\r\n    background-color: ${(props) => props.theme.navbarHover};\r\n    color: ${(props) => props.theme.textHover};\r\n  }\r\n`;\r\n\r\nexport { Button, ButtonLight };\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport {\r\n  getProduct as getProductAPI,\r\n  getModel as getModelAPI,\r\n  deleteModel as deleteModelAPI,\r\n  updateModelStatus as updateModelStatusAPI,\r\n  updateModel as updateModelAPI,\r\n  addModel as addModelAPI\r\n} from '../../WebAPI';\r\n\r\nexport const modelsSlice = createSlice({\r\n  name: 'models',\r\n  initialState: {\r\n    models: [],\r\n    model: {},\r\n    errorMessage: '',\r\n  },\r\n  reducers: {\r\n    setModels: (state, action) => {\r\n      state.models = action.payload;\r\n    },\r\n    setModel: (state, action) => {\r\n      state.model = action.payload;\r\n    },\r\n    setErrorMessage: (state, action) => {\r\n      state.errorMessage = action.payload;\r\n    },\r\n  },\r\n});\r\nexport const getModels = (id) => (dispatch) =>\r\n  getProductAPI(id).then((res) => {\r\n    if (!res.success) {\r\n      dispatch(setModels([]));\r\n      return res;\r\n    }\r\n    dispatch(setModels(res.data.product.Product_models));\r\n    return res.data.product.Product_models;\r\n  });\r\n\r\nexport const getModel = (id) => (dispatch) =>\r\n  getModelAPI(id).then((res) => {\r\n    if (!res.success) {\r\n      dispatch(setModel({}));\r\n      return res;\r\n    }\r\n    dispatch(setModel(res.data.model));\r\n    return res.data.model;\r\n  });\r\n\r\nexport const deleteModel = (id) => (dispatch) =>\r\n  deleteModelAPI(id).then((res) => {\r\n    if (!res.success) {\r\n      dispatch(setErrorMessage(res.message));\r\n      return res;\r\n    }\r\n    return res;\r\n  });\r\n\r\nexport const updateModelStatus = (data) => (dispatch) =>\r\n  updateModelStatusAPI(data).then((newData) => {\r\n    if (!newData.success) {\r\n      dispatch(setErrorMessage(newData.message));\r\n      return newData;\r\n    }\r\n    dispatch(setModel(newData.data.model));\r\n    return newData;\r\n  });\r\n\r\nexport const updateModel = (data) => (dispatch) =>\r\n  updateModelAPI(data).then((newData) => {\r\n    if (!newData.success) {\r\n      dispatch(setErrorMessage(newData.message));\r\n      return newData;\r\n    }\r\n    return newData;\r\n  });\r\n\r\nexport const addModel = (data) => (dispatch) =>\r\n  addModelAPI(data).then((newData) => {\r\n    if (!newData.success) {\r\n      dispatch(setErrorMessage(newData.message));\r\n      return newData;\r\n    }\r\n    return newData.data;\r\n  });\r\n\r\n\r\nexport const { setModels, setModel, setErrorMessage } = modelsSlice.actions;\r\n\r\nexport const selectModels = (state) => state.models.models;\r\nexport const selectModel = (state) => state.models.model;\r\nexport const selectErrorMessage = (state) => state.models.errorMessage;\r\n\r\nexport default modelsSlice.reducer;\r\n","import styled from 'styled-components';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport Aside from '../../../component/Aside';\r\nimport { ButtonLight } from '../../../component/Button';\r\nimport { device } from '../../../style/breakpoints';\r\nimport Input, { InputContainer } from '../../../component/Input';\r\nimport { isColorChipValid, isStorageValid } from '../../../utils';\r\nimport { useParams, useHistory } from 'react-router';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addModel } from '../../../redux/reducers/modelsSlice';\r\nimport { getProduct, selectProduct } from '../../../redux/reducers/productsSlice';\r\n\r\nconst Root = styled.div`\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  @media ${device.Desktops} {\r\n    display: flex;\r\n  }\r\n`;\r\nconst Header = styled.div`\r\n  position: relative;\r\n`;\r\nconst Container = styled.div`\r\n  position: relative;\r\n  top: 40px;\r\n  left: 50%;\r\n  max-width: 80%;\r\n  margin-bottom: 40px;\r\n  font-size: 24px;\r\n  transform: translate(-50%);\r\n  width: 80%;\r\n  @media ${device.Tablets} {\r\n    width: 60%;\r\n  }\r\n`;\r\nconst Title = styled.h3`\r\n  font-size: 1em;\r\n  color: ${(props) => props.theme.titleColor};\r\n  margin: 0 16px 20px 40px;\r\n  display: inline-block;\r\n`;\r\nconst Form = styled.form`\r\n  max-width: 100%;\r\n  padding: 24px;\r\n  position: relative;\r\n  /* height: 730px; */\r\n  padding-bottom: 7em;\r\n  box-shadow: 0px 1px 4px 1px ${(props) => props.theme.shadow};\r\n  @media ${device.Tablets} {\r\n    min-width: 70%;\r\n  }\r\n`;\r\nconst SubmitBtn = styled(ButtonLight)`\r\n  position: absolute;\r\n  right: 50%;\r\n  bottom: 20px;\r\n  transform: translate(50%);\r\n  @media ${device.Tablets} {\r\n    right: 30px;\r\n    bottom: 30px;\r\n    transform: unset;\r\n  }\r\n`;\r\nconst modelErrorMessageInit = {\r\n  modelName: { valid: true, message: '' },\r\n  colorChip: { valid: true, message: '' },\r\n  storage: { valid: true, message: '' },\r\n};\r\nexport default function AddModelPage() {\r\n  let { id, action } = useParams();\r\n  const history = useHistory();\r\n  console.log(history);\r\n  const isSubmit = useRef(false);\r\n  const product = useSelector(selectProduct);\r\n  const dispatch = useDispatch();\r\n  const [modelErrorMessage, setModelErrorMessage] = useState(modelErrorMessageInit);\r\n  const [modelName, setModelName] = useState('');\r\n  const [colorChip, setColorChip] = useState('');\r\n  const [storage, setStorage] = useState('');\r\n\r\n  console.log(action);\r\n  console.log(modelErrorMessage);\r\n  useEffect(() => {\r\n    if (action !== 'product') {\r\n      dispatch(getProduct(id));\r\n    }\r\n  }, [dispatch, id]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    console.log(value);\r\n    if (name === 'modelName') {\r\n      updateModelNameIsValid(value);\r\n      return setModelName(value);\r\n    }\r\n    if (name === 'colorChip') {\r\n      updateColorChipIsValid(value);\r\n      return setColorChip(value);\r\n    }\r\n    if (name === 'storage') {\r\n      updateStorageIsValid(value);\r\n      return setStorage(value);\r\n    }\r\n  };\r\n\r\n  const updateModelNameIsValid = (value) => {\r\n    if (!value || value.length > 2) {\r\n      return setModelErrorMessage((modelErrorMessage) => ({\r\n        ...modelErrorMessage,\r\n        modelName: { valid: false, message: '請輸入色表兩碼縮寫' },\r\n      }));\r\n    }\r\n    return setModelErrorMessage((modelErrorMessage) => ({\r\n      ...modelErrorMessage,\r\n      modelName: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const updateColorChipIsValid = (value) => {\r\n    if (!isColorChipValid(value)) {\r\n      return setModelErrorMessage((modelErrorMessage) => ({\r\n        ...modelErrorMessage,\r\n        colorChip: { valid: false, message: '請輸入正確的色票格式' },\r\n      }));\r\n    }\r\n    return setModelErrorMessage((modelErrorMessage) => ({\r\n      ...modelErrorMessage,\r\n      colorChip: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const updateStorageIsValid = (value) => {\r\n    console.log(isStorageValid(value));\r\n    if (!isStorageValid(value)) {\r\n      return setModelErrorMessage((modelErrorMessage) => ({\r\n        ...modelErrorMessage,\r\n        storage: { valid: false, message: '請輸入數量或最大限制為1000' },\r\n      }));\r\n    }\r\n    return setModelErrorMessage((modelErrorMessage) => ({\r\n      ...modelErrorMessage,\r\n      storage: { valid: true, message: '' },\r\n    }));\r\n  };\r\n\r\n  const handleAddModel = (e) => {\r\n    e.preventDefault();\r\n    isSubmit.current = true;\r\n    for (let prop in modelErrorMessage) {\r\n      if (!modelErrorMessage[prop].valid) {\r\n        return (isSubmit.current = false);\r\n      }\r\n    }\r\n    if (isSubmit) {\r\n      dispatch(addModel({ id, modelName, colorChip, storage })).then((res) => console.log(res));\r\n      if (action === 'product') {\r\n        history.push(`/backstage/add-product/photo/${id}`);\r\n      } else {\r\n        history.goBack();\r\n      }\r\n\r\n      // 如果preLocation include 'product-models'，成功後自動callback\r\n      // 如果是add-product ，成功後轉到新增照片＝>連結照片\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Root>\r\n      <Aside />\r\n      <Container>\r\n        <Header>\r\n          <Title>新增商品型號</Title>\r\n          <ButtonLight $size={'s'} onClick={() => history.goBack()}>\r\n            返回\r\n          </ButtonLight>\r\n        </Header>\r\n        <Form id=\"addModelForm\">\r\n          <InputContainer>\r\n            <Input\r\n              inputTitle={'庫存'}\r\n              inputType={'number'}\r\n              size={'90%'}\r\n              name={'storage'}\r\n              value={storage}\r\n              onChange={handleInputChange}\r\n              errorMessage={modelErrorMessage['storage'].message}\r\n              required\r\n            />\r\n            <Input\r\n              inputTitle={'型號'}\r\n              inputType={'text'}\r\n              size={'90%'}\r\n              name={'modelName'}\r\n              value={modelName}\r\n              onChange={handleInputChange}\r\n              valid={modelErrorMessage['modelName'].valid}\r\n              errorMessage={modelErrorMessage['modelName'].message}\r\n              placeholder=\"\"\r\n              required\r\n            />\r\n          </InputContainer>\r\n          <InputContainer>\r\n            <Input\r\n              inputTitle={'顏色'}\r\n              inputType={'text'}\r\n              size={'90%'}\r\n              name={'colorChip'}\r\n              value={colorChip}\r\n              onChange={handleInputChange}\r\n              valid={modelErrorMessage['colorChip'].valid}\r\n              errorMessage={modelErrorMessage['colorChip'].message}\r\n              placeholder=\"請輸入色票 例如：aa22cc\"\r\n              required\r\n            />\r\n          </InputContainer>\r\n          <SubmitBtn onClick={handleAddModel} type=\"submit\" form=\"addModelForm\">\r\n            送出\r\n          </SubmitBtn>\r\n        </Form>\r\n      </Container>\r\n    </Root>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { useState, useEffect } from 'react';\r\nimport Aside from '../../../component/Aside';\r\nimport { ButtonLight } from '../../../component/Button';\r\nimport { device } from '../../../style/breakpoints';\r\nimport { useParams, useHistory } from 'react-router';\r\nimport { addProductPhoto, linkProductPhotos } from '../../../WebAPI';\r\nconst Root = styled.div`\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  @media ${device.Desktops} {\r\n    display: flex;\r\n  }\r\n`;\r\nconst Container = styled.div`\r\n  position: relative;\r\n  top: 40px;\r\n  left: 50%;\r\n  max-width: 80%;\r\n  margin-bottom: 40px;\r\n  font-size: 24px;\r\n  transform: translate(-50%);\r\n  width: 80%;\r\n  @media ${device.Tablets} {\r\n    width: 60%;\r\n  }\r\n`;\r\nconst Title = styled.h3`\r\n  font-size: 1em;\r\n  color: ${(props) => props.theme.titleColor};\r\n  margin: 0 16px 20px 40px;\r\n  display: inline-block;\r\n`;\r\nconst Form = styled.form`\r\n  max-width: 100%;\r\n  padding: 24px;\r\n  position: relative;\r\n  padding-bottom: 7em;\r\n  box-shadow: 0px 1px 4px 1px ${(props) => props.theme.shadow};\r\n  @media ${device.Tablets} {\r\n    min-width: 70%;\r\n  }\r\n`;\r\nconst SubmitBtn = styled(ButtonLight)`\r\n  position: absolute;\r\n  right: 50%;\r\n  bottom: 20px;\r\n  transform: translate(50%);\r\n  @media ${device.Tablets} {\r\n    right: 30px;\r\n    bottom: 30px;\r\n    transform: unset;\r\n  }\r\n`;\r\nconst PhotosContainer = styled.div`\r\n  margin-top: 30px;\r\n`;\r\n\r\nexport default function AddPhotoPage() {\r\n  let { id } = useParams();\r\n  const history = useHistory();\r\n  const [photos, setPhotos] = useState([]);\r\n  const handleInputChange = (e) => {\r\n    return new Promise((resolve, reject) => {\r\n      const formData = new FormData();\r\n      for (let i = 0; i < e.target.files.length; i += 1) {\r\n        formData.append('files', e.target.files[i]);\r\n      }\r\n      addProductPhoto(formData)\r\n        .then((result) => {\r\n          setPhotos([...photos, ...result.data.photos]);\r\n          resolve(result.photos);\r\n        })\r\n        .catch((error) => {\r\n          reject('Upload failed');\r\n          console.error('Error:', error);\r\n        });\r\n    });\r\n  };\r\n\r\n  const handleAddProductPhotos = (e) => {\r\n    e.preventDefault();\r\n    const photosIdArray = photos.map((photo) => photo.id);\r\n    linkProductPhotos({ id, photos: photosIdArray }).then((data) => {\r\n      if (data.success) {\r\n        alert('新增商品成功！！');\r\n        history.push('/backstage/products');\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Root>\r\n      <Aside />\r\n      <Container>\r\n        <Title>新增商品圖片</Title>\r\n        <Form id=\"addPhotosForm\">\r\n          <input type=\"file\" multiple onChange={handleInputChange} />\r\n          <PhotosContainer>{photos && photos.map((photo) => <img key={photo.id} src={photo.url} width=\"100\" height=\"80\" />)}</PhotosContainer>\r\n          <SubmitBtn onClick={handleAddProductPhotos} type=\"submit\" form=\"addPhotosForm\">\r\n            送出\r\n          </SubmitBtn>\r\n        </Form>\r\n      </Container>\r\n    </Root>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useQuill } from 'react-quilljs';\r\nimport ImageResize from 'quill-image-resize-module--fix-imports-error';\r\nimport ImageUploader from 'quill-image-uploader';\r\nimport { addArticlePhoto } from '../../WebAPI';\r\nimport 'quill/dist/quill.snow.css';\r\nimport styled from 'styled-components';\r\nimport { device } from '../../style/breakpoints';\r\nconst Container = styled.div`\r\n  min-height: 300px;\r\n  max-height: 400px;\r\n\r\n  @media ${device.Tablets} {\r\n    max-width: 100%;\r\n  }\r\n  .ql-container {\r\n    min-height: 250px;\r\n    overflow: auto;\r\n\r\n    @media ${device.Tablets} {\r\n      height: 380px;\r\n    }\r\n    .ql-editor {\r\n      word-break: break-all;\r\n      text-align: center;\r\n    }\r\n  }\r\n`;\r\nconst contentInit = [\r\n  {\r\n    insert: 'FEATURES ',\r\n    attributes: {\r\n      align: 'center',\r\n      size: 'huge',\r\n    },\r\n  },\r\n  {\r\n    insert: `請於此輸入你的特色說明 `,\r\n    attributes: { align: 'center' },\r\n  },\r\n  { insert: { image: 'https://fakeimg.pl/600x400/' } },\r\n  { insert: ' ', attributes: { align: 'center' } },\r\n  { insert: { image: 'https://fakeimg.pl/150/' } },\r\n  { insert: { image: 'https://fakeimg.pl/150/' } },\r\n  { insert: { image: 'https://fakeimg.pl/150/' } },\r\n  { insert: { image: 'https://fakeimg.pl/150/' } },\r\n  { insert: '\\n' },\r\n];\r\n\r\nexport default function Editor({ onChange, content }) {\r\n  const counterRef = React.useRef();\r\n  const modules = {\r\n    imageResize: {\r\n      displaySize: true,\r\n    },\r\n    toolbar: [[{ header: [1, 2, 3, 4, false] }], [{ align: [] }], ['bold', 'italic', 'underline'], ['link', 'image'], ['clean']],\r\n    imageUploader: {\r\n      upload: (files) => {\r\n        return new Promise((resolve, reject) => {\r\n          const formData = new FormData();\r\n          formData.append('files', files);\r\n\r\n          addArticlePhoto(formData)\r\n            .then((result) => {\r\n              console.log(result);\r\n              resolve(result.url);\r\n            })\r\n            .catch((error) => {\r\n              reject('Upload failed');\r\n              console.error('Error:', error);\r\n            });\r\n        });\r\n      },\r\n    },\r\n  };\r\n\r\n\r\n  const { quill, quillRef, Quill } = useQuill({ modules });\r\n  if (Quill && !quill) {\r\n    Quill.debug('error')\r\n    Quill.register({ 'modules/imageResize': ImageResize, 'modules/imageUploader': ImageUploader });\r\n  }\r\n  useEffect(() => {\r\n    if (quill) {\r\n      quill.setContents(content ? JSON.parse(content): contentInit);\r\n      quill.on('text-change', () => {\r\n        const text = quill.getContents();\r\n        console.log(text);\r\n        onChange(text);\r\n      });\r\n    }\r\n  }, [quill]);\r\n  return (\r\n    <Container>\r\n      <div ref={quillRef} />\r\n      <div ref={counterRef} />\r\n    </Container>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport Aside from '../../../component/Aside';\r\nimport { ButtonLight } from '../../../component/Button';\r\nimport { device } from '../../../style/breakpoints';\r\nimport Input, { InputSelect, InputTitle, InputContainer, ErrorMessage, HeaderContainer } from '../../../component/Input';\r\nimport Editor from '../../../component/Editor';\r\nimport { useParams, useHistory } from 'react-router';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addProduct, selectProduct } from '../../../redux/reducers/productsSlice';\r\nimport { isPriceValid, isProductNameValid } from '../../../utils';\r\n\r\nconst Root = styled.div`\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  @media ${device.Desktops} {\r\n    display: flex;\r\n  }\r\n`;\r\nconst Container = styled.div`\r\n  position: relative;\r\n  top: 40px;\r\n  left: 50%;\r\n  max-width: 80%;\r\n  margin-bottom: 40px;\r\n  font-size: 24px;\r\n  transform: translate(-50%);\r\n  width: 80%;\r\n  @media ${device.Tablets} {\r\n    width: 60%;\r\n  }\r\n`;\r\nconst Title = styled.h3`\r\n  font-size: 1em;\r\n  color: ${(props) => props.theme.titleColor};\r\n  margin: 0 16px 20px 40px;\r\n  display: inline-block;\r\n`;\r\nconst Form = styled.form`\r\n  max-width: 100%;\r\n  padding: 24px;\r\n  position: relative;\r\n  /* height: 730px; */\r\n  padding-bottom: 7em;\r\n  box-shadow: 0px 1px 4px 1px ${(props) => props.theme.shadow};\r\n  @media ${device.Tablets} {\r\n    min-width: 70%;\r\n  }\r\n`;\r\nconst SubmitBtn = styled(ButtonLight)`\r\n  position: absolute;\r\n  right: 50%;\r\n  bottom: 20px;\r\n  transform: translate(50%);\r\n  @media ${device.Tablets} {\r\n    right: 30px;\r\n    bottom: 30px;\r\n    transform: unset;\r\n  }\r\n`;\r\n\r\nconst productErrorMessageInit = {\r\n  price: { valid: true, message: '' },\r\n  productName: { valid: true, message: '' },\r\n  article: { valid: true, message: '' },\r\n  type: { valid: true, message: '' },\r\n};\r\nconst types = [\r\n  { name: '耳罩式耳機', value: '耳罩式耳機' },\r\n  { name: '入耳式耳機', value: '入耳式耳機' },\r\n  { name: '音響', value: '音響' },\r\n  { name: '週邊配件', value: '週邊配件' },\r\n];\r\nexport default function AddProductPage() {\r\n  let isValid = false;\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [productErrorMessage, setProductErrorMessage] = useState(productErrorMessageInit);\r\n  const [productName, setProductName] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [article, setArticle] = useState('');\r\n  const [type, setType] = useState('');\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name === 'productName') {\r\n      updateProductIsValid(value);\r\n      return setProductName(value);\r\n    }\r\n    if (name === 'price') {\r\n      updatePriceIsValid(value);\r\n      return setPrice(value);\r\n    }\r\n    if (name === 'type') {\r\n      updateTypeIsValid(value);\r\n      return setType(value);\r\n    }\r\n  };\r\n  const handleArticleChange = (data) => {\r\n    updateArticleIsValid(data);\r\n    setArticle(data);\r\n  };\r\n  const updateProductIsValid = (value) => {\r\n    if (!isProductNameValid(value)) {\r\n      return setProductErrorMessage((productErrorMessage) => ({\r\n        ...productErrorMessage,\r\n        productName: { valid: false, message: '請輸入正確格式' },\r\n      }));\r\n    }\r\n    return setProductErrorMessage((productErrorMessage) => ({\r\n      ...productErrorMessage,\r\n      productName: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const updateTypeIsValid = (value) => {\r\n    if (!value) {\r\n      return setProductErrorMessage((productErrorMessage) => ({\r\n        ...productErrorMessage,\r\n        type: { valid: false, message: '請選擇類別' },\r\n      }));\r\n    }\r\n    return setProductErrorMessage((productErrorMessage) => ({\r\n      ...productErrorMessage,\r\n      type: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const updatePriceIsValid = (value) => {\r\n    if (isPriceValid(value) === 0) {\r\n      return setProductErrorMessage((productErrorMessage) => ({\r\n        ...productErrorMessage,\r\n        price: { valid: false, message: '請輸入正確的格式且不得為空值' },\r\n      }));\r\n    }\r\n    if (isPriceValid(value) === 1) {\r\n      return setProductErrorMessage((productErrorMessage) => ({\r\n        ...productErrorMessage,\r\n        price: { valid: false, message: '價格上限為 29999' },\r\n      }));\r\n    }\r\n    return setProductErrorMessage((productErrorMessage) => ({\r\n      ...productErrorMessage,\r\n      price: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const updateArticleIsValid = (value) => {\r\n    if (!value) {\r\n      return setProductErrorMessage((productErrorMessage) => ({\r\n        ...productErrorMessage,\r\n        article: { valid: false, message: '請更改文章內容' },\r\n      }));\r\n    }\r\n    return setProductErrorMessage((productErrorMessage) => ({\r\n      ...productErrorMessage,\r\n      article: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const checkProductValid = () => {\r\n    updateProductIsValid(productName);\r\n    updatePriceIsValid(price);\r\n    updateTypeIsValid(type);\r\n    updateArticleIsValid(article);\r\n    if (productName && price && type && article) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  const handleAddProduct = (e) => {\r\n    e.preventDefault();\r\n    isValid = checkProductValid();\r\n    if (!isValid) return;\r\n    dispatch(addProduct({ productName, type, price, article: JSON.stringify(article) })).then((res) => {\r\n      history.push(`/backstage/add-model/${res.data.product.id}/product`);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Root>\r\n      <Aside />\r\n      <Container>\r\n        <Title>新增商品</Title>\r\n        <Form>\r\n          <InputContainer>\r\n            <Input\r\n              inputTitle=\"名稱\"\r\n              inputType=\"text\"\r\n              size=\"90%\"\r\n              name=\"productName\"\r\n              value={productName}\r\n              onChange={handleInputChange}\r\n              valid={productErrorMessage['productName'].valid}\r\n              errorMessage={productErrorMessage['productName'].message}\r\n              placeholder=\"範例:Other-04\"\r\n            />\r\n            <Input\r\n              inputTitle={'定價'}\r\n              inputType=\"number\"\r\n              size=\"90%\"\r\n              name=\"price\"\r\n              value={price}\r\n              onChange={handleInputChange}\r\n              valid={productErrorMessage['price'].valid}\r\n              errorMessage={productErrorMessage['price'].message}\r\n              placeholder=\"\b不得超過 29999\"\r\n            />\r\n          </InputContainer>\r\n          <InputContainer>\r\n            <InputSelect\r\n              inputTitle=\"類別\"\r\n              types={types}\r\n              size=\"90%\"\r\n              name=\"type\"\r\n              value={type}\r\n              onChange={handleInputChange}\r\n              valid={productErrorMessage['type'].valid}\r\n              errorMessage={productErrorMessage['type'].message}\r\n            />\r\n          </InputContainer>\r\n          <HeaderContainer>\r\n            <InputTitle>文案</InputTitle>\r\n            {!productErrorMessage['article'].valid && <ErrorMessage>{productErrorMessage['article'].message}</ErrorMessage>}\r\n          </HeaderContainer>\r\n          <Editor onChange={handleArticleChange} content={article} />\r\n          <SubmitBtn onClick={handleAddProduct}>送出</SubmitBtn>\r\n        </Form>\r\n      </Container>\r\n    </Root>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Aside from '../../../component/Aside';\r\nimport { ButtonLight } from '../../../component/Button';\r\nimport { device } from '../../../style/breakpoints';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getProducts, updateProductStatus, deleteProduct, selectProducts } from '../../../redux/reducers/productsSlice';\r\n\r\nconst Root = styled.div`\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  @media ${device.Desktops} {\r\n    display: flex;\r\n  }\r\n`;\r\nconst Container = styled.div`\r\n  position: relative;\r\n  top: 40px;\r\n  left: 50%;\r\n  max-width: 80%;\r\n  margin-bottom: 40px;\r\n  font-size: 24px;\r\n  transform: translate(-50%);\r\n  @media ${device.Tablets} {\r\n    width: 800px;\r\n  }\r\n`;\r\nconst Header = styled.div`\r\n  position: relative;\r\n`;\r\nconst Title = styled.h3`\r\n  font-size: 24px;\r\n  color: ${(props) => props.theme.titleColor};\r\n  margin: 0 16px 20px 40px;\r\n  display: inline-block;\r\n`;\r\nconst TableWrapper = styled.div`\r\n  width: 400px;\r\n  overflow: auto;\r\n  @media ${device.Tablets} {\r\n    width: unset;\r\n  }\r\n`;\r\nconst StyledTable = styled.table`\r\n  margin: 0 auto;\r\n  border: none;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  thead {\r\n    border-bottom: 1px solid ${(props) => props.theme.borderColor};\r\n    border-top: 1px solid ${(props) => props.theme.borderColor};\r\n    tr th {\r\n      font-size: 14px;\r\n      color: ${(props) => props.theme.textColor};\r\n      padding: 26px;\r\n    }\r\n  }\r\n\r\n  tbody {\r\n    border-bottom: 1px solid ${(props) => props.theme.borderColor};\r\n    tr td {\r\n      background-color: white;\r\n      padding: 20px;\r\n      align-items: center;\r\n      font-size: 1.2em;\r\n    }\r\n  }\r\n`;\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`;\r\nconst FilterSelector = styled.div`\r\n  font-size: 0.8em;\r\n  display: block;\r\n  @media ${device.Tablets} {\r\n    display: inline-block;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n  }\r\n`;\r\n\r\nconst Buttons = ({ isShow, handleProductDelete, id, handleProductIsShow }) => {\r\n  return (\r\n    <ButtonGroup>\r\n      <Link to={`/backstage/product-models/${id}`}>\r\n        <ButtonLight $size={'s'}>型號</ButtonLight>\r\n      </Link>\r\n      <Link to={`/backstage/edit-product/${id}`}>\r\n        <ButtonLight $size={'s'}>編輯</ButtonLight>\r\n      </Link>\r\n      <ButtonLight $size={'s'} onClick={() => handleProductIsShow({ id, isShow })}>\r\n        {isShow === 1 ? '下架' : '上架'}\r\n      </ButtonLight>\r\n      <ButtonLight $size={'s'} onClick={() => handleProductDelete(id)}>\r\n        刪除\r\n      </ButtonLight>\r\n    </ButtonGroup>\r\n  );\r\n};\r\nexport default function AllProductsPage() {\r\n  const dispatch = useDispatch();\r\n  const products = useSelector(selectProducts);\r\n  const history = useHistory();\r\n  const [sortFilter, setSortFilter] = useState('id');\r\n  const [order, setOrder] = useState('DESC');\r\n  const [type, setType] = useState('all');\r\n  const [update, setUpdate] = useState(false);\r\n  useEffect(() => dispatch(getProducts({ type, order, sort: sortFilter })), [update, dispatch, type, sortFilter, order]);\r\n  const handleProductDelete = (id) => {\r\n    dispatch(deleteProduct(id)).then(() => setUpdate(!update));\r\n  };\r\n  const handleProductIsShow = ({ id, isShow }) => {\r\n    dispatch(updateProductStatus({ id, isShow })).then((res) => {\r\n      if(!res.success){\r\n        alert(`請先確認型號已上架，系統將自動轉換`)\r\n       return history.push(`/backstage/product-models/${id}`);\r\n      }\r\n      setUpdate(!update)\r\n    });\r\n  };\r\n  return (\r\n    <Root>\r\n      <Aside />\r\n      <Container>\r\n        <Header>\r\n          <Title>所有商品</Title>\r\n          <Link to=\"/backstage/add-product\">\r\n            <ButtonLight $size={'s'}>新增商品</ButtonLight>\r\n          </Link>\r\n          <FilterSelector>\r\n            <select onChange={(e) => setType(e.target.value)} value={type}>\r\n              <option value={'all'}>全部</option>\r\n              <option value={1}>耳罩式耳機</option>\r\n              <option value={2}>入耳式耳機</option>\r\n              <option value={3}>音響</option>\r\n              <option value={4}>週邊配件</option>\r\n            </select>\r\n          </FilterSelector>\r\n        </Header>\r\n        <TableWrapper>\r\n          <StyledTable>\r\n            <thead>\r\n              <tr>\r\n                <th>Product ID</th>\r\n                <th>Name</th>\r\n                <th>Price - NT$</th>\r\n                <th>Type</th>\r\n                <th>Status</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {products.map((product) => (\r\n                <tr key={product.id}>\r\n                  <td>{product.id}</td>\r\n                  <td>{product.productName}</td>\r\n                  <td>{product.price}</td>\r\n                  <td>{product.type}</td>\r\n                  <td>{product.isShow === 1 ? '已上架' : '未上架'}</td>\r\n                  <td>\r\n                    <Buttons\r\n                      isShow={product.isShow}\r\n                      id={product.id}\r\n                      handleProductDelete={handleProductDelete}\r\n                      handleProductIsShow={handleProductIsShow}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </StyledTable>\r\n        </TableWrapper>\r\n      </Container>\r\n    </Root>\r\n  );\r\n}","import styled from 'styled-components';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport Aside from '../../../component/Aside';\r\nimport { ButtonLight } from '../../../component/Button';\r\nimport { device } from '../../../style/breakpoints';\r\nimport Input, { InputSelect, InputTitle, InputContainer, ErrorMessage, HeaderContainer } from '../../../component/Input';\r\nimport { isColorChipValid, isModelNameValid, isStorageValid } from '../../../utils';\r\nimport { useParams, useHistory } from 'react-router';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getModel, updateModel, selectModel } from '../../../redux/reducers/modelsSlice';\r\nconst Root = styled.div`\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  @media ${device.Desktops} {\r\n    display: flex;\r\n  }\r\n`;\r\nconst Header = styled.div`\r\n  position: relative;\r\n`;\r\nconst Container = styled.div`\r\n  position: relative;\r\n  top: 40px;\r\n  left: 50%;\r\n  max-width: 80%;\r\n  margin-bottom: 40px;\r\n  font-size: 24px;\r\n  transform: translate(-50%);\r\n  width: 80%;\r\n  @media ${device.Tablets} {\r\n    width: 60%;\r\n  }\r\n`;\r\nconst Title = styled.h3`\r\n  font-size: 1em;\r\n  color: ${(props) => props.theme.titleColor};\r\n  margin: 0 16px 20px 40px;\r\n  display: inline-block;\r\n`;\r\nconst Form = styled.form`\r\n  max-width: 100%;\r\n  padding: 24px;\r\n  position: relative;\r\n  /* height: 730px; */\r\n  padding-bottom: 7em;\r\n  box-shadow: 0px 1px 4px 1px ${(props) => props.theme.shadow};\r\n  @media ${device.Tablets} {\r\n    min-width: 70%;\r\n  }\r\n`;\r\nconst SubmitBtn = styled(ButtonLight)`\r\n  position: absolute;\r\n  right: 50%;\r\n  bottom: 20px;\r\n  transform: translate(50%);\r\n  @media ${device.Tablets} {\r\n    right: 30px;\r\n    bottom: 30px;\r\n    transform: unset;\r\n  }\r\n`;\r\nconst modelErrorMessageInit = {\r\n  modelName: { valid: true, message: '' },\r\n  colorChip: { valid: true, message: '' },\r\n  storage: { valid: true, message: '' },\r\n  isShow: { valid: true, message: '' },\r\n};\r\nexport default function EditModelPage() {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const isSubmit = useRef(false);\r\n  const model = useSelector(selectModel);\r\n  const dispatch = useDispatch();\r\n  const [modelErrorMessage, setModelErrorMessage] = useState(modelErrorMessageInit);\r\n  const [modelName, setModelName] = useState('');\r\n  const [colorChip, setColorChip] = useState('');\r\n  const [storage, setStorage] = useState('');\r\n  const [isShow, setIsShow] = useState('');\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  useEffect(() => {\r\n    dispatch(getModel(id)).then((data) =>{\r\n      setModelName(data.modelName)\r\n      setColorChip(data.colorChip)\r\n      setStorage(data.storage)\r\n      setIsShow(data.isShow)\r\n      setIsLoaded(true)\r\n    });\r\n  }, [dispatch, id]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name === 'modelName') {\r\n      updateModelNameIsValid(value);\r\n      return setModelName(value);\r\n    }\r\n    if (name === 'colorChip') {\r\n      updateColorChipIsValid(value);\r\n      return setColorChip(value);\r\n    }\r\n    if (name === 'storage') {\r\n      updateStorageIsValid(value);\r\n      return setStorage(value);\r\n    }\r\n    if (name === 'isShow') {\r\n      if (value === '是') {\r\n        return setIsShow(1);\r\n      }\r\n      return setIsShow(0);\r\n    }\r\n  };\r\n\r\n  const updateModelNameIsValid = (value) => {\r\n    if (!isModelNameValid(value)) {\r\n      return setModelErrorMessage((modelErrorMessage) => ({\r\n        ...modelErrorMessage,\r\n        modelName: { valid: false, message: '長度不超出14字元' },\r\n      }));\r\n    }\r\n    return setModelErrorMessage((modelErrorMessage) => ({\r\n      ...modelErrorMessage,\r\n      modelName: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const updateColorChipIsValid = (value) => {\r\n    if (!isColorChipValid(value)) {\r\n      return setModelErrorMessage((modelErrorMessage) => ({\r\n        ...modelErrorMessage,\r\n        colorChip: { valid: false, message: '請輸入正確的色票格式' },\r\n      }));\r\n    }\r\n    return setModelErrorMessage((modelErrorMessage) => ({\r\n      ...modelErrorMessage,\r\n      colorChip: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const updateStorageIsValid = (value) => {\r\n    if (!isStorageValid(value)) {\r\n      return setModelErrorMessage((modelErrorMessage) => ({\r\n        ...modelErrorMessage,\r\n        storage: { valid: false, message: '請輸入數量或最大限制為1000' },\r\n      }));\r\n    }\r\n    return setModelErrorMessage((modelErrorMessage) => ({\r\n      ...modelErrorMessage,\r\n      storage: { valid: true, message: '' },\r\n    }));\r\n  };\r\n\r\n  const handleEditModel = (e) => {\r\n    e.preventDefault();\r\n    isSubmit.current = true;\r\n    for (let prop in modelErrorMessage) {\r\n      if (!modelErrorMessage[prop].valid) {\r\n        return (isSubmit.current = false);\r\n      }\r\n    }\r\n    if (isSubmit) {\r\n      dispatch(updateModel({ id, modelName, colorChip, storage, isShow }));\r\n      history.goBack();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Root>\r\n      <Aside />\r\n      <Container>\r\n        <Header>\r\n          <Title>更改商品型號</Title>\r\n          <ButtonLight $size={'s'} onClick={() => history.goBack()}>\r\n            返回\r\n          </ButtonLight>\r\n        </Header>\r\n        {isLoaded ? (\r\n          <Form id=\"editModelForm\">\r\n            <InputContainer>\r\n              <Input\r\n                inputTitle={'庫存'}\r\n                inputType={'number'}\r\n                size={'90%'}\r\n                name={'storage'}\r\n                value={storage}\r\n                onChange={handleInputChange}\r\n                errorMessage={modelErrorMessage['storage'].message}\r\n                required\r\n              />\r\n              <Input\r\n                inputTitle={'型號'}\r\n                inputType={'text'}\r\n                size={'90%'}\r\n                name={'modelName'}\r\n                value={modelName}\r\n                onChange={handleInputChange}\r\n                valid={modelErrorMessage['modelName'].valid}\r\n                errorMessage={modelErrorMessage['modelName'].message}\r\n                placeholder=\"\"\r\n                required\r\n              />\r\n            </InputContainer>\r\n            <InputContainer>\r\n              <Input\r\n                inputTitle={'顏色'}\r\n                inputType={'text'}\r\n                size={'90%'}\r\n                name={'colorChip'}\r\n                value={colorChip}\r\n                onChange={handleInputChange}\r\n                valid={modelErrorMessage['colorChip'].valid}\r\n                errorMessage={modelErrorMessage['colorChip'].message}\r\n                placeholder=\"請輸入色票 例如：aa22cc\"\r\n                required\r\n              />\r\n              <InputSelect\r\n                inputTitle=\"是否已上架\"\r\n                types={[\r\n                  { name: '是', value: 1 },\r\n                  { name: '否', value: 0 },\r\n                ]}\r\n                size=\"90%\"\r\n                name=\"isShow\"\r\n                value={isShow ? '1' : '0'}\r\n                onChange={handleInputChange}\r\n                valid={modelErrorMessage['isShow'].valid}\r\n                errorMessage={modelErrorMessage['isShow'].message}\r\n              />\r\n            </InputContainer>\r\n            <SubmitBtn onClick={handleEditModel} type=\"submit\" form=\"editModelForm\">\r\n              送出\r\n            </SubmitBtn>\r\n          </Form>\r\n        ) : (\r\n          'Loading...'\r\n        )}\r\n      </Container>\r\n    </Root>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport Aside from '../../../component/Aside';\r\nimport { ButtonLight } from '../../../component/Button';\r\nimport { device } from '../../../style/breakpoints';\r\nimport Input, { InputSelect, InputTitle, InputContainer, ErrorMessage, HeaderContainer } from '../../../component/Input';\r\nimport Editor from '../../../component/Editor';\r\nimport { useParams, useHistory } from 'react-router';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getProduct, updateProduct, selectProduct, selectArticle } from '../../../redux/reducers/productsSlice';\r\n\r\nconst Root = styled.div`\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  @media ${device.Desktops} {\r\n    display: flex;\r\n  }\r\n`;\r\nconst Container = styled.div`\r\n  position: relative;\r\n  top: 40px;\r\n  left: 50%;\r\n  max-width: 80%;\r\n  margin-bottom: 40px;\r\n  font-size: 24px;\r\n  transform: translate(-50%);\r\n  width: 80%;\r\n  @media ${device.Tablets} {\r\n    width: 60%;\r\n  }\r\n`;\r\nconst Title = styled.h3`\r\n  font-size: 1em;\r\n  color: ${(props) => props.theme.titleColor};\r\n  margin: 0 16px 20px 40px;\r\n  display: inline-block;\r\n`;\r\nconst Form = styled.form`\r\n  max-width: 100%;\r\n  padding: 24px;\r\n  position: relative;\r\n  /* height: 730px; */\r\n  padding-bottom: 7em;\r\n  box-shadow: 0px 1px 4px 1px ${(props) => props.theme.shadow};\r\n  @media ${device.Tablets} {\r\n    min-width: 70%;\r\n  }\r\n`;\r\nconst SubmitBtn = styled(ButtonLight)`\r\n  position: absolute;\r\n  right: 50%;\r\n  bottom: 20px;\r\n  transform: translate(50%);\r\n  @media ${device.Tablets} {\r\n    right: 30px;\r\n    bottom: 30px;\r\n    transform: unset;\r\n  }\r\n`;\r\n\r\nconst productErrorMessageInit = {\r\n  price: { valid: true, message: '' },\r\n  productName: { valid: true, message: '' },\r\n  article: { valid: true, message: '' },\r\n  type: { valid: true, message: '' },\r\n};\r\nconst types = [\r\n  { name: '耳罩式耳機', value: '耳罩式耳機' },\r\n  { name: '入耳式耳機', value:'入耳式耳機' },\r\n  { name: '音響', value: '音響' },\r\n  { name: '週邊配件', value: '週邊配件' },\r\n];\r\nexport default function EditProductPage() {\r\n  let isValid = false;\r\n  let { id } = useParams();\r\n  let typeHasChange = useRef(false);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const product = useSelector(selectProduct);\r\n  const articleInit = useSelector(selectArticle);\r\n\r\n  const [productErrorMessage, setProductErrorMessage] = useState(productErrorMessageInit);\r\n  const [productName, setProductName] = useState('');\r\n  const [price, setPrice] = useState(0);\r\n  const [article, setArticle] = useState(articleInit);\r\n  const [type, setType] = useState('');\r\n  const [isShow, setIsShow] = useState('');\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  useEffect(() => {\r\n    dispatch(getProduct(id)).then((product) =>{\r\n      setPrice(product.price)\r\n      setProductName(product.productName)\r\n      setArticle(product.article)\r\n      setType(product.type)\r\n      setIsShow(product.isShow)\r\n      setIsLoaded(true)\r\n      });\r\n  }, [dispatch, id]);\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name === 'productName') {\r\n      updateProductIsValid(value);\r\n      return setProductName(value);\r\n    }\r\n    if (name === 'price') {\r\n      updatePriceIsValid(value);\r\n      return setPrice(value);\r\n    }\r\n    if (name === 'type') {\r\n      updateTypeIsValid(value);\r\n      typeHasChange.current = true;\r\n      return setType(value);\r\n    }\r\n    if (name === 'isShow') {\r\n      if (value === '是') {\r\n        return setIsShow(1);\r\n      }\r\n      return setIsShow(0);\r\n    }\r\n  };\r\n  const handleContentChange = (data) => {\r\n    updateArticleIsValid(data);\r\n    setArticle(data);\r\n  };\r\n  const updateProductIsValid = (value) => {\r\n    if (!value) {\r\n      return setProductErrorMessage((productErrorMessage) => ({\r\n        ...productErrorMessage,\r\n        productName: { valid: false, message: '此處不得為空' },\r\n      }));\r\n    }\r\n    return setProductErrorMessage((productErrorMessage) => ({\r\n      ...productErrorMessage,\r\n      productName: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const updateTypeIsValid = (value) => {\r\n    if (!value) {\r\n      return setProductErrorMessage((productErrorMessage) => ({\r\n        ...productErrorMessage,\r\n        type: { valid: false, message: '請選擇類別' },\r\n      }));\r\n    }\r\n    return setProductErrorMessage((productErrorMessage) => ({\r\n      ...productErrorMessage,\r\n      type: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const updatePriceIsValid = (value) => {\r\n    if (!value) {\r\n      return setProductErrorMessage((productErrorMessage) => ({\r\n        ...productErrorMessage,\r\n        price: { valid: false, message: '此處不得為空' },\r\n      }));\r\n    }\r\n    return setProductErrorMessage((productErrorMessage) => ({\r\n      ...productErrorMessage,\r\n      price: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const updateArticleIsValid = (value) => {\r\n    if (!value) {\r\n      return setProductErrorMessage((productErrorMessage) => ({\r\n        ...productErrorMessage,\r\n        article: { valid: false, message: '請更改文章內容' },\r\n      }));\r\n    }\r\n    return setProductErrorMessage((productErrorMessage) => ({\r\n      ...productErrorMessage,\r\n      article: { valid: true, message: '' },\r\n    }));\r\n  };\r\n  const checkProductValid = () => {\r\n    updateProductIsValid(productName);\r\n    updatePriceIsValid(price);\r\n    updateTypeIsValid(type);\r\n    updateArticleIsValid(article);\r\n    if (productName && price && type && article) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  const handleEditProduct = (e) => {\r\n    e.preventDefault();\r\n    isValid = checkProductValid();\r\n    if (!isValid) return;\r\n    \r\n    dispatch(updateProduct({ id, productName, type, price, article: JSON.stringify(article), isShow }));\r\n    history.goBack();\r\n  };\r\n\r\n  return (\r\n    <Root>\r\n      <Aside />\r\n      <Container>\r\n        <Title>編輯商品</Title>\r\n        {isLoaded ? (\r\n          <Form>\r\n            <InputContainer>\r\n              <Input\r\n                inputTitle=\"名稱\"\r\n                inputType=\"text\"\r\n                size=\"90%\"\r\n                name=\"productName\"\r\n                value={productName}\r\n                onChange={handleInputChange}\r\n                valid={productErrorMessage['productName'].valid}\r\n                errorMessage={productErrorMessage['productName'].message}\r\n              />\r\n              <Input\r\n                inputTitle={'定價'}\r\n                inputType={'text'}\r\n                size=\"90%\"\r\n                name=\"price\"\r\n                value={price}\r\n                onChange={handleInputChange}\r\n                valid={productErrorMessage['price'].valid}\r\n                errorMessage={productErrorMessage['price'].message}\r\n              />\r\n            </InputContainer>\r\n            <InputContainer>\r\n              <InputSelect\r\n                inputTitle={'類別'}\r\n                types={types}\r\n                size=\"90%\"\r\n                name=\"type\"\r\n                value={type}\r\n                onChange={handleInputChange}\r\n                valid={productErrorMessage['type'].valid}\r\n                errorMessage={productErrorMessage['type'].message}\r\n              />\r\n              <InputSelect\r\n                inputTitle=\"是否已上架\"\r\n                types={[\r\n                  { name: '是', value: 1 },\r\n                  { name: '否', value: 0 },\r\n                ]}\r\n                size=\"90%\"\r\n                name=\"isShow\"\r\n                value={isShow}\r\n                onChange={handleInputChange}\r\n              />\r\n            </InputContainer>\r\n            <HeaderContainer>\r\n              <InputTitle>文案</InputTitle>\r\n              {!productErrorMessage['article'].valid && <ErrorMessage>{productErrorMessage['article'].message}</ErrorMessage>}\r\n            </HeaderContainer>\r\n            <Editor onChange={handleContentChange} content={article} />\r\n            <SubmitBtn onClick={handleEditProduct}>送出</SubmitBtn>\r\n          </Form>\r\n        ) : (\r\n          'Loading...'\r\n        )}\r\n      </Container>\r\n    </Root>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Aside from '../../../component/Aside';\r\nimport { ButtonLight } from '../../../component/Button';\r\nimport { Ul, Li, Header, Info, OrderContent, HeaderFat } from '../../../component/Table';\r\nimport { device } from '../../../style/breakpoints';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getOrders, selectOrders, updateOrderStatue } from '../../../redux/reducers/ordersSlice';\r\nimport { handleDateFormat, handleOrderStatus } from '../../../utils';\r\n\r\nconst Root = styled.div`\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  @media ${device.Desktops} {\r\n    display: flex;\r\n  }\r\n`;\r\nconst Container = styled.div`\r\n  position: relative;\r\n  top: 40px;\r\n  left: 50%;\r\n  max-width: 80%;\r\n  margin-bottom: 40px;\r\n  font-size: 24px;\r\n  transform: translate(-50%);\r\n  @media ${device.Tablets} {\r\n    width: 900px;\r\n  }\r\n`;\r\nconst TitleHeader = styled.div``;\r\nconst Title = styled.h3`\r\n  font-size: 24px;\r\n  color: ${(props) => props.theme.titleColor};\r\n  margin: 0 16px 20px 40px;\r\n  display: inline-block;\r\n`;\r\nconst TableWrapper = styled.div`\r\n  width: 400px;\r\n  overflow: auto;\r\n  @media ${device.Tablets} {\r\n    width: unset;\r\n  }\r\n`;\r\nconst StyledTable = styled.table`\r\n  margin: 0 auto;\r\n  border: none;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  thead {\r\n    border-bottom: 1px solid ${(props) => props.theme.borderColor};\r\n    border-top: 1px solid ${(props) => props.theme.borderColor};\r\n    tr th {\r\n      font-size: 14px;\r\n      color: ${(props) => props.theme.textColor};\r\n      padding: 26px;\r\n    }\r\n  }\r\n\r\n  tbody {\r\n    border-bottom: 1px solid ${(props) => props.theme.borderColor};\r\n    tr td {\r\n      background-color: white;\r\n      padding: 20px 10px;\r\n      align-items: center;\r\n      font-size: 1.2em;\r\n      a:hover {\r\n        text-decoration: none;\r\n      }\r\n      &:first-child {\r\n        max-width: 50px;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst ProductsContainer = styled.div``;\r\n\r\nexport default function OrdersPage() {\r\n  const dispatch = useDispatch();\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [isUpdated, setIsUpdated] = useState(false);\r\n  const orders = useSelector(selectOrders);\r\n\r\n  useEffect(() => {\r\n    dispatch(getOrders()).then(() => {\r\n      setIsLoaded(true);\r\n    });\r\n  }, [dispatch, isUpdated]);\r\n\r\n  const handleChangeStatus = (id) => {\r\n    dispatch(updateOrderStatue(id)).then(() => setIsUpdated(true));\r\n  };\r\n  return (\r\n    <Root>\r\n      <Aside />\r\n      <Container>\r\n        <TitleHeader>\r\n          <Title>查詢訂單</Title>\r\n        </TitleHeader>\r\n\r\n        {!isLoaded ? (\r\n          'Loading'\r\n        ) : (\r\n          <TableWrapper>\r\n            <StyledTable>\r\n              <thead>\r\n                <tr>\r\n                  <th>Order ID</th>\r\n                  <th>UserId</th>\r\n                  <th>Description</th>\r\n                  <th>Price (NT$)</th>\r\n                  <th>Order time</th>\r\n                  <th>Status</th>\r\n                  <th>\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {orders.map((order) => (\r\n                  <tr key={order.id}>\r\n                    <td>\r\n                      <Link to={`/backstage/orders/${order.UUID}`}>{order.UUID} </Link>\r\n                    </td>\r\n                    <td>{order.userId}</td>\r\n                    <td>\r\n                      {order.Product_models.map((product) => (\r\n                        <ProductsContainer key={product.id}>\r\n                          {product.modelName} * {product.Order_product.count}\r\n                        </ProductsContainer>\r\n                      ))}\r\n                    </td>\r\n                    <td>{order.totalPrice}</td>\r\n                    <td>{handleDateFormat(order.createdAt)}</td>\r\n                    <td>{order.status}</td>\r\n                    <td>\r\n                      {order.status === '處理中' ? (\r\n                        <ButtonLight $size={'s'} onClick={() => handleChangeStatus(order.UUID)}>\r\n                          通知已出貨\r\n                        </ButtonLight>\r\n                      ) : (\r\n                        ''\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </StyledTable>\r\n          </TableWrapper>\r\n        )}\r\n      </Container>\r\n    </Root>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport Aside from '../../../component/Aside';\r\nimport { ButtonLight } from '../../../component/Button';\r\nimport { device } from '../../../style/breakpoints';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getModels, selectModels, updateModelStatus, deleteModel, selectErrorMessage } from '../../../redux/reducers/modelsSlice';\r\n\r\nconst Root = styled.div`\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  @media ${device.Desktops} {\r\n    display: flex;\r\n  }\r\n`;\r\nconst Container = styled.div`\r\n  position: relative;\r\n  top: 40px;\r\n  left: 50%;\r\n  max-width: 80%;\r\n  margin-bottom: 40px;\r\n  font-size: 24px;\r\n  transform: translate(-50%);\r\n`;\r\nconst Header = styled.div``;\r\nconst Title = styled.h3`\r\n  font-size: 24px;\r\n  color: ${(props) => props.theme.titleColor};\r\n  margin: 0 16px 20px 40px;\r\n  display: inline-block;\r\n`;\r\nconst TableWrapper = styled.div`\r\n  width: 400px;\r\n  overflow: auto;\r\n  @media ${device.Tablets} {\r\n    width: unset;\r\n  }\r\n`;\r\nconst StyledTable = styled.table`\r\n  margin: 0 auto;\r\n  border: none;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  thead {\r\n    border-bottom: 1px solid ${(props) => props.theme.borderColor};\r\n    border-top: 1px solid ${(props) => props.theme.borderColor};\r\n    tr th {\r\n      font-size: 14px;\r\n      color: ${(props) => props.theme.textColor};\r\n      padding: 26px;\r\n    }\r\n  }\r\n\r\n  tbody {\r\n    border-bottom: 1px solid ${(props) => props.theme.borderColor};\r\n    tr td {\r\n      background-color: white;\r\n      padding: 20px;\r\n      align-items: center;\r\n      font-size: 1.2em;\r\n    }\r\n  }\r\n`;\r\nconst ButtonGroup = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`;\r\nconst ColorChip = styled.div`\r\n  width: 40px;\r\n  height: 20px;\r\n  background-color: #${(props) => props.$color};\r\n`;\r\n\r\nconst Buttons = ({ isShow, handleModelDelete, id, handleModelIsShow }) => {\r\n  return (\r\n    <ButtonGroup>\r\n      <Link to={`/backstage/edit-model/${id}`}>\r\n        <ButtonLight $size={'s'}>編輯</ButtonLight>\r\n      </Link>\r\n      <ButtonLight $size={'s'} onClick={() => handleModelIsShow({ id, isShow })}>\r\n        {isShow === 1 ? '下架' : '上架'}\r\n      </ButtonLight>\r\n      <ButtonLight $size={'s'} onClick={() => handleModelDelete(id)}>\r\n        刪除\r\n      </ButtonLight>\r\n    </ButtonGroup>\r\n  );\r\n};\r\nexport default function ProductModelsPage() {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const models = useSelector(selectModels);\r\n  const errorMessage = useSelector(selectErrorMessage);\r\n  const [update, setUpdate] = useState(false);\r\n  const handleModelDelete = (id) => {\r\n    dispatch(deleteModel(id)).then(() => setUpdate(!update));\r\n  };\r\n  const handleModelIsShow = ({ id, isShow }) => {\r\n    dispatch(updateModelStatus({ id, isShow })).then(() => setUpdate(!update));\r\n  };\r\n  useEffect(() => dispatch(getModels(id)), [dispatch, id, update]);\r\n  return (\r\n    <Root>\r\n      <Aside />\r\n      <Container>\r\n        <Header>\r\n          <Title>商品型號</Title>\r\n          <Link to={`/backstage/add-model/${id}/only-model`}>\r\n            <ButtonLight $size={'s'}>新增型號</ButtonLight>\r\n          </Link>\r\n          <Link to=\"/backstage/products\">\r\n            <ButtonLight $size={'s'}>返回</ButtonLight>\r\n          </Link>\r\n        </Header>\r\n        <TableWrapper>\r\n          <StyledTable>\r\n            <thead>\r\n              <tr>\r\n                <th>Model ID</th>\r\n                <th>Name</th>\r\n                <th>Color</th>\r\n                <th>In stock</th>\r\n                <th>Sell</th>\r\n                <th>Status</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {models.length !== 0 &&\r\n                models.map(\r\n                  (model) =>\r\n                    model.isDeleted === 0 && (\r\n                      <tr key={model.id}>\r\n                        <td>{model.id}</td>\r\n                        <td>{model.modelName}</td>\r\n                        <td>\r\n                          <ColorChip $color={model.colorChip} />\r\n                        </td>\r\n                        <td>{model.storage}</td>\r\n                        <td>{model.sell}</td>\r\n                        <td>{model.isShow ? '已上架' : '未上架'}</td>\r\n                        <td>\r\n                          <Buttons isShow={model.isShow} id={model.id} handleModelDelete={handleModelDelete} handleModelIsShow={handleModelIsShow} />\r\n                        </td>\r\n                      </tr>\r\n                    )\r\n                )}\r\n            </tbody>\r\n          </StyledTable>\r\n          {models.length === 0 && <p>{'無資料' || errorMessage}</p>}\r\n        </TableWrapper>\r\n      </Container>\r\n    </Root>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nimport Aside from '../../../component/Aside';\r\nimport { Ul, Li, Header, Info, OrderContent, HeaderFat } from '../../../component/Table';\r\nimport { ButtonLight } from '../../../component/Button';\r\nimport { device } from '../../../style/breakpoints';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useEffect, useState } from 'react';\r\nimport { selectOrder, getOrder, setOrder } from '../../../redux/reducers/ordersSlice';\r\nimport { handleDateFormat } from '../../../utils';\r\n\r\nconst Root = styled.div`\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  @media ${device.Desktops} {\r\n    display: flex;\r\n  }\r\n`;\r\nconst Container = styled.div`\r\n  position: relative;\r\n  top: 40px;\r\n  left: 50%;\r\n  max-width: 80%;\r\n  margin-bottom: 40px;\r\n  font-size: 24px;\r\n  transform: translate(-50%);\r\n`;\r\nconst TitleHeader = styled.div``;\r\nconst Title = styled.h3`\r\n  font-size: 24px;\r\n  color: ${(props) => props.theme.titleColor};\r\n  margin: 0 16px 20px 40px;\r\n  display: inline-block;\r\n`;\r\n\r\nexport default function SingleOrderPage() {\r\n  const { uuid } = useParams();\r\n  const dispatch = useDispatch();\r\n  const order = useSelector(selectOrder);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    dispatch(getOrder(uuid)).then(() => setIsLoaded(true));\r\n    return () => dispatch(setOrder({}));\r\n  }, [dispatch, uuid]);\r\n\r\n  console.log(order);\r\n  return (\r\n    <Root>\r\n      <Aside />\r\n      <Container>\r\n        <TitleHeader>\r\n          <Title>訂單內容</Title>\r\n          <Link to=\"/backstage/orders\">\r\n            <ButtonLight $size={'s'}>Back</ButtonLight>\r\n          </Link>\r\n        </TitleHeader>\r\n        <Ul $width=\"900px\">\r\n          <Li>\r\n            <Header>訂單編號</Header>\r\n            <Info $flex={3}> {uuid}</Info>\r\n            <Header>訂單狀態</Header>\r\n            <Info $flex={2}>{isLoaded ? order.status : 'loading...'}</Info>\r\n          </Li>\r\n          <Li>\r\n            <Header>訂購日期</Header>\r\n            <Info $flex={3}>{isLoaded ? handleDateFormat(order.createdAt) : 'loading...'}</Info>\r\n            <Header>訂購人</Header>\r\n            <Info $flex={2}> {isLoaded ? order.recipient[0].name : 'Loading...'}</Info>\r\n          </Li>\r\n          <Li>\r\n            <HeaderFat>訂單內容</HeaderFat>\r\n            <Info $flex={3}>\r\n              <OrderContent>\r\n                {isLoaded\r\n                  ? order.products.map((product) => (\r\n                      <span key={product.modelId}>\r\n                        {product.modelName} * {product.count}\r\n                        <br />\r\n                      </span>\r\n                    ))\r\n                  : 'Loading...'}\r\n              </OrderContent>\r\n            </Info>\r\n            <HeaderFat>付款方式</HeaderFat>\r\n            <Info $flex={2}>信用卡</Info>\r\n          </Li>\r\n          <Li>\r\n            <HeaderFat>收貨地點</HeaderFat>\r\n            <Info $flex={6}>{isLoaded ? order.recipient[0].address : 'Loading'}</Info>\r\n          </Li>\r\n        </Ul>\r\n      </Container>\r\n    </Root>\r\n  );\r\n}\r\n","const color = {\r\n  primary: '#07273C',\r\n  secondary: '#9BB7CA',\r\n  danger: '#D9001B',\r\n  light: '#D7D7D7',\r\n  dark: '#AAAAAA',\r\n  white: '#fff',\r\n  wheat: '#FBD1A8',\r\n};\r\n\r\nexport default color;\r\n","import color from './color';\r\nconst Themes = {\r\n  customer: {\r\n    background: color.primary,\r\n    navbarHover: color.secondary,\r\n    shadow: color.secondary,\r\n    titleColor: color.primary,\r\n    borderColor: color.primary,\r\n    textColor: color.white,\r\n    textHover: color.wheat,\r\n    mediaIcon: color.dark,\r\n    errorText: color.danger,\r\n  },\r\n  backstage: {\r\n    background: color.secondary,\r\n    navbarHover: color.primary,\r\n    shadow: color.secondary,\r\n    titleColor: color.primary,\r\n    borderColor: color.primary,\r\n    textColor: color.primary,\r\n    textHover: color.wheat,\r\n    mediaIcon: color.dark,\r\n    errorText: color.danger,\r\n  },\r\n};\r\n\r\nexport default Themes;\r\n","import { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport MemberNav from '../../component/MemberNav';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getOrder, selectOrder } from '../../redux/reducers/ordersSlice';\r\nimport { handleDateFormat } from '../../utils';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  padding: 7% 10%;\r\n  padding-right: 0;\r\n`;\r\n\r\nconst H5 = styled.h5`\r\n  color: #07273c;\r\n  font-weight: bold;\r\n  margin-bottom: 30px;\r\n`;\r\nconst Ul = styled.ul`\r\n  width: 1200px;\r\n  padding: 0;\r\n`;\r\n\r\nconst Li = styled.li`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  list-style: none;\r\n  font-size: 20px;\r\n  border: 1px solid #d4d4d4;\r\n\r\n  & + & {\r\n    border-top: 0;\r\n  }\r\n`;\r\n\r\nconst Header = styled.div`\r\n  height: 100px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #cfdce5;\r\n  flex: 1;\r\n`;\r\n\r\nconst HeaderFat = styled.div`\r\n  height: 150px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #cfdce5;\r\n  flex: 1;\r\n`;\r\n\r\nconst Info = styled.div`\r\n  text-align: center;\r\n  flex: ${(props) => props.$flex};\r\n`;\r\n\r\nconst OrderContent = styled.div`\r\n  margin: 0;\r\n  padding: 10px;\r\n`;\r\n\r\nconst OptionContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst Back = styled(Link)`\r\n  width: 160px;\r\n  height: 60px;\r\n  display: flex;\r\n  border: 2px solid #07273c;\r\n  border-radius: 3px;\r\n  margin-right: 10px;\r\n  color: #07273c;\r\n  font-weight: bold;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  box-shadow: 3px 3px 5px #07273c85;\r\n\r\n  &:hover {\r\n    color: white;\r\n    background: #07273c;\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nexport default function OrderInfo() {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const order = useSelector(selectOrder);\r\n\r\n  useEffect(() => {\r\n    dispatch(getOrder(id)).then(() => setIsLoaded(true));\r\n  }, [dispatch, id]);\r\n\r\n  return (\r\n    <Container>\r\n      <MemberNav />\r\n\r\n      <section>\r\n        <H5>查詢訂單</H5>\r\n\r\n        <Ul>\r\n          <Li>\r\n            <Header>訂單編號</Header>\r\n            <Info $flex={3}> {id}</Info>\r\n            <Header>訂單狀態</Header>\r\n            <Info $flex={2}>{order.status || 'null'}</Info>\r\n          </Li>\r\n          <Li>\r\n            <Header>訂購日期</Header>\r\n            <Info $flex={3}>\r\n              {isLoaded ? handleDateFormat(order.createdAt) : 'loading...'}\r\n            </Info>\r\n            <Header>付款方式</Header>\r\n            <Info $flex={2}>信用卡</Info>\r\n          </Li>\r\n          <Li>\r\n            <HeaderFat>訂單內容</HeaderFat>\r\n            <Info $flex={3}>\r\n              <OrderContent>\r\n                {isLoaded\r\n                  ? order.products.map((product) => (\r\n                      <div key={product.modelId}>\r\n                        {product.modelName} * {product.count}\r\n                      </div>\r\n                    ))\r\n                  : 'Loading...'}\r\n              </OrderContent>\r\n            </Info>\r\n            <HeaderFat>訂單金額</HeaderFat>\r\n            <Info $flex={2}>NT$ {isLoaded ? order.totalPrice : 'Loading...'}</Info>\r\n          </Li>\r\n          <Li>\r\n            <HeaderFat>收貨地點</HeaderFat>\r\n            <Info $flex={6}>{isLoaded && order.recipient.length !== 0 ? order.recipient[0].address : 'Loading...'}</Info>\r\n          </Li>\r\n        </Ul>\r\n        <OptionContainer>\r\n          <Back to=\"/membership/order\">回到上頁</Back>\r\n        </OptionContainer>\r\n      </section>\r\n    </Container>\r\n  );\r\n}\r\n","import { useState, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  selectErrorMessage,\r\n  login,\r\n  setErrorMessage,\r\n} from '../../redux/reducers/usersSlice';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  min-height: calc(100vh - 477px);\r\n`;\r\n\r\nconst InputSection = styled.section`\r\n  display: flex;\r\n  width: 500px;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 100px;\r\n  padding: 60px;\r\n  box-shadow: 3px 3px 5px #b9e1fb;\r\n\r\n  border: 1px solid #1c79b7;\r\n\r\n  h5 {\r\n    font-weight: bold;\r\n    text-align: center;\r\n    margin-bottom: 30px;\r\n  }\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  width: 320px;\r\n  margin: 20px 0;\r\n`;\r\n\r\nconst OptionsContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  margin-top: 20px;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst SignUpLink = styled(Link)`\r\n  display: flex;\r\n  margin-right: 10px;\r\n  color: #1c79b7;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-decoration: none;\r\n\r\n  &:hover {\r\n    text-decoration: none;\r\n    transform: scale(1.2);\r\n  }\r\n`;\r\n\r\nconst LoginButton = styled.button`\r\n  width: 140px;\r\n  height: 40px;\r\n  display: flex;\r\n  border: 1px solid #07273c;\r\n  border-radius: 3px;\r\n  margin-right: 10px;\r\n  color: white;\r\n  background: #07273c;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-shadow: 3px 3px 5px #07273c85;\r\n\r\n  &:hover {\r\n    background: #293e4c;\r\n  }\r\n`;\r\n\r\nconst Label = styled.label`\r\n  font-weight: bold;\r\n  font-size: 22px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 220px;\r\n  border: 0;\r\n  border-bottom: 1px solid #333;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: red;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  min-height: 61px;\r\n  width: 320px;\r\n`;\r\n\r\nexport default function Login() {\r\n  const errorMessage = useSelector(selectErrorMessage);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const isSubmit = useRef(false);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isSubmit.current) return;\r\n    dispatch(setErrorMessage(''));\r\n    isSubmit.current = true;\r\n    dispatch(login({ username, password })).then((res) => {\r\n      isSubmit.current = false;\r\n      if (res) history.push('/');\r\n    });\r\n  };\r\n\r\n  useEffect(() => dispatch(setErrorMessage('')), [dispatch]);\r\n\r\n  return (\r\n    <Container>\r\n      <InputSection>\r\n        <h5>登入</h5>\r\n        <form onSubmit={handleSubmit}>\r\n          <InputContainer>\r\n            <Label>帳號：</Label>\r\n            <Input\r\n              value={username}\r\n              required\r\n              onChange={(e) => setUsername(e.target.value)}\r\n            ></Input>\r\n          </InputContainer>\r\n          <InputContainer>\r\n            <Label>密碼：</Label>\r\n            <Input\r\n              type=\"password\"\r\n              required\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            ></Input>\r\n          </InputContainer>\r\n          <ErrorMessage>{errorMessage}</ErrorMessage>\r\n          <OptionsContainer>\r\n            <SignUpLink to=\"/signup\">建立帳戶</SignUpLink>\r\n            <LoginButton>登入</LoginButton>\r\n          </OptionsContainer>\r\n        </form>\r\n      </InputSection>\r\n    </Container>\r\n  );\r\n}\r\n","import { useState, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  selectErrorMessage,\r\n  adminLogin,\r\n  setErrorMessage,\r\n} from '../../redux/reducers/usersSlice';\r\nimport { setIsBackstageMode } from '../../redux/reducers/themeSlice';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  min-height: calc(100vh - 477px);\r\n`;\r\n\r\nconst InputSection = styled.section`\r\n  display: flex;\r\n  width: 500px;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 100px;\r\n  padding: 60px;\r\n  box-shadow: 3px 3px 5px #b9e1fb;\r\n\r\n  border: 1px solid #1c79b7;\r\n\r\n  h5 {\r\n    font-weight: bold;\r\n    text-align: center;\r\n    margin-bottom: 30px;\r\n  }\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  width: 320px;\r\n  margin: 20px 0;\r\n`;\r\n\r\nconst OptionsContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  margin-top: 20px;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst SignUpLink = styled(Link)`\r\n  display: flex;\r\n  margin-right: 10px;\r\n  color: #1c79b7;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-decoration: none;\r\n\r\n  &:hover {\r\n    text-decoration: none;\r\n    transform: scale(1.2);\r\n  }\r\n`;\r\n\r\nconst LoginButton = styled.button`\r\n  width: 140px;\r\n  height: 40px;\r\n  display: flex;\r\n  border: 1px solid #07273c;\r\n  border-radius: 3px;\r\n  margin-right: 10px;\r\n  color: white;\r\n  background: #07273c;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-shadow: 3px 3px 5px #07273c85;\r\n\r\n  &:hover {\r\n    background: #293e4c;\r\n  }\r\n`;\r\n\r\nconst Label = styled.label`\r\n  font-weight: bold;\r\n  font-size: 22px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 220px;\r\n  border: 0;\r\n  border-bottom: 1px solid #333;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: red;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  min-height: 61px;\r\n  width: 320px;\r\n`;\r\n\r\nexport default function Login() {\r\n  const errorMessage = useSelector(selectErrorMessage);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const isSubmit = useRef(false);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isSubmit.current) return;\r\n    dispatch(setErrorMessage(''));\r\n    isSubmit.current = true;\r\n    dispatch(adminLogin({ username, password })).then((res) => {\r\n      isSubmit.current = false;\r\n      if (res) history.push('/backstage/products');\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(setIsBackstageMode(true));\r\n    return dispatch(setErrorMessage(''));\r\n  }, [dispatch]);\r\n  return (\r\n    <Container>\r\n      <InputSection>\r\n        <h5>管理員登入</h5>\r\n        <form onSubmit={handleSubmit}>\r\n          <InputContainer>\r\n            <Label>帳號：</Label>\r\n            <Input\r\n              value={username}\r\n              required\r\n              onChange={(e) => setUsername(e.target.value)}\r\n            ></Input>\r\n          </InputContainer>\r\n          <InputContainer>\r\n            <Label>密碼：</Label>\r\n            <Input\r\n              type=\"password\"\r\n              required\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            ></Input>\r\n          </InputContainer>\r\n          <ErrorMessage>{errorMessage}</ErrorMessage>\r\n          <OptionsContainer>\r\n            <LoginButton>登入</LoginButton>\r\n          </OptionsContainer>\r\n        </form>\r\n      </InputSection>\r\n    </Container>\r\n  );\r\n}\r\n","import { useState, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { signUp } from '../../redux/reducers/usersSlice';\r\nimport {\r\n  replaceInvalidWord,\r\n  isPhoneValid,\r\n  initFormErrorData,\r\n  isEmailValid,\r\n} from '../../utils';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  min-height: calc(100vh - 477px);\r\n`;\r\n\r\nconst InputSection = styled.section`\r\n  display: flex;\r\n  width: 700px;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin-top: 100px;\r\n  padding: 60px;\r\n  box-shadow: 3px 3px 5px #b9e1fb;\r\n\r\n  border: 1px solid #1c79b7;\r\n\r\n  h5 {\r\n    font-weight: bold;\r\n    text-align: center;\r\n    margin-bottom: 40px;\r\n  }\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  position: relative;\r\n  width: 500px;\r\n  margin: 20px 0;\r\n  text-align: end;\r\n`;\r\n\r\nconst OptionsContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  margin-top: 20px;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  font-weight: bold;\r\n  font-size: 22px;\r\n`;\r\nconst Input = styled.input`\r\n  width: 300px;\r\n  border: 0;\r\n  border-bottom: 1px solid #333;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst SignupButtin = styled.button`\r\n  width: 160px;\r\n  height: 60px;\r\n  display: flex;\r\n  border: 1px solid #07273c;\r\n  border-radius: 3px;\r\n  margin-right: 10px;\r\n  color: white;\r\n  background: #07273c;\r\n  font-weight: bold;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-shadow: 3px 3px 5px #07273c85;\r\n\r\n  &:hover {\r\n    background: #293e4c;\r\n  }\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  position: relative;\r\n  min-height: 30px;\r\n  color: red;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n`;\r\n\r\nexport default function Signup() {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [comfirmpassword, setComfirmpassword] = useState('');\r\n  const [realName, setRealName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [formErrorData, setFormErrorData] = useState(() => initFormErrorData());\r\n  const history = useHistory();\r\n  // const ErrorMessage = useSelector(selectErrorMessage);\r\n  const dispatch = useDispatch();\r\n  const isSubmit = useRef(false);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isSubmit.current) return;\r\n    isSubmit.current = true;\r\n    for (let prop in formErrorData) {\r\n      if (!formErrorData[prop].valid) {\r\n        isSubmit.current = false;\r\n        return;\r\n      }\r\n    }\r\n    dispatch(signUp({ username, password, realName, email, phone })).then(\r\n      (res) => {\r\n        if (!res.success) {\r\n          setFormErrorData({\r\n            ...formErrorData,\r\n            username: { valid: false, message: res.message },\r\n          });\r\n          isSubmit.current = false;\r\n          return;\r\n        }\r\n        isSubmit.current = false;\r\n        history.push('/');\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleInputUsername = (e) => {\r\n    setUsername(replaceInvalidWord(e.target.value));\r\n    setFormErrorData({\r\n      ...formErrorData,\r\n      username: { valid: true, message: '' },\r\n    });\r\n  };\r\n\r\n  const checkPasswordConsistent = () => {\r\n    if (password !== comfirmpassword)\r\n      return setFormErrorData({\r\n        ...formErrorData,\r\n        comfirmpassword: { valid: false, message: '密碼不一致' },\r\n      });\r\n    setFormErrorData({\r\n      ...formErrorData,\r\n      comfirmpassword: { valid: true, message: '' },\r\n    });\r\n  };\r\n\r\n  const checkPhoneValid = () => {\r\n    if (!isPhoneValid(phone))\r\n      return setFormErrorData({\r\n        ...formErrorData,\r\n        phone: { valid: false, message: '手機格式錯誤' },\r\n      });\r\n    setFormErrorData({\r\n      ...formErrorData,\r\n      phone: { valid: true, message: '' },\r\n    });\r\n  };\r\n\r\n  const checkEmailValid = () => {\r\n    if (!isEmailValid(email))\r\n      return setFormErrorData({\r\n        ...formErrorData,\r\n        email: { valid: false, message: '信箱格式錯誤' },\r\n      });\r\n    setFormErrorData({\r\n      ...formErrorData,\r\n      email: { valid: true, message: '' },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <InputSection>\r\n        <form onSubmit={handleSubmit}>\r\n          <h5>註冊</h5>\r\n          <InputContainer>\r\n            <Label>使用者帳號：</Label>\r\n            <Input\r\n              required\r\n              value={username}\r\n              placeholder=\"20 字以內英數字\"\r\n              onChange={handleInputUsername}\r\n            ></Input>\r\n            <ErrorMessage>{formErrorData.username.message}</ErrorMessage>\r\n          </InputContainer>\r\n          <InputContainer>\r\n            <Label>密碼：</Label>\r\n            <Input\r\n              required\r\n              type=\"password\"\r\n              placeholder=\"20 字以內英數字符號\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value.trim().slice(0, 20))}\r\n              onBlur={checkPasswordConsistent}\r\n            ></Input>\r\n            <ErrorMessage></ErrorMessage>\r\n          </InputContainer>\r\n          <InputContainer>\r\n            <Label>確認密碼：</Label>\r\n            <Input\r\n              type=\"password\"\r\n              placeholder=\"請再輸入一次密碼\"\r\n              value={comfirmpassword}\r\n              onChange={(e) =>\r\n                setComfirmpassword(e.target.value.trim().slice(0, 20))\r\n              }\r\n              onBlur={checkPasswordConsistent}\r\n            ></Input>\r\n            <ErrorMessage>{formErrorData.comfirmpassword.message}</ErrorMessage>\r\n          </InputContainer>\r\n          <InputContainer>\r\n            <Label>姓名：</Label>\r\n            <Input\r\n              required\r\n              value={realName}\r\n              placeholder=\"20 字以內中英數字符號\"\r\n              onChange={(e) => setRealName(e.target.value.trim().slice(0, 20))}\r\n            ></Input>\r\n            <ErrorMessage>{formErrorData.realName.message}</ErrorMessage>\r\n          </InputContainer>\r\n          <InputContainer>\r\n            <Label>電子信箱：</Label>\r\n            <Input\r\n              required\r\n              type=\"email\"\r\n              placeholder=\"請輸入您的電子信箱\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value.trim())}\r\n              onBlur={checkEmailValid}\r\n            ></Input>\r\n            <ErrorMessage>{formErrorData.email.message}</ErrorMessage>\r\n          </InputContainer>\r\n          <InputContainer>\r\n            <Label>手機：</Label>\r\n            <Input\r\n              required\r\n              value={phone}\r\n              placeholder=\"請輸入您的手機號碼\"\r\n              onBlur={checkPhoneValid}\r\n              onChange={(e) => setPhone(e.target.value.trim())}\r\n            ></Input>\r\n            <ErrorMessage>{formErrorData.phone.message}</ErrorMessage>\r\n          </InputContainer>\r\n\r\n          <OptionsContainer>\r\n            <SignupButtin>送出</SignupButtin>\r\n          </OptionsContainer>\r\n        </form>\r\n      </InputSection>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport Header from '../Header';\r\nimport Footer from '../../component/Footer';\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport About from '../../pages/About'\r\nimport Info from '../../pages/Info';\r\nimport CheckOrder from '../../pages/CheckOrder';\r\nimport HomePage from '../../pages/Homepage';\r\nimport Products from '../../pages/Products';\r\nimport Product from '../../pages/Product';\r\nimport ShoppingCartPage from '../../pages/ShoppingCartpage';\r\nimport RecipientPage from '../../pages/RecipientPage';\r\nimport { getAuthToken } from '../../utils';\r\nimport TransactionPage from '../../pages/TransactionPage';\r\nimport {\r\n  AddProductPage,\r\n  AddModelPage,\r\n  AllProductsPage,\r\n  OrdersPage,\r\n  SingleOrderPage,\r\n  AddPhotoPage,\r\n  ProductModelsPage,\r\n  EditProductPage,\r\n  EditModelPage,\r\n} from '../../pages/backstage';\r\nimport Themes from '../../style/Themes';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport OrderInfo from '../../pages/OrderInfo';\r\nimport Login from '../../pages/Login';\r\nimport AdminLogin from '../../pages/AdminLogin';\r\nimport Signup from '../../pages/Signup';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectIsBackstageMode } from '../../redux/reducers/themeSlice';\r\nimport {\r\n  selectUserLevel,\r\n  getMemberInfo,\r\n} from '../../redux/reducers/usersSlice';\r\n\r\nconst Auth = ({ component: Component, role }) => {\r\n  const dispatch = useDispatch();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const userLevel = useSelector(selectUserLevel);\r\n\r\n  useEffect(() => {\r\n    if (getAuthToken()) {\r\n      dispatch(getMemberInfo()).then((res) => {\r\n        setIsLoading(false);\r\n      });\r\n    } else {\r\n      setIsLoading(false);\r\n    }\r\n  }, [dispatch]);\r\n\r\n  switch (role) {\r\n    case 'guest':\r\n      if (isLoading) return <></>;\r\n      return <Component />;\r\n    case 'member':\r\n      if (isLoading) return <></>;\r\n      return userLevel === role ? <Component /> : <Redirect to=\"/login\" />;\r\n    case 'admin':\r\n      if (isLoading) return <></>;\r\n      return userLevel === role ? (\r\n        <Component />\r\n      ) : (\r\n        <Redirect to=\"/backstage/adminLogin\" />\r\n      );\r\n    default:\r\n      break;\r\n  }\r\n};\r\n\r\nfunction App() {\r\n  const isBackstageMode = useSelector(selectIsBackstageMode);\r\n\r\n  return (\r\n    <ThemeProvider theme={isBackstageMode ? Themes.backstage : Themes.customer}>\r\n      <Router>\r\n        <Header />\r\n        <Switch>\r\n          {/* public */}\r\n          <Route exact path=\"/\">\r\n            <Auth component={HomePage} role=\"guest\" />\r\n          </Route>\r\n          <Route exact path=\"/products/:type\">\r\n            <Auth component={Products} role=\"guest\" />\r\n          </Route>\r\n          <Route exact path=\"/product/:id\">\r\n            <Auth component={Product} role=\"guest\" />\r\n          </Route>\r\n          <Route exact path=\"/login\">\r\n            <Auth component={Login} role=\"guest\" />\r\n          </Route>\r\n          <Route exact path=\"/signup\">\r\n            <Auth component={Signup} role=\"guest\" />\r\n          </Route>\r\n          <Route exact path=\"/backstage/adminLogin\">\r\n            <Auth component={AdminLogin} role=\"guest\" />\r\n          </Route>\r\n          <Route exact path=\"/about\">\r\n            <Auth component={About} role=\"guest\" />\r\n          </Route>\r\n          {/* member */}\r\n          <Route exact path=\"/shopping-cart\">\r\n            <Auth component={ShoppingCartPage} role=\"member\" />\r\n          </Route>\r\n          <Route exact path=\"/recipient/:id\">\r\n            <Auth component={RecipientPage} role=\"member\" />\r\n          </Route>\r\n          <Route exact path=\"/transaction/:id\">\r\n            <Auth component={TransactionPage} role=\"member\" />\r\n          </Route>\r\n          <Route exact path=\"/membership/info\">\r\n            <Auth component={Info} role=\"member\" />\r\n          </Route>\r\n          <Route exact path=\"/membership/order\">\r\n            <Auth component={CheckOrder} role=\"member\" />\r\n          </Route>\r\n          <Route exact path=\"/membership/order/:id\">\r\n            <Auth component={OrderInfo} role=\"member\" />\r\n          </Route>\r\n          {/* admin */}\r\n          <Route exact path=\"/backstage/adminLogin\">\r\n            <Auth component={AdminLogin} role=\"admin\" />\r\n          </Route>\r\n          <Route exact path=\"/backstage/products\">\r\n            <Auth component={AllProductsPage} role=\"admin\" />\r\n          </Route>\r\n          <Route exact path=\"/backstage/add-product\">\r\n            <Auth component={AddProductPage} role=\"admin\" />\r\n          </Route>\r\n          <Route exact path=\"/backstage/add-product/photo/:id\">\r\n            <Auth component={AddPhotoPage} role=\"admin\" />\r\n          </Route>\r\n          <Route exact path=\"/backstage/edit-product/:id\">\r\n            <Auth component={EditProductPage} role=\"admin\" />\r\n          </Route>\r\n          <Route exact path=\"/backstage/product-models/:id\">\r\n            <Auth component={ProductModelsPage} role=\"admin\" />\r\n          </Route>\r\n          <Route exact path=\"/backstage/edit-model/:id\">\r\n            <Auth component={EditModelPage} role=\"admin\" />\r\n          </Route>\r\n          <Route exact path=\"/backstage/add-model/:id/:action\">\r\n            <Auth component={AddModelPage} role=\"admin\" />\r\n          </Route>\r\n          <Route exact path=\"/backstage/orders\">\r\n            <Auth component={OrdersPage} role=\"admin\" />\r\n          </Route>\r\n          <Route exact path=\"/backstage/orders/:uuid\">\r\n            <Auth component={SingleOrderPage} role=\"admin\" />\r\n          </Route>\r\n          <Redirect to=\"/\" />\r\n        </Switch>\r\n        <Footer />\r\n      </Router>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport themeReducer from '../reducers/themeSlice';\r\nimport usersSlice from '../reducers/usersSlice';\r\nimport productsSlice from '../reducers/productsSlice';\r\nimport modelsSlice from '../reducers/modelsSlice';\r\nimport ordersSlice from '../reducers/ordersSlice';\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    theme: themeReducer,\r\n    users: usersSlice,\r\n    products: productsSlice,\r\n    models:modelsSlice,\r\n    orders: ordersSlice,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './component/App';\r\nimport store from './redux/store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}